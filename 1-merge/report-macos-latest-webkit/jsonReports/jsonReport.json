{
  "config": {
    "configFile": "/Users/runner/work/playwright-portfolio/playwright-portfolio/playwright.config.ts",
    "rootDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/tests",
    "forbidOnly": false,
    "fullyParallel": false,
    "globalSetup": null,
    "globalTeardown": null,
    "globalTimeout": 0,
    "grep": {},
    "grepInvert": null,
    "maxFailures": 0,
    "metadata": {
      "ci": {
        "commitHref": "https://github.com/smenouillard/playwright-portfolio/commit/e963e46a9ae91c07fd2c147d32c0750ab7c55664",
        "commitHash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
        "prHref": "https://github.com/smenouillard/playwright-portfolio/pull/1",
        "prTitle": "feat(dashboard): add hybrid dashboard system",
        "prBaseHash": "88e78dd2976c075952af2c2dd8234303e96872e6",
        "buildHref": "https://github.com/smenouillard/playwright-portfolio/actions/runs/19676876690"
      },
      "gitCommit": {
        "shortHash": "e963e46",
        "hash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
        "subject": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6",
        "body": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6\n",
        "author": {
          "name": "smenouillard",
          "email": "smenouillard@gmail.com",
          "time": 1764088436000
        },
        "committer": {
          "name": "GitHub",
          "email": "noreply@github.com",
          "time": 1764088436000
        },
        "branch": "HEAD"
      },
      "gitDiff": "diff --git a/.github/workflows/playwright.yml b/.github/workflows/playwright.yml\nindex b3faf26..048a648 100644\n--- a/.github/workflows/playwright.yml\n+++ b/.github/workflows/playwright.yml\n@@ -3,6 +3,12 @@\n \n name: Playwright E2E Tests\n \n+# Required permissions for posting PR comments, writing previews, etc.\n+permissions:\n+  contents: read\n+  issues: write\n+  pull-requests: write\n+\n on:\n   push:\n     branches: [main, master]\n@@ -88,7 +94,7 @@ jobs:\n         run: xvfb-run npx playwright test --project=${{ matrix.browser }} || true\n \n       # Run tests on Windows/macOS\n-      - name: Run tests (Windows/macOS)\n+      - name: Run tests (Windows/macCOS)\n         if: matrix.os != 'ubuntu-latest'\n         run: npx playwright test --project=${{ matrix.browser }} || true\n \n@@ -177,11 +183,91 @@ jobs:\n           }'\n           METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n \n-      # Publish to GitHub Pages\n+      # Publish to GitHub Pages (using keep_files instead of force_orphan)\n       - name: Publish to Pages\n         uses: peaceiris/actions-gh-pages@v3.9.2\n         with:\n           github_token: ${{ secrets.PAT }}\n           publish_dir: ./reports\n           commit_message: \"Publish Playwright dashboard [skip ci]\"\n-          force_orphan: true\n+          keep_files: true # ‚Üê ONLY CHANGE\n+\n+  publish-preview:\n+    name: Publish Preview Dashboard\n+    runs-on: ubuntu-latest\n+    needs: test\n+    if: always() && github.ref != 'refs/heads/main'\n+\n+    steps:\n+      # Checkout source\n+      - name: Checkout\n+        uses: actions/checkout@v4.1.1\n+\n+      # Download artifacts\n+      - name: Download artifacts\n+        uses: actions/download-artifact@v4\n+        with:\n+          path: ./reports\n+\n+      # Extract HTML reports for preview\n+      - name: Extract HTML reports\n+        shell: bash\n+        run: |\n+          cd reports\n+          for dir in report-*; do\n+            if [ -d \"$dir\" ] && [ -f \"$dir/playwright-report.zip\" ]; then\n+              mkdir -p \"$dir/playwright-report\"\n+              unzip -q \"$dir/playwright-report.zip\" -d \"$dir/playwright-report\"\n+            fi\n+          done\n+\n+      # Generate preview dashboard\n+      - name: Generate dashboard (preview)\n+        run: |\n+          BRANCH_NAME_SAFE=\"${GITHUB_REF_NAME//\\//-}\"\n+\n+          metadata='{\n+            \"publishTimestamp\": \"'\"$(date -u '+%Y-%m-%d %H:%M UTC')\"'\",\n+            \"commitSha\": \"'\"$GITHUB_SHA\"'\",\n+            \"runNumber\": \"'\"$GITHUB_RUN_NUMBER\"'\",\n+            \"runUrl\": \"https://github.com/'\"$GITHUB_REPOSITORY\"'/actions/runs/'\"$GITHUB_RUN_ID\"'\"\n+          }'\n+\n+          METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n+\n+          mkdir -p \"previews/$BRANCH_NAME_SAFE\"\n+          cp -r reports/* \"previews/$BRANCH_NAME_SAFE/\" || true\n+\n+      # Publish preview dashboard\n+      - name: Publish preview to Pages\n+        uses: peaceiris/actions-gh-pages@v3.9.2\n+        with:\n+          github_token: ${{ secrets.PAT }}\n+          publish_dir: ./previews\n+          commit_message: \"Publish preview dashboard for ${{ github.ref_name }} [skip ci]\"\n+          keep_files: true\n+\n+      # Post preview link comment on PR\n+      - name: Comment preview link on PR\n+        if: github.event_name == 'pull_request'\n+        uses: actions/github-script@v7\n+        with:\n+          script: |\n+            const branch = process.env.GITHUB_REF_NAME.replace(/\\//g, \"-\");\n+            const url  = `https://smenouillard.github.io/Playwright-portfolio/previews/${branch}/`;\n+\n+            const body = [\n+              \"### Preview Dashboard Ready\",\n+              \"\",\n+              \"**URL:**  \",\n+              url,\n+              \"\",\n+              \"_This link updates automatically with each push to this branch._\"\n+            ].join(\"\\n\");\n+\n+            github.rest.issues.createComment({\n+              issue_number: context.issue.number,\n+              owner: context.repo.owner,\n+              repo: context.repo.repo,\n+              body\n+            });\ndiff --git a/scripts/generate-index.js b/scripts/generate-index.js\nindex b202555..cebce64 100644\n--- a/scripts/generate-index.js\n+++ b/scripts/generate-index.js\n@@ -1,19 +1,28 @@\n // /scripts/generate-index.js\n-// Generate Playwright dashboard using HTML template\n+// generate dashboard\n \n const fs = require(\"fs\");\n const path = require(\"path\");\n \n-// --- Setup paths ---\n+// Utility: format UTC timestamps\n+function formatUtcTimestamp(raw) {\n+  if (!raw) return \"N/A\";\n+  const date = new Date(raw);\n+  if (isNaN(date.getTime())) return raw + \" UTC\";\n+  const yyyy = date.getUTCFullYear();\n+  const mm = String(date.getUTCMonth() + 1).padStart(2, \"0\");\n+  const dd = String(date.getUTCDate()).padStart(2, \"0\");\n+  const hh = String(date.getUTCHours()).padStart(2, \"0\");\n+  const min = String(date.getUTCMinutes()).padStart(2, \"0\");\n+  return `${yyyy}-${mm}-${dd} ${hh}:${min} UTC`;\n+}\n+\n+// Setup paths\n const REPORTS_DIR = path.join(process.cwd(), \"reports\");\n const TEMPLATE_PATH = path.join(__dirname, \"templates\", \"index.html\");\n-const METADATA_RELATIVE = path.join(\"metadata\", \"metadata.json\");\n-const JSON_REPORT_RELATIVE = path.join(\"jsonReports\", \"jsonReport.json\");\n-\n-// --- Load HTML template ---\n let template = fs.readFileSync(TEMPLATE_PATH, \"utf8\");\n \n-// --- Load global CI metadata ---\n+// Load global metadata\n let globalMeta = {};\n try {\n   globalMeta = JSON.parse(process.env.METADATA_JSON || \"{}\");\n@@ -21,14 +30,14 @@ try {\n   globalMeta = {};\n }\n \n-// --- Define OS badges ---\n+// OS badges\n const osBadges = {\n   \"ubuntu-latest\": { emoji: \"üêß\", label: \"Ubuntu\" },\n   \"windows-latest\": { emoji: \"ü™ü\", label: \"Windows\" },\n   \"macos-latest\": { emoji: \"üçé\", label: \"macOS\" },\n };\n \n-// --- Define browser badges ---\n+// Browser badges\n const browserBadges = {\n   chromium: { emoji: \"üåê\", label: \"Chromium\" },\n   firefox: { emoji: \"ü¶ä\", label: \"Firefox\" },\n@@ -36,151 +45,148 @@ const browserBadges = {\n   edge: { emoji: \"üü¶\", label: \"Edge\" },\n };\n \n-// --- Format duration from seconds ---\n-function formatDurationSeconds(value) {\n-  const seconds = Math.round(value || 0);\n-  const minutes = Math.floor(seconds / 60);\n-  const remain = seconds % 60;\n-  return minutes > 0 ? `${minutes}m ${remain}s` : `${remain}s`;\n-}\n-\n-// --- Build summary object from Playwright stats ---\n-function computeSummary(stats) {\n-  if (!stats) {\n+// Parse Playwright JSON stats\n+function parseJsonStats(filePath) {\n+  if (!fs.existsSync(filePath)) return null;\n+  try {\n+    const json = JSON.parse(fs.readFileSync(filePath, \"utf8\"));\n+    const stats = json.stats || {};\n+    const totalTests =\n+      (stats.expected || 0) +\n+      (stats.unexpected || 0) +\n+      (stats.skipped || 0);\n     return {\n-      totalTests: 0,\n-      totalFailures: 0,\n-      totalSkipped: 0,\n-      totalTimeSec: 0,\n+      totalTests,\n+      totalFailures: stats.unexpected || 0,\n+      totalSkipped: stats.skipped || 0,\n+      totalTimeSec: (stats.duration || 0) / 1000,\n     };\n+  } catch {\n+    return null;\n   }\n+}\n \n-  const totalTests =\n-    (stats.expected || 0) +\n-    (stats.unexpected || 0) +\n-    (stats.skipped || 0);\n-  const totalFailures = stats.unexpected || 0;\n-  const totalSkipped = stats.skipped || 0;\n-  const totalTimeSec = (stats.duration || 0) / 1000;\n-\n+// Parse JUnit XML\n+function parseJUnitSummary(xml) {\n+  if (!xml) return null;\n+  const suiteRegex = /<testsuite\\b([^>]*)>/g;\n+  let totalTests = 0;\n+  let totalFailures = 0;\n+  let totalSkipped = 0;\n+  let totalTime = 0;\n+  let match;\n+  while ((match = suiteRegex.exec(xml)) !== null) {\n+    const attrs = match[1];\n+    const get = (name) => {\n+      const re = new RegExp(name + '=\"([^\"]+)\"');\n+      const m = re.exec(attrs);\n+      return m ? m[1] : null;\n+    };\n+    totalTests += parseInt(get(\"tests\") || \"0\", 10);\n+    totalFailures += parseInt(get(\"failures\") || \"0\", 10);\n+    totalSkipped += parseInt(get(\"skipped\") || \"0\", 10);\n+    totalTime += parseFloat(get(\"time\") || \"0\");\n+  }\n   return {\n     totalTests,\n     totalFailures,\n     totalSkipped,\n-    totalTimeSec,\n+    totalTimeSec: totalTime,\n   };\n }\n \n-// --- Determine status pill ---\n+// Status pill logic\n function statusInfo(summary) {\n-  if (summary.totalFailures > 0) {\n+  if (!summary)\n+    return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n+  if (summary.totalFailures > 0)\n     return { text: \"FAIL\", emoji: \"üî¥\", css: \"pill-fail\", code: \"fail\" };\n-  }\n-  if (summary.totalSkipped > 0) {\n+  if (summary.totalSkipped > 0)\n     return { text: \"SKIPPED\", emoji: \"üü°\", css: \"pill-skip\", code: \"skip\" };\n-  }\n-  if (summary.totalTests > 0) {\n+  if (summary.totalTests > 0)\n     return { text: \"PASS\", emoji: \"üü¢\", css: \"pill-pass\", code: \"pass\" };\n-  }\n   return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n }\n \n-// --- Load one report entry ---\n+// Load one report folder\n function loadRunEntry(dirName) {\n-  const folderPath = path.join(REPORTS_DIR, dirName);\n-  const metadataFile = path.join(folderPath, METADATA_RELATIVE);\n-\n-  if (!fs.existsSync(metadataFile)) return null;\n-\n+  const folder = path.join(REPORTS_DIR, dirName);\n+  const metadataPath = path.join(folder, \"metadata\", \"metadata.json\");\n+  if (!fs.existsSync(metadataPath)) return null;\n   let metadata;\n   try {\n-    metadata = JSON.parse(fs.readFileSync(metadataFile, \"utf8\"));\n+    metadata = JSON.parse(fs.readFileSync(metadataPath, \"utf8\"));\n   } catch {\n     return null;\n   }\n-\n-  const jsonReportFile = path.join(folderPath, JSON_REPORT_RELATIVE);\n-  let stats = null;\n-\n-  if (fs.existsSync(jsonReportFile)) {\n+  const jsonStats = parseJsonStats(\n+    path.join(folder, \"jsonReports\", \"jsonReport.json\")\n+  );\n+  let junitStats = null;\n+  const junitPath = path.join(folder, \"junit\", \"test-results.xml\");\n+  if (fs.existsSync(junitPath)) {\n     try {\n-      const jsonReport = JSON.parse(\n-        fs.readFileSync(jsonReportFile, \"utf8\")\n-      );\n-      stats = jsonReport.stats || null;\n-    } catch {\n-      stats = null;\n-    }\n+      const xml = fs.readFileSync(junitPath, \"utf8\");\n+      junitStats = parseJUnitSummary(xml);\n+    } catch { }\n   }\n-\n-  const summary = computeSummary(stats);\n-\n-  const osMeta =\n-    osBadges[metadata.os] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.os || \"Unknown OS\",\n-    };\n-\n-  const browserMeta =\n-    browserBadges[metadata.browser] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.browser || \"Unknown\",\n-    };\n-\n-  const status = statusInfo(summary);\n-\n+  const finalStats = jsonStats || junitStats || {\n+    totalTests: 0,\n+    totalFailures: 0,\n+    totalSkipped: 0,\n+    totalTimeSec: 0,\n+  };\n+  const status = statusInfo(finalStats);\n+  const osMeta = osBadges[metadata.os] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.os || \"Unknown OS\",\n+  };\n+  const browserMeta = browserBadges[metadata.browser] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.browser || \"Unknown\",\n+  };\n   return {\n     name: dirName,\n     metadata,\n-    summary,\n+    stats: finalStats,\n+    status,\n     os: osMeta,\n     browser: browserMeta,\n-    status,\n   };\n }\n \n-// --- Load all report entries ---\n+// Load entries\n function loadEntries() {\n   if (!fs.existsSync(REPORTS_DIR)) return [];\n-\n-  const dirents = fs\n+  return fs\n     .readdirSync(REPORTS_DIR, { withFileTypes: true })\n-    .filter((d) => d.isDirectory());\n-\n-  const entries = dirents\n-    .filter((d) => d.name.startsWith(\"report-\"))\n+    .filter((d) => d.isDirectory() && d.name.startsWith(\"report-\"))\n     .map((d) => loadRunEntry(d.name))\n     .filter(Boolean);\n-\n-  return entries;\n }\n \n-// --- Define OS order for display ---\n+// OS sorting priority\n const OS_ORDER = [\"windows-latest\", \"macos-latest\", \"ubuntu-latest\"];\n \n-// --- Sort entries by OS and then by browser ---\n+// Sort entries\n function sortEntries(entries) {\n-  return entries.slice().sort((a, b) => {\n-    const aIndex = OS_ORDER.indexOf(a.metadata.os);\n-    const bIndex = OS_ORDER.indexOf(b.metadata.os);\n-\n-    const aRank = aIndex === -1 ? OS_ORDER.length : aIndex;\n-    const bRank = bIndex === -1 ? OS_ORDER.length : bIndex;\n-\n-    if (aRank !== bRank) return aRank - bRank;\n-\n-    return (a.metadata.browser || \"\").localeCompare(\n-      b.metadata.browser || \"\"\n-    );\n+  return entries.sort((a, b) => {\n+    const aOs = OS_ORDER.indexOf(a.metadata.os);\n+    const bOs = OS_ORDER.indexOf(b.metadata.os);\n+    if (aOs !== bOs) return aOs - bOs;\n+    if (a.metadata.browser !== b.metadata.browser) {\n+      return (a.metadata.browser || \"\").localeCompare(\n+        b.metadata.browser || \"\"\n+      );\n+    }\n+    const order = { fail: 0, skip: 1, pass: 2, none: 3 };\n+    return order[a.status.code] - order[b.status.code];\n   });\n }\n \n-// --- Build summary table HTML ---\n+// Build summary table\n function buildSummaryTable(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let html = `\n <table class=\"summary\">\n   <thead>\n@@ -189,115 +195,102 @@ function buildSummaryTable(entries) {\n       <th>OS</th>\n       <th>Browser</th>\n       <th>Total</th>\n-      <th>Failed</th>\n+      <th>Failures</th>\n       <th>Skipped</th>\n       <th>Duration</th>\n     </tr>\n   </thead>\n   <tbody>\n `;\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n     html += `\n-    <tr class=\"summary-row\" data-status=\"${e.status.code}\">\n-      <td class=\"status-cell\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-      </td>\n-      <td>${e.os.emoji} ${e.os.label}</td>\n-      <td>${e.browser.emoji} ${e.browser.label}</td>\n-      <td class=\"num-cell\">${e.summary.totalTests}</td>\n-      <td class=\"num-cell\">${e.summary.totalFailures}</td>\n-      <td class=\"num-cell\">${e.summary.totalSkipped}</td>\n-      <td>${formatDurationSeconds(e.summary.totalTimeSec)}</td>\n-    </tr>\n-`;\n-  });\n-\n+<tr class=\"summary-row\" data-status=\"${e.status.code}\">\n+  <td class=\"status-cell\">\n+    <span class=\"status-pill ${e.status.css}\">\n+      ${e.status.emoji} ${e.status.text}\n+    </span>\n+  </td>\n+  <td>${e.os.emoji} ${e.os.label}</td>\n+  <td>${e.browser.emoji} ${e.browser.label}</td>\n+  <td class=\"num-cell\">${e.stats.totalTests}</td>\n+  <td class=\"num-cell\">${e.stats.totalFailures}</td>\n+  <td class=\"num-cell\">${e.stats.totalSkipped}</td>\n+  <td>${Math.round(e.stats.totalTimeSec)}s</td>\n+</tr>`;\n+  }\n   html += `\n   </tbody>\n </table>\n `;\n-\n   return html;\n }\n \n-// --- Build detailed report blocks HTML ---\n+// Build hybrid blocks\n function buildReportBlocks(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let blocks = \"\";\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n+    const timestamp = formatUtcTimestamp(e.metadata.timestamp);\n     blocks += `\n <div class=\"report-block\" data-status=\"${e.status.code}\">\n   <div class=\"report-header\">\n     <div class=\"report-header-main\">\n-      <div class=\"report-title\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-        <span class=\"os-label\">${e.os.emoji} ${e.os.label}</span>\n-        <span class=\"browser-label\">${e.browser.emoji} ${e.browser.label}</span>\n-      </div>\n-      <div class=\"report-header-meta\">\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Tests:</span>\n-          <span class=\"meta-value\">${e.summary.totalTests}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Failed:</span>\n-          <span class=\"meta-value\">${e.summary.totalFailures}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Skipped:</span>\n-          <span class=\"meta-value\">${e.summary.totalSkipped}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Duration:</span>\n-          <span class=\"meta-value\">${formatDurationSeconds(\n-      e.summary.totalTimeSec\n-    )}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Timestamp:</span>\n-          <span class=\"meta-value\">${e.metadata.timestamp || \"\"}</span>\n-        </div>\n-      </div>\n-      <div class=\"links\">\n-        <a href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">\n-          Open HTML report\n-        </a>\n-        <a href=\"./${e.name}/playwright-report.zip\" download>\n-          Download ZIP\n-        </a>\n-      </div>\n+      <span class=\"status-pill ${e.status.css}\">\n+        ${e.status.emoji} ${e.status.text}\n+      </span>\n+      <span class=\"badge os-badge\">${e.os.emoji} ${e.os.label}</span>\n+      <span class=\"badge browser-badge\">${e.browser.emoji} ${e.browser.label}</span>\n+    </div>\n+    <span class=\"caret\">‚ñº</span>\n+  </div>\n+\n+  <div class=\"report-content\">\n+\n+    <div class=\"report-meta-grid\">\n+      <div class=\"meta-row\"><span class=\"meta-label\">Tests:</span><span class=\"meta-value\">${e.stats.totalTests}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Failed:</span><span class=\"meta-value\">${e.stats.totalFailures}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Skipped:</span><span class=\"meta-value\">${e.stats.totalSkipped}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Duration:</span><span class=\"meta-value\">${Math.round(e.stats.totalTimeSec)}s</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Timestamp:</span><span class=\"meta-value\">${timestamp}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Runner:</span><span class=\"meta-value\">${e.metadata.os}</span></div>\n     </div>\n+\n+    <div class=\"quick-summary\">\n+      üìä <strong>${e.stats.totalTests}</strong> tests ‚Ä¢\n+      ‚ö† <strong>${e.stats.totalFailures}</strong> failed ‚Ä¢\n+      ‚ûñ <strong>${e.stats.totalSkipped}</strong> skipped ‚Ä¢\n+      ‚è± <strong>${Math.round(e.stats.totalTimeSec)}s</strong>\n+    </div>\n+\n+    <div class=\"links\">\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">üìÑ HTML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/jsonReports/jsonReport.json\" target=\"_blank\">üß© JSON</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/junit/test-results.xml\" target=\"_blank\">üìë XML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report.zip\" download>üì¶ ZIP</a>\n+      <a class=\"link-pill\" href=\"${globalMeta.runUrl}\" target=\"_blank\">üìò Logs</a>\n+    </div>\n+\n   </div>\n </div>\n `;\n-  });\n-\n+  }\n   return blocks;\n }\n \n-// --- Generate dashboard HTML ---\n+// Generate final HTML\n const entries = sortEntries(loadEntries());\n const summaryTable = buildSummaryTable(entries);\n const reportBlocks = buildReportBlocks(entries);\n \n template = template\n-  .replace(\"{{PUBLISH_TIMESTAMP}}\", globalMeta.publishTimestamp || \"N/A\")\n+  .replace(\"{{PUBLISH_TIMESTAMP}}\", formatUtcTimestamp(globalMeta.publishTimestamp))\n   .replace(\"{{COMMIT_SHA}}\", globalMeta.commitSha || \"N/A\")\n   .replace(\"{{RUN_NUMBER}}\", globalMeta.runNumber || \"N/A\")\n   .replace(\"{{RUN_URL}}\", globalMeta.runUrl || \"#\")\n   .replace(\"{{SUMMARY_TABLE}}\", summaryTable)\n   .replace(\"{{REPORT_LIST}}\", reportBlocks);\n \n-// --- Write final index.html ---\n+// Write dashboard\n fs.writeFileSync(path.join(REPORTS_DIR, \"index.html\"), template, \"utf8\");\n \n-console.log(\"Dashboard generated successfully.\");\n+console.log(\"Super Dashboard (Hybrid Version) generated successfully.\");\ndiff --git a/scripts/templates/index.html b/scripts/templates/index.html\nindex bbb93d9..b4745a2 100644\n--- a/scripts/templates/index.html\n+++ b/scripts/templates/index.html\n@@ -116,7 +116,11 @@\n       border-radius: 8px;\n       background: var(--card-bg);\n       box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);\n-      transition: box-shadow 0.15s ease, transform 0.15s ease, background 0.2s ease;\n+      transition:\n+        box-shadow 0.15s ease,\n+        transform 0.15s ease,\n+        background 0.2s ease,\n+        border-color 0.2s ease;\n     }\n \n     .report-block:hover {\n@@ -129,12 +133,14 @@\n       align-items: center;\n       justify-content: space-between;\n       cursor: pointer;\n+      gap: 10px;\n     }\n \n     .report-header-main {\n       display: flex;\n       align-items: center;\n       gap: 8px;\n+      flex-wrap: wrap;\n     }\n \n     .caret {\n@@ -151,9 +157,60 @@\n       display: none;\n     }\n \n-    .links a {\n-      margin-right: 12px;\n+    .report-meta-grid {\n+      display: grid;\n+      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n+      gap: 4px 16px;\n+      margin-bottom: 8px;\n+    }\n+\n+    .meta-row {\n+      display: flex;\n+      justify-content: space-between;\n+      font-size: 13px;\n+    }\n+\n+    .meta-label {\n+      font-weight: 600;\n+      margin-right: 6px;\n+    }\n+\n+    .meta-value {\n+      text-align: right;\n+      opacity: 0.9;\n+    }\n+\n+    .quick-summary {\n+      font-size: 13px;\n+      margin: 6px 0 10px;\n+    }\n+\n+    .quick-summary strong {\n+      font-weight: 600;\n+    }\n+\n+    .links {\n+      display: flex;\n+      flex-wrap: wrap;\n+      gap: 8px;\n+      margin-top: 4px;\n+    }\n+\n+    .link-pill {\n+      display: inline-block;\n+      padding: 4px 10px;\n+      border-radius: 999px;\n+      border: 1px solid var(--border-color);\n+      font-size: 12px;\n       text-decoration: none;\n+      background: var(--card-bg);\n+      transition: background 0.15s ease, border-color 0.15s ease;\n+      white-space: nowrap;\n+    }\n+\n+    .link-pill:hover {\n+      background: var(--table-header-bg);\n+      border-color: var(--link-color);\n     }\n \n     table.summary {\n@@ -205,7 +262,10 @@\n       border-radius: 999px;\n       cursor: pointer;\n       font-size: 13px;\n-      transition: background 0.15s ease, border-color 0.15s ease;\n+      transition:\n+        background 0.15s ease,\n+        border-color 0.15s ease,\n+        color 0.15s ease;\n     }\n \n     .toggle-btn:hover,\n@@ -252,7 +312,7 @@\n \n   <h1>Playwright Reports</h1>\n \n-  <p><strong>Published:</strong> {{PUBLISH_TIMESTAMP}}</p>\n+  <p><strong>Published (UTC):</strong> {{PUBLISH_TIMESTAMP}}</p>\n   <p><strong>Commit:</strong> {{COMMIT_SHA}}</p>\n   <p><strong>Run:</strong> #{{RUN_NUMBER}}</p>\n   <p><a href=\"{{RUN_URL}}\">View Full Run Logs</a></p>\n@@ -288,19 +348,23 @@\n       const body = document.body;\n       const themeToggle = document.getElementById('theme-toggle');\n \n+      // THEME\n       const savedTheme = localStorage.getItem('pw-theme');\n       if (savedTheme === 'dark') {\n         body.classList.add('dark-mode');\n-        themeToggle.textContent = '‚òÄÔ∏è Light mode';\n+        if (themeToggle) themeToggle.textContent = '‚òÄÔ∏è Light mode';\n       }\n \n-      themeToggle.addEventListener('click', () => {\n-        body.classList.toggle('dark-mode');\n-        const isDark = body.classList.contains('dark-mode');\n-        localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n-        themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n-      });\n+      if (themeToggle) {\n+        themeToggle.addEventListener('click', () => {\n+          body.classList.toggle('dark-mode');\n+          const isDark = body.classList.contains('dark-mode');\n+          localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n+          themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n+        });\n+      }\n \n+      // FILTERS\n       const filterButtons = document.querySelectorAll('.filter-btn');\n \n       function applyFilter(filter) {\n@@ -308,12 +372,12 @@\n         const blocks = document.querySelectorAll('.report-block');\n \n         rows.forEach(row => {\n-          const status = row.dataset.status;\n+          const status = (row.dataset.status || '').toLowerCase();\n           row.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n \n         blocks.forEach(block => {\n-          const status = block.dataset.status;\n+          const status = (block.dataset.status || '').toLowerCase();\n           block.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n       }\n@@ -326,21 +390,27 @@\n         });\n       });\n \n+      // COLLAPSIBLE REPORT BLOCKS\n       const reportBlocks = document.querySelectorAll('.report-block');\n       reportBlocks.forEach(block => {\n         const header = block.querySelector('.report-header');\n         const caret = block.querySelector('.caret');\n-        const status = block.dataset.status;\n+        const status = (block.dataset.status || '').toLowerCase();\n \n+        // Default: PASS + NONE collapsed, FAIL + SKIP expanded\n         if (status === 'pass' || status === 'none') {\n           block.classList.add('collapsed');\n-          caret.textContent = '‚ñ∂';\n+          if (caret) caret.textContent = '‚ñ∂';\n+        } else {\n+          if (caret) caret.textContent = '‚ñº';\n         }\n \n-        header.addEventListener('click', () => {\n-          const isCollapsed = block.classList.toggle('collapsed');\n-          caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n-        });\n+        if (header) {\n+          header.addEventListener('click', () => {\n+            const isCollapsed = block.classList.toggle('collapsed');\n+            if (caret) caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n+          });\n+        }\n       });\n     });\n   </script>",
      "actualWorkers": 2
    },
    "preserveOutput": "always",
    "reporter": [
      [
        "github",
        null
      ],
      [
        "list",
        null
      ],
      [
        "json",
        {
          "outputFile": "jsonReports/jsonReport.json"
        }
      ],
      [
        "html",
        {
          "outputFolder": "playwright-report",
          "open": "never"
        }
      ],
      [
        "junit",
        {
          "outputFile": "junit/test-results.xml"
        }
      ]
    ],
    "reportSlowTests": {
      "max": 5,
      "threshold": 300000
    },
    "quiet": false,
    "projects": [
      {
        "outputDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "ci": {
            "commitHref": "https://github.com/smenouillard/playwright-portfolio/commit/e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "commitHash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "prHref": "https://github.com/smenouillard/playwright-portfolio/pull/1",
            "prTitle": "feat(dashboard): add hybrid dashboard system",
            "prBaseHash": "88e78dd2976c075952af2c2dd8234303e96872e6",
            "buildHref": "https://github.com/smenouillard/playwright-portfolio/actions/runs/19676876690"
          },
          "gitCommit": {
            "shortHash": "e963e46",
            "hash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "subject": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6",
            "body": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6\n",
            "author": {
              "name": "smenouillard",
              "email": "smenouillard@gmail.com",
              "time": 1764088436000
            },
            "committer": {
              "name": "GitHub",
              "email": "noreply@github.com",
              "time": 1764088436000
            },
            "branch": "HEAD"
          },
          "gitDiff": "diff --git a/.github/workflows/playwright.yml b/.github/workflows/playwright.yml\nindex b3faf26..048a648 100644\n--- a/.github/workflows/playwright.yml\n+++ b/.github/workflows/playwright.yml\n@@ -3,6 +3,12 @@\n \n name: Playwright E2E Tests\n \n+# Required permissions for posting PR comments, writing previews, etc.\n+permissions:\n+  contents: read\n+  issues: write\n+  pull-requests: write\n+\n on:\n   push:\n     branches: [main, master]\n@@ -88,7 +94,7 @@ jobs:\n         run: xvfb-run npx playwright test --project=${{ matrix.browser }} || true\n \n       # Run tests on Windows/macOS\n-      - name: Run tests (Windows/macOS)\n+      - name: Run tests (Windows/macCOS)\n         if: matrix.os != 'ubuntu-latest'\n         run: npx playwright test --project=${{ matrix.browser }} || true\n \n@@ -177,11 +183,91 @@ jobs:\n           }'\n           METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n \n-      # Publish to GitHub Pages\n+      # Publish to GitHub Pages (using keep_files instead of force_orphan)\n       - name: Publish to Pages\n         uses: peaceiris/actions-gh-pages@v3.9.2\n         with:\n           github_token: ${{ secrets.PAT }}\n           publish_dir: ./reports\n           commit_message: \"Publish Playwright dashboard [skip ci]\"\n-          force_orphan: true\n+          keep_files: true # ‚Üê ONLY CHANGE\n+\n+  publish-preview:\n+    name: Publish Preview Dashboard\n+    runs-on: ubuntu-latest\n+    needs: test\n+    if: always() && github.ref != 'refs/heads/main'\n+\n+    steps:\n+      # Checkout source\n+      - name: Checkout\n+        uses: actions/checkout@v4.1.1\n+\n+      # Download artifacts\n+      - name: Download artifacts\n+        uses: actions/download-artifact@v4\n+        with:\n+          path: ./reports\n+\n+      # Extract HTML reports for preview\n+      - name: Extract HTML reports\n+        shell: bash\n+        run: |\n+          cd reports\n+          for dir in report-*; do\n+            if [ -d \"$dir\" ] && [ -f \"$dir/playwright-report.zip\" ]; then\n+              mkdir -p \"$dir/playwright-report\"\n+              unzip -q \"$dir/playwright-report.zip\" -d \"$dir/playwright-report\"\n+            fi\n+          done\n+\n+      # Generate preview dashboard\n+      - name: Generate dashboard (preview)\n+        run: |\n+          BRANCH_NAME_SAFE=\"${GITHUB_REF_NAME//\\//-}\"\n+\n+          metadata='{\n+            \"publishTimestamp\": \"'\"$(date -u '+%Y-%m-%d %H:%M UTC')\"'\",\n+            \"commitSha\": \"'\"$GITHUB_SHA\"'\",\n+            \"runNumber\": \"'\"$GITHUB_RUN_NUMBER\"'\",\n+            \"runUrl\": \"https://github.com/'\"$GITHUB_REPOSITORY\"'/actions/runs/'\"$GITHUB_RUN_ID\"'\"\n+          }'\n+\n+          METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n+\n+          mkdir -p \"previews/$BRANCH_NAME_SAFE\"\n+          cp -r reports/* \"previews/$BRANCH_NAME_SAFE/\" || true\n+\n+      # Publish preview dashboard\n+      - name: Publish preview to Pages\n+        uses: peaceiris/actions-gh-pages@v3.9.2\n+        with:\n+          github_token: ${{ secrets.PAT }}\n+          publish_dir: ./previews\n+          commit_message: \"Publish preview dashboard for ${{ github.ref_name }} [skip ci]\"\n+          keep_files: true\n+\n+      # Post preview link comment on PR\n+      - name: Comment preview link on PR\n+        if: github.event_name == 'pull_request'\n+        uses: actions/github-script@v7\n+        with:\n+          script: |\n+            const branch = process.env.GITHUB_REF_NAME.replace(/\\//g, \"-\");\n+            const url  = `https://smenouillard.github.io/Playwright-portfolio/previews/${branch}/`;\n+\n+            const body = [\n+              \"### Preview Dashboard Ready\",\n+              \"\",\n+              \"**URL:**  \",\n+              url,\n+              \"\",\n+              \"_This link updates automatically with each push to this branch._\"\n+            ].join(\"\\n\");\n+\n+            github.rest.issues.createComment({\n+              issue_number: context.issue.number,\n+              owner: context.repo.owner,\n+              repo: context.repo.repo,\n+              body\n+            });\ndiff --git a/scripts/generate-index.js b/scripts/generate-index.js\nindex b202555..cebce64 100644\n--- a/scripts/generate-index.js\n+++ b/scripts/generate-index.js\n@@ -1,19 +1,28 @@\n // /scripts/generate-index.js\n-// Generate Playwright dashboard using HTML template\n+// generate dashboard\n \n const fs = require(\"fs\");\n const path = require(\"path\");\n \n-// --- Setup paths ---\n+// Utility: format UTC timestamps\n+function formatUtcTimestamp(raw) {\n+  if (!raw) return \"N/A\";\n+  const date = new Date(raw);\n+  if (isNaN(date.getTime())) return raw + \" UTC\";\n+  const yyyy = date.getUTCFullYear();\n+  const mm = String(date.getUTCMonth() + 1).padStart(2, \"0\");\n+  const dd = String(date.getUTCDate()).padStart(2, \"0\");\n+  const hh = String(date.getUTCHours()).padStart(2, \"0\");\n+  const min = String(date.getUTCMinutes()).padStart(2, \"0\");\n+  return `${yyyy}-${mm}-${dd} ${hh}:${min} UTC`;\n+}\n+\n+// Setup paths\n const REPORTS_DIR = path.join(process.cwd(), \"reports\");\n const TEMPLATE_PATH = path.join(__dirname, \"templates\", \"index.html\");\n-const METADATA_RELATIVE = path.join(\"metadata\", \"metadata.json\");\n-const JSON_REPORT_RELATIVE = path.join(\"jsonReports\", \"jsonReport.json\");\n-\n-// --- Load HTML template ---\n let template = fs.readFileSync(TEMPLATE_PATH, \"utf8\");\n \n-// --- Load global CI metadata ---\n+// Load global metadata\n let globalMeta = {};\n try {\n   globalMeta = JSON.parse(process.env.METADATA_JSON || \"{}\");\n@@ -21,14 +30,14 @@ try {\n   globalMeta = {};\n }\n \n-// --- Define OS badges ---\n+// OS badges\n const osBadges = {\n   \"ubuntu-latest\": { emoji: \"üêß\", label: \"Ubuntu\" },\n   \"windows-latest\": { emoji: \"ü™ü\", label: \"Windows\" },\n   \"macos-latest\": { emoji: \"üçé\", label: \"macOS\" },\n };\n \n-// --- Define browser badges ---\n+// Browser badges\n const browserBadges = {\n   chromium: { emoji: \"üåê\", label: \"Chromium\" },\n   firefox: { emoji: \"ü¶ä\", label: \"Firefox\" },\n@@ -36,151 +45,148 @@ const browserBadges = {\n   edge: { emoji: \"üü¶\", label: \"Edge\" },\n };\n \n-// --- Format duration from seconds ---\n-function formatDurationSeconds(value) {\n-  const seconds = Math.round(value || 0);\n-  const minutes = Math.floor(seconds / 60);\n-  const remain = seconds % 60;\n-  return minutes > 0 ? `${minutes}m ${remain}s` : `${remain}s`;\n-}\n-\n-// --- Build summary object from Playwright stats ---\n-function computeSummary(stats) {\n-  if (!stats) {\n+// Parse Playwright JSON stats\n+function parseJsonStats(filePath) {\n+  if (!fs.existsSync(filePath)) return null;\n+  try {\n+    const json = JSON.parse(fs.readFileSync(filePath, \"utf8\"));\n+    const stats = json.stats || {};\n+    const totalTests =\n+      (stats.expected || 0) +\n+      (stats.unexpected || 0) +\n+      (stats.skipped || 0);\n     return {\n-      totalTests: 0,\n-      totalFailures: 0,\n-      totalSkipped: 0,\n-      totalTimeSec: 0,\n+      totalTests,\n+      totalFailures: stats.unexpected || 0,\n+      totalSkipped: stats.skipped || 0,\n+      totalTimeSec: (stats.duration || 0) / 1000,\n     };\n+  } catch {\n+    return null;\n   }\n+}\n \n-  const totalTests =\n-    (stats.expected || 0) +\n-    (stats.unexpected || 0) +\n-    (stats.skipped || 0);\n-  const totalFailures = stats.unexpected || 0;\n-  const totalSkipped = stats.skipped || 0;\n-  const totalTimeSec = (stats.duration || 0) / 1000;\n-\n+// Parse JUnit XML\n+function parseJUnitSummary(xml) {\n+  if (!xml) return null;\n+  const suiteRegex = /<testsuite\\b([^>]*)>/g;\n+  let totalTests = 0;\n+  let totalFailures = 0;\n+  let totalSkipped = 0;\n+  let totalTime = 0;\n+  let match;\n+  while ((match = suiteRegex.exec(xml)) !== null) {\n+    const attrs = match[1];\n+    const get = (name) => {\n+      const re = new RegExp(name + '=\"([^\"]+)\"');\n+      const m = re.exec(attrs);\n+      return m ? m[1] : null;\n+    };\n+    totalTests += parseInt(get(\"tests\") || \"0\", 10);\n+    totalFailures += parseInt(get(\"failures\") || \"0\", 10);\n+    totalSkipped += parseInt(get(\"skipped\") || \"0\", 10);\n+    totalTime += parseFloat(get(\"time\") || \"0\");\n+  }\n   return {\n     totalTests,\n     totalFailures,\n     totalSkipped,\n-    totalTimeSec,\n+    totalTimeSec: totalTime,\n   };\n }\n \n-// --- Determine status pill ---\n+// Status pill logic\n function statusInfo(summary) {\n-  if (summary.totalFailures > 0) {\n+  if (!summary)\n+    return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n+  if (summary.totalFailures > 0)\n     return { text: \"FAIL\", emoji: \"üî¥\", css: \"pill-fail\", code: \"fail\" };\n-  }\n-  if (summary.totalSkipped > 0) {\n+  if (summary.totalSkipped > 0)\n     return { text: \"SKIPPED\", emoji: \"üü°\", css: \"pill-skip\", code: \"skip\" };\n-  }\n-  if (summary.totalTests > 0) {\n+  if (summary.totalTests > 0)\n     return { text: \"PASS\", emoji: \"üü¢\", css: \"pill-pass\", code: \"pass\" };\n-  }\n   return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n }\n \n-// --- Load one report entry ---\n+// Load one report folder\n function loadRunEntry(dirName) {\n-  const folderPath = path.join(REPORTS_DIR, dirName);\n-  const metadataFile = path.join(folderPath, METADATA_RELATIVE);\n-\n-  if (!fs.existsSync(metadataFile)) return null;\n-\n+  const folder = path.join(REPORTS_DIR, dirName);\n+  const metadataPath = path.join(folder, \"metadata\", \"metadata.json\");\n+  if (!fs.existsSync(metadataPath)) return null;\n   let metadata;\n   try {\n-    metadata = JSON.parse(fs.readFileSync(metadataFile, \"utf8\"));\n+    metadata = JSON.parse(fs.readFileSync(metadataPath, \"utf8\"));\n   } catch {\n     return null;\n   }\n-\n-  const jsonReportFile = path.join(folderPath, JSON_REPORT_RELATIVE);\n-  let stats = null;\n-\n-  if (fs.existsSync(jsonReportFile)) {\n+  const jsonStats = parseJsonStats(\n+    path.join(folder, \"jsonReports\", \"jsonReport.json\")\n+  );\n+  let junitStats = null;\n+  const junitPath = path.join(folder, \"junit\", \"test-results.xml\");\n+  if (fs.existsSync(junitPath)) {\n     try {\n-      const jsonReport = JSON.parse(\n-        fs.readFileSync(jsonReportFile, \"utf8\")\n-      );\n-      stats = jsonReport.stats || null;\n-    } catch {\n-      stats = null;\n-    }\n+      const xml = fs.readFileSync(junitPath, \"utf8\");\n+      junitStats = parseJUnitSummary(xml);\n+    } catch { }\n   }\n-\n-  const summary = computeSummary(stats);\n-\n-  const osMeta =\n-    osBadges[metadata.os] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.os || \"Unknown OS\",\n-    };\n-\n-  const browserMeta =\n-    browserBadges[metadata.browser] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.browser || \"Unknown\",\n-    };\n-\n-  const status = statusInfo(summary);\n-\n+  const finalStats = jsonStats || junitStats || {\n+    totalTests: 0,\n+    totalFailures: 0,\n+    totalSkipped: 0,\n+    totalTimeSec: 0,\n+  };\n+  const status = statusInfo(finalStats);\n+  const osMeta = osBadges[metadata.os] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.os || \"Unknown OS\",\n+  };\n+  const browserMeta = browserBadges[metadata.browser] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.browser || \"Unknown\",\n+  };\n   return {\n     name: dirName,\n     metadata,\n-    summary,\n+    stats: finalStats,\n+    status,\n     os: osMeta,\n     browser: browserMeta,\n-    status,\n   };\n }\n \n-// --- Load all report entries ---\n+// Load entries\n function loadEntries() {\n   if (!fs.existsSync(REPORTS_DIR)) return [];\n-\n-  const dirents = fs\n+  return fs\n     .readdirSync(REPORTS_DIR, { withFileTypes: true })\n-    .filter((d) => d.isDirectory());\n-\n-  const entries = dirents\n-    .filter((d) => d.name.startsWith(\"report-\"))\n+    .filter((d) => d.isDirectory() && d.name.startsWith(\"report-\"))\n     .map((d) => loadRunEntry(d.name))\n     .filter(Boolean);\n-\n-  return entries;\n }\n \n-// --- Define OS order for display ---\n+// OS sorting priority\n const OS_ORDER = [\"windows-latest\", \"macos-latest\", \"ubuntu-latest\"];\n \n-// --- Sort entries by OS and then by browser ---\n+// Sort entries\n function sortEntries(entries) {\n-  return entries.slice().sort((a, b) => {\n-    const aIndex = OS_ORDER.indexOf(a.metadata.os);\n-    const bIndex = OS_ORDER.indexOf(b.metadata.os);\n-\n-    const aRank = aIndex === -1 ? OS_ORDER.length : aIndex;\n-    const bRank = bIndex === -1 ? OS_ORDER.length : bIndex;\n-\n-    if (aRank !== bRank) return aRank - bRank;\n-\n-    return (a.metadata.browser || \"\").localeCompare(\n-      b.metadata.browser || \"\"\n-    );\n+  return entries.sort((a, b) => {\n+    const aOs = OS_ORDER.indexOf(a.metadata.os);\n+    const bOs = OS_ORDER.indexOf(b.metadata.os);\n+    if (aOs !== bOs) return aOs - bOs;\n+    if (a.metadata.browser !== b.metadata.browser) {\n+      return (a.metadata.browser || \"\").localeCompare(\n+        b.metadata.browser || \"\"\n+      );\n+    }\n+    const order = { fail: 0, skip: 1, pass: 2, none: 3 };\n+    return order[a.status.code] - order[b.status.code];\n   });\n }\n \n-// --- Build summary table HTML ---\n+// Build summary table\n function buildSummaryTable(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let html = `\n <table class=\"summary\">\n   <thead>\n@@ -189,115 +195,102 @@ function buildSummaryTable(entries) {\n       <th>OS</th>\n       <th>Browser</th>\n       <th>Total</th>\n-      <th>Failed</th>\n+      <th>Failures</th>\n       <th>Skipped</th>\n       <th>Duration</th>\n     </tr>\n   </thead>\n   <tbody>\n `;\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n     html += `\n-    <tr class=\"summary-row\" data-status=\"${e.status.code}\">\n-      <td class=\"status-cell\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-      </td>\n-      <td>${e.os.emoji} ${e.os.label}</td>\n-      <td>${e.browser.emoji} ${e.browser.label}</td>\n-      <td class=\"num-cell\">${e.summary.totalTests}</td>\n-      <td class=\"num-cell\">${e.summary.totalFailures}</td>\n-      <td class=\"num-cell\">${e.summary.totalSkipped}</td>\n-      <td>${formatDurationSeconds(e.summary.totalTimeSec)}</td>\n-    </tr>\n-`;\n-  });\n-\n+<tr class=\"summary-row\" data-status=\"${e.status.code}\">\n+  <td class=\"status-cell\">\n+    <span class=\"status-pill ${e.status.css}\">\n+      ${e.status.emoji} ${e.status.text}\n+    </span>\n+  </td>\n+  <td>${e.os.emoji} ${e.os.label}</td>\n+  <td>${e.browser.emoji} ${e.browser.label}</td>\n+  <td class=\"num-cell\">${e.stats.totalTests}</td>\n+  <td class=\"num-cell\">${e.stats.totalFailures}</td>\n+  <td class=\"num-cell\">${e.stats.totalSkipped}</td>\n+  <td>${Math.round(e.stats.totalTimeSec)}s</td>\n+</tr>`;\n+  }\n   html += `\n   </tbody>\n </table>\n `;\n-\n   return html;\n }\n \n-// --- Build detailed report blocks HTML ---\n+// Build hybrid blocks\n function buildReportBlocks(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let blocks = \"\";\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n+    const timestamp = formatUtcTimestamp(e.metadata.timestamp);\n     blocks += `\n <div class=\"report-block\" data-status=\"${e.status.code}\">\n   <div class=\"report-header\">\n     <div class=\"report-header-main\">\n-      <div class=\"report-title\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-        <span class=\"os-label\">${e.os.emoji} ${e.os.label}</span>\n-        <span class=\"browser-label\">${e.browser.emoji} ${e.browser.label}</span>\n-      </div>\n-      <div class=\"report-header-meta\">\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Tests:</span>\n-          <span class=\"meta-value\">${e.summary.totalTests}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Failed:</span>\n-          <span class=\"meta-value\">${e.summary.totalFailures}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Skipped:</span>\n-          <span class=\"meta-value\">${e.summary.totalSkipped}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Duration:</span>\n-          <span class=\"meta-value\">${formatDurationSeconds(\n-      e.summary.totalTimeSec\n-    )}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Timestamp:</span>\n-          <span class=\"meta-value\">${e.metadata.timestamp || \"\"}</span>\n-        </div>\n-      </div>\n-      <div class=\"links\">\n-        <a href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">\n-          Open HTML report\n-        </a>\n-        <a href=\"./${e.name}/playwright-report.zip\" download>\n-          Download ZIP\n-        </a>\n-      </div>\n+      <span class=\"status-pill ${e.status.css}\">\n+        ${e.status.emoji} ${e.status.text}\n+      </span>\n+      <span class=\"badge os-badge\">${e.os.emoji} ${e.os.label}</span>\n+      <span class=\"badge browser-badge\">${e.browser.emoji} ${e.browser.label}</span>\n+    </div>\n+    <span class=\"caret\">‚ñº</span>\n+  </div>\n+\n+  <div class=\"report-content\">\n+\n+    <div class=\"report-meta-grid\">\n+      <div class=\"meta-row\"><span class=\"meta-label\">Tests:</span><span class=\"meta-value\">${e.stats.totalTests}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Failed:</span><span class=\"meta-value\">${e.stats.totalFailures}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Skipped:</span><span class=\"meta-value\">${e.stats.totalSkipped}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Duration:</span><span class=\"meta-value\">${Math.round(e.stats.totalTimeSec)}s</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Timestamp:</span><span class=\"meta-value\">${timestamp}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Runner:</span><span class=\"meta-value\">${e.metadata.os}</span></div>\n     </div>\n+\n+    <div class=\"quick-summary\">\n+      üìä <strong>${e.stats.totalTests}</strong> tests ‚Ä¢\n+      ‚ö† <strong>${e.stats.totalFailures}</strong> failed ‚Ä¢\n+      ‚ûñ <strong>${e.stats.totalSkipped}</strong> skipped ‚Ä¢\n+      ‚è± <strong>${Math.round(e.stats.totalTimeSec)}s</strong>\n+    </div>\n+\n+    <div class=\"links\">\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">üìÑ HTML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/jsonReports/jsonReport.json\" target=\"_blank\">üß© JSON</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/junit/test-results.xml\" target=\"_blank\">üìë XML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report.zip\" download>üì¶ ZIP</a>\n+      <a class=\"link-pill\" href=\"${globalMeta.runUrl}\" target=\"_blank\">üìò Logs</a>\n+    </div>\n+\n   </div>\n </div>\n `;\n-  });\n-\n+  }\n   return blocks;\n }\n \n-// --- Generate dashboard HTML ---\n+// Generate final HTML\n const entries = sortEntries(loadEntries());\n const summaryTable = buildSummaryTable(entries);\n const reportBlocks = buildReportBlocks(entries);\n \n template = template\n-  .replace(\"{{PUBLISH_TIMESTAMP}}\", globalMeta.publishTimestamp || \"N/A\")\n+  .replace(\"{{PUBLISH_TIMESTAMP}}\", formatUtcTimestamp(globalMeta.publishTimestamp))\n   .replace(\"{{COMMIT_SHA}}\", globalMeta.commitSha || \"N/A\")\n   .replace(\"{{RUN_NUMBER}}\", globalMeta.runNumber || \"N/A\")\n   .replace(\"{{RUN_URL}}\", globalMeta.runUrl || \"#\")\n   .replace(\"{{SUMMARY_TABLE}}\", summaryTable)\n   .replace(\"{{REPORT_LIST}}\", reportBlocks);\n \n-// --- Write final index.html ---\n+// Write dashboard\n fs.writeFileSync(path.join(REPORTS_DIR, \"index.html\"), template, \"utf8\");\n \n-console.log(\"Dashboard generated successfully.\");\n+console.log(\"Super Dashboard (Hybrid Version) generated successfully.\");\ndiff --git a/scripts/templates/index.html b/scripts/templates/index.html\nindex bbb93d9..b4745a2 100644\n--- a/scripts/templates/index.html\n+++ b/scripts/templates/index.html\n@@ -116,7 +116,11 @@\n       border-radius: 8px;\n       background: var(--card-bg);\n       box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);\n-      transition: box-shadow 0.15s ease, transform 0.15s ease, background 0.2s ease;\n+      transition:\n+        box-shadow 0.15s ease,\n+        transform 0.15s ease,\n+        background 0.2s ease,\n+        border-color 0.2s ease;\n     }\n \n     .report-block:hover {\n@@ -129,12 +133,14 @@\n       align-items: center;\n       justify-content: space-between;\n       cursor: pointer;\n+      gap: 10px;\n     }\n \n     .report-header-main {\n       display: flex;\n       align-items: center;\n       gap: 8px;\n+      flex-wrap: wrap;\n     }\n \n     .caret {\n@@ -151,9 +157,60 @@\n       display: none;\n     }\n \n-    .links a {\n-      margin-right: 12px;\n+    .report-meta-grid {\n+      display: grid;\n+      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n+      gap: 4px 16px;\n+      margin-bottom: 8px;\n+    }\n+\n+    .meta-row {\n+      display: flex;\n+      justify-content: space-between;\n+      font-size: 13px;\n+    }\n+\n+    .meta-label {\n+      font-weight: 600;\n+      margin-right: 6px;\n+    }\n+\n+    .meta-value {\n+      text-align: right;\n+      opacity: 0.9;\n+    }\n+\n+    .quick-summary {\n+      font-size: 13px;\n+      margin: 6px 0 10px;\n+    }\n+\n+    .quick-summary strong {\n+      font-weight: 600;\n+    }\n+\n+    .links {\n+      display: flex;\n+      flex-wrap: wrap;\n+      gap: 8px;\n+      margin-top: 4px;\n+    }\n+\n+    .link-pill {\n+      display: inline-block;\n+      padding: 4px 10px;\n+      border-radius: 999px;\n+      border: 1px solid var(--border-color);\n+      font-size: 12px;\n       text-decoration: none;\n+      background: var(--card-bg);\n+      transition: background 0.15s ease, border-color 0.15s ease;\n+      white-space: nowrap;\n+    }\n+\n+    .link-pill:hover {\n+      background: var(--table-header-bg);\n+      border-color: var(--link-color);\n     }\n \n     table.summary {\n@@ -205,7 +262,10 @@\n       border-radius: 999px;\n       cursor: pointer;\n       font-size: 13px;\n-      transition: background 0.15s ease, border-color 0.15s ease;\n+      transition:\n+        background 0.15s ease,\n+        border-color 0.15s ease,\n+        color 0.15s ease;\n     }\n \n     .toggle-btn:hover,\n@@ -252,7 +312,7 @@\n \n   <h1>Playwright Reports</h1>\n \n-  <p><strong>Published:</strong> {{PUBLISH_TIMESTAMP}}</p>\n+  <p><strong>Published (UTC):</strong> {{PUBLISH_TIMESTAMP}}</p>\n   <p><strong>Commit:</strong> {{COMMIT_SHA}}</p>\n   <p><strong>Run:</strong> #{{RUN_NUMBER}}</p>\n   <p><a href=\"{{RUN_URL}}\">View Full Run Logs</a></p>\n@@ -288,19 +348,23 @@\n       const body = document.body;\n       const themeToggle = document.getElementById('theme-toggle');\n \n+      // THEME\n       const savedTheme = localStorage.getItem('pw-theme');\n       if (savedTheme === 'dark') {\n         body.classList.add('dark-mode');\n-        themeToggle.textContent = '‚òÄÔ∏è Light mode';\n+        if (themeToggle) themeToggle.textContent = '‚òÄÔ∏è Light mode';\n       }\n \n-      themeToggle.addEventListener('click', () => {\n-        body.classList.toggle('dark-mode');\n-        const isDark = body.classList.contains('dark-mode');\n-        localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n-        themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n-      });\n+      if (themeToggle) {\n+        themeToggle.addEventListener('click', () => {\n+          body.classList.toggle('dark-mode');\n+          const isDark = body.classList.contains('dark-mode');\n+          localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n+          themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n+        });\n+      }\n \n+      // FILTERS\n       const filterButtons = document.querySelectorAll('.filter-btn');\n \n       function applyFilter(filter) {\n@@ -308,12 +372,12 @@\n         const blocks = document.querySelectorAll('.report-block');\n \n         rows.forEach(row => {\n-          const status = row.dataset.status;\n+          const status = (row.dataset.status || '').toLowerCase();\n           row.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n \n         blocks.forEach(block => {\n-          const status = block.dataset.status;\n+          const status = (block.dataset.status || '').toLowerCase();\n           block.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n       }\n@@ -326,21 +390,27 @@\n         });\n       });\n \n+      // COLLAPSIBLE REPORT BLOCKS\n       const reportBlocks = document.querySelectorAll('.report-block');\n       reportBlocks.forEach(block => {\n         const header = block.querySelector('.report-header');\n         const caret = block.querySelector('.caret');\n-        const status = block.dataset.status;\n+        const status = (block.dataset.status || '').toLowerCase();\n \n+        // Default: PASS + NONE collapsed, FAIL + SKIP expanded\n         if (status === 'pass' || status === 'none') {\n           block.classList.add('collapsed');\n-          caret.textContent = '‚ñ∂';\n+          if (caret) caret.textContent = '‚ñ∂';\n+        } else {\n+          if (caret) caret.textContent = '‚ñº';\n         }\n \n-        header.addEventListener('click', () => {\n-          const isCollapsed = block.classList.toggle('collapsed');\n-          caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n-        });\n+        if (header) {\n+          header.addEventListener('click', () => {\n+            const isCollapsed = block.classList.toggle('collapsed');\n+            if (caret) caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n+          });\n+        }\n       });\n     });\n   </script>",
          "actualWorkers": 2
        },
        "id": "chromium",
        "name": "chromium",
        "testDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/tests",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 30000
      },
      {
        "outputDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "ci": {
            "commitHref": "https://github.com/smenouillard/playwright-portfolio/commit/e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "commitHash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "prHref": "https://github.com/smenouillard/playwright-portfolio/pull/1",
            "prTitle": "feat(dashboard): add hybrid dashboard system",
            "prBaseHash": "88e78dd2976c075952af2c2dd8234303e96872e6",
            "buildHref": "https://github.com/smenouillard/playwright-portfolio/actions/runs/19676876690"
          },
          "gitCommit": {
            "shortHash": "e963e46",
            "hash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "subject": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6",
            "body": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6\n",
            "author": {
              "name": "smenouillard",
              "email": "smenouillard@gmail.com",
              "time": 1764088436000
            },
            "committer": {
              "name": "GitHub",
              "email": "noreply@github.com",
              "time": 1764088436000
            },
            "branch": "HEAD"
          },
          "gitDiff": "diff --git a/.github/workflows/playwright.yml b/.github/workflows/playwright.yml\nindex b3faf26..048a648 100644\n--- a/.github/workflows/playwright.yml\n+++ b/.github/workflows/playwright.yml\n@@ -3,6 +3,12 @@\n \n name: Playwright E2E Tests\n \n+# Required permissions for posting PR comments, writing previews, etc.\n+permissions:\n+  contents: read\n+  issues: write\n+  pull-requests: write\n+\n on:\n   push:\n     branches: [main, master]\n@@ -88,7 +94,7 @@ jobs:\n         run: xvfb-run npx playwright test --project=${{ matrix.browser }} || true\n \n       # Run tests on Windows/macOS\n-      - name: Run tests (Windows/macOS)\n+      - name: Run tests (Windows/macCOS)\n         if: matrix.os != 'ubuntu-latest'\n         run: npx playwright test --project=${{ matrix.browser }} || true\n \n@@ -177,11 +183,91 @@ jobs:\n           }'\n           METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n \n-      # Publish to GitHub Pages\n+      # Publish to GitHub Pages (using keep_files instead of force_orphan)\n       - name: Publish to Pages\n         uses: peaceiris/actions-gh-pages@v3.9.2\n         with:\n           github_token: ${{ secrets.PAT }}\n           publish_dir: ./reports\n           commit_message: \"Publish Playwright dashboard [skip ci]\"\n-          force_orphan: true\n+          keep_files: true # ‚Üê ONLY CHANGE\n+\n+  publish-preview:\n+    name: Publish Preview Dashboard\n+    runs-on: ubuntu-latest\n+    needs: test\n+    if: always() && github.ref != 'refs/heads/main'\n+\n+    steps:\n+      # Checkout source\n+      - name: Checkout\n+        uses: actions/checkout@v4.1.1\n+\n+      # Download artifacts\n+      - name: Download artifacts\n+        uses: actions/download-artifact@v4\n+        with:\n+          path: ./reports\n+\n+      # Extract HTML reports for preview\n+      - name: Extract HTML reports\n+        shell: bash\n+        run: |\n+          cd reports\n+          for dir in report-*; do\n+            if [ -d \"$dir\" ] && [ -f \"$dir/playwright-report.zip\" ]; then\n+              mkdir -p \"$dir/playwright-report\"\n+              unzip -q \"$dir/playwright-report.zip\" -d \"$dir/playwright-report\"\n+            fi\n+          done\n+\n+      # Generate preview dashboard\n+      - name: Generate dashboard (preview)\n+        run: |\n+          BRANCH_NAME_SAFE=\"${GITHUB_REF_NAME//\\//-}\"\n+\n+          metadata='{\n+            \"publishTimestamp\": \"'\"$(date -u '+%Y-%m-%d %H:%M UTC')\"'\",\n+            \"commitSha\": \"'\"$GITHUB_SHA\"'\",\n+            \"runNumber\": \"'\"$GITHUB_RUN_NUMBER\"'\",\n+            \"runUrl\": \"https://github.com/'\"$GITHUB_REPOSITORY\"'/actions/runs/'\"$GITHUB_RUN_ID\"'\"\n+          }'\n+\n+          METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n+\n+          mkdir -p \"previews/$BRANCH_NAME_SAFE\"\n+          cp -r reports/* \"previews/$BRANCH_NAME_SAFE/\" || true\n+\n+      # Publish preview dashboard\n+      - name: Publish preview to Pages\n+        uses: peaceiris/actions-gh-pages@v3.9.2\n+        with:\n+          github_token: ${{ secrets.PAT }}\n+          publish_dir: ./previews\n+          commit_message: \"Publish preview dashboard for ${{ github.ref_name }} [skip ci]\"\n+          keep_files: true\n+\n+      # Post preview link comment on PR\n+      - name: Comment preview link on PR\n+        if: github.event_name == 'pull_request'\n+        uses: actions/github-script@v7\n+        with:\n+          script: |\n+            const branch = process.env.GITHUB_REF_NAME.replace(/\\//g, \"-\");\n+            const url  = `https://smenouillard.github.io/Playwright-portfolio/previews/${branch}/`;\n+\n+            const body = [\n+              \"### Preview Dashboard Ready\",\n+              \"\",\n+              \"**URL:**  \",\n+              url,\n+              \"\",\n+              \"_This link updates automatically with each push to this branch._\"\n+            ].join(\"\\n\");\n+\n+            github.rest.issues.createComment({\n+              issue_number: context.issue.number,\n+              owner: context.repo.owner,\n+              repo: context.repo.repo,\n+              body\n+            });\ndiff --git a/scripts/generate-index.js b/scripts/generate-index.js\nindex b202555..cebce64 100644\n--- a/scripts/generate-index.js\n+++ b/scripts/generate-index.js\n@@ -1,19 +1,28 @@\n // /scripts/generate-index.js\n-// Generate Playwright dashboard using HTML template\n+// generate dashboard\n \n const fs = require(\"fs\");\n const path = require(\"path\");\n \n-// --- Setup paths ---\n+// Utility: format UTC timestamps\n+function formatUtcTimestamp(raw) {\n+  if (!raw) return \"N/A\";\n+  const date = new Date(raw);\n+  if (isNaN(date.getTime())) return raw + \" UTC\";\n+  const yyyy = date.getUTCFullYear();\n+  const mm = String(date.getUTCMonth() + 1).padStart(2, \"0\");\n+  const dd = String(date.getUTCDate()).padStart(2, \"0\");\n+  const hh = String(date.getUTCHours()).padStart(2, \"0\");\n+  const min = String(date.getUTCMinutes()).padStart(2, \"0\");\n+  return `${yyyy}-${mm}-${dd} ${hh}:${min} UTC`;\n+}\n+\n+// Setup paths\n const REPORTS_DIR = path.join(process.cwd(), \"reports\");\n const TEMPLATE_PATH = path.join(__dirname, \"templates\", \"index.html\");\n-const METADATA_RELATIVE = path.join(\"metadata\", \"metadata.json\");\n-const JSON_REPORT_RELATIVE = path.join(\"jsonReports\", \"jsonReport.json\");\n-\n-// --- Load HTML template ---\n let template = fs.readFileSync(TEMPLATE_PATH, \"utf8\");\n \n-// --- Load global CI metadata ---\n+// Load global metadata\n let globalMeta = {};\n try {\n   globalMeta = JSON.parse(process.env.METADATA_JSON || \"{}\");\n@@ -21,14 +30,14 @@ try {\n   globalMeta = {};\n }\n \n-// --- Define OS badges ---\n+// OS badges\n const osBadges = {\n   \"ubuntu-latest\": { emoji: \"üêß\", label: \"Ubuntu\" },\n   \"windows-latest\": { emoji: \"ü™ü\", label: \"Windows\" },\n   \"macos-latest\": { emoji: \"üçé\", label: \"macOS\" },\n };\n \n-// --- Define browser badges ---\n+// Browser badges\n const browserBadges = {\n   chromium: { emoji: \"üåê\", label: \"Chromium\" },\n   firefox: { emoji: \"ü¶ä\", label: \"Firefox\" },\n@@ -36,151 +45,148 @@ const browserBadges = {\n   edge: { emoji: \"üü¶\", label: \"Edge\" },\n };\n \n-// --- Format duration from seconds ---\n-function formatDurationSeconds(value) {\n-  const seconds = Math.round(value || 0);\n-  const minutes = Math.floor(seconds / 60);\n-  const remain = seconds % 60;\n-  return minutes > 0 ? `${minutes}m ${remain}s` : `${remain}s`;\n-}\n-\n-// --- Build summary object from Playwright stats ---\n-function computeSummary(stats) {\n-  if (!stats) {\n+// Parse Playwright JSON stats\n+function parseJsonStats(filePath) {\n+  if (!fs.existsSync(filePath)) return null;\n+  try {\n+    const json = JSON.parse(fs.readFileSync(filePath, \"utf8\"));\n+    const stats = json.stats || {};\n+    const totalTests =\n+      (stats.expected || 0) +\n+      (stats.unexpected || 0) +\n+      (stats.skipped || 0);\n     return {\n-      totalTests: 0,\n-      totalFailures: 0,\n-      totalSkipped: 0,\n-      totalTimeSec: 0,\n+      totalTests,\n+      totalFailures: stats.unexpected || 0,\n+      totalSkipped: stats.skipped || 0,\n+      totalTimeSec: (stats.duration || 0) / 1000,\n     };\n+  } catch {\n+    return null;\n   }\n+}\n \n-  const totalTests =\n-    (stats.expected || 0) +\n-    (stats.unexpected || 0) +\n-    (stats.skipped || 0);\n-  const totalFailures = stats.unexpected || 0;\n-  const totalSkipped = stats.skipped || 0;\n-  const totalTimeSec = (stats.duration || 0) / 1000;\n-\n+// Parse JUnit XML\n+function parseJUnitSummary(xml) {\n+  if (!xml) return null;\n+  const suiteRegex = /<testsuite\\b([^>]*)>/g;\n+  let totalTests = 0;\n+  let totalFailures = 0;\n+  let totalSkipped = 0;\n+  let totalTime = 0;\n+  let match;\n+  while ((match = suiteRegex.exec(xml)) !== null) {\n+    const attrs = match[1];\n+    const get = (name) => {\n+      const re = new RegExp(name + '=\"([^\"]+)\"');\n+      const m = re.exec(attrs);\n+      return m ? m[1] : null;\n+    };\n+    totalTests += parseInt(get(\"tests\") || \"0\", 10);\n+    totalFailures += parseInt(get(\"failures\") || \"0\", 10);\n+    totalSkipped += parseInt(get(\"skipped\") || \"0\", 10);\n+    totalTime += parseFloat(get(\"time\") || \"0\");\n+  }\n   return {\n     totalTests,\n     totalFailures,\n     totalSkipped,\n-    totalTimeSec,\n+    totalTimeSec: totalTime,\n   };\n }\n \n-// --- Determine status pill ---\n+// Status pill logic\n function statusInfo(summary) {\n-  if (summary.totalFailures > 0) {\n+  if (!summary)\n+    return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n+  if (summary.totalFailures > 0)\n     return { text: \"FAIL\", emoji: \"üî¥\", css: \"pill-fail\", code: \"fail\" };\n-  }\n-  if (summary.totalSkipped > 0) {\n+  if (summary.totalSkipped > 0)\n     return { text: \"SKIPPED\", emoji: \"üü°\", css: \"pill-skip\", code: \"skip\" };\n-  }\n-  if (summary.totalTests > 0) {\n+  if (summary.totalTests > 0)\n     return { text: \"PASS\", emoji: \"üü¢\", css: \"pill-pass\", code: \"pass\" };\n-  }\n   return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n }\n \n-// --- Load one report entry ---\n+// Load one report folder\n function loadRunEntry(dirName) {\n-  const folderPath = path.join(REPORTS_DIR, dirName);\n-  const metadataFile = path.join(folderPath, METADATA_RELATIVE);\n-\n-  if (!fs.existsSync(metadataFile)) return null;\n-\n+  const folder = path.join(REPORTS_DIR, dirName);\n+  const metadataPath = path.join(folder, \"metadata\", \"metadata.json\");\n+  if (!fs.existsSync(metadataPath)) return null;\n   let metadata;\n   try {\n-    metadata = JSON.parse(fs.readFileSync(metadataFile, \"utf8\"));\n+    metadata = JSON.parse(fs.readFileSync(metadataPath, \"utf8\"));\n   } catch {\n     return null;\n   }\n-\n-  const jsonReportFile = path.join(folderPath, JSON_REPORT_RELATIVE);\n-  let stats = null;\n-\n-  if (fs.existsSync(jsonReportFile)) {\n+  const jsonStats = parseJsonStats(\n+    path.join(folder, \"jsonReports\", \"jsonReport.json\")\n+  );\n+  let junitStats = null;\n+  const junitPath = path.join(folder, \"junit\", \"test-results.xml\");\n+  if (fs.existsSync(junitPath)) {\n     try {\n-      const jsonReport = JSON.parse(\n-        fs.readFileSync(jsonReportFile, \"utf8\")\n-      );\n-      stats = jsonReport.stats || null;\n-    } catch {\n-      stats = null;\n-    }\n+      const xml = fs.readFileSync(junitPath, \"utf8\");\n+      junitStats = parseJUnitSummary(xml);\n+    } catch { }\n   }\n-\n-  const summary = computeSummary(stats);\n-\n-  const osMeta =\n-    osBadges[metadata.os] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.os || \"Unknown OS\",\n-    };\n-\n-  const browserMeta =\n-    browserBadges[metadata.browser] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.browser || \"Unknown\",\n-    };\n-\n-  const status = statusInfo(summary);\n-\n+  const finalStats = jsonStats || junitStats || {\n+    totalTests: 0,\n+    totalFailures: 0,\n+    totalSkipped: 0,\n+    totalTimeSec: 0,\n+  };\n+  const status = statusInfo(finalStats);\n+  const osMeta = osBadges[metadata.os] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.os || \"Unknown OS\",\n+  };\n+  const browserMeta = browserBadges[metadata.browser] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.browser || \"Unknown\",\n+  };\n   return {\n     name: dirName,\n     metadata,\n-    summary,\n+    stats: finalStats,\n+    status,\n     os: osMeta,\n     browser: browserMeta,\n-    status,\n   };\n }\n \n-// --- Load all report entries ---\n+// Load entries\n function loadEntries() {\n   if (!fs.existsSync(REPORTS_DIR)) return [];\n-\n-  const dirents = fs\n+  return fs\n     .readdirSync(REPORTS_DIR, { withFileTypes: true })\n-    .filter((d) => d.isDirectory());\n-\n-  const entries = dirents\n-    .filter((d) => d.name.startsWith(\"report-\"))\n+    .filter((d) => d.isDirectory() && d.name.startsWith(\"report-\"))\n     .map((d) => loadRunEntry(d.name))\n     .filter(Boolean);\n-\n-  return entries;\n }\n \n-// --- Define OS order for display ---\n+// OS sorting priority\n const OS_ORDER = [\"windows-latest\", \"macos-latest\", \"ubuntu-latest\"];\n \n-// --- Sort entries by OS and then by browser ---\n+// Sort entries\n function sortEntries(entries) {\n-  return entries.slice().sort((a, b) => {\n-    const aIndex = OS_ORDER.indexOf(a.metadata.os);\n-    const bIndex = OS_ORDER.indexOf(b.metadata.os);\n-\n-    const aRank = aIndex === -1 ? OS_ORDER.length : aIndex;\n-    const bRank = bIndex === -1 ? OS_ORDER.length : bIndex;\n-\n-    if (aRank !== bRank) return aRank - bRank;\n-\n-    return (a.metadata.browser || \"\").localeCompare(\n-      b.metadata.browser || \"\"\n-    );\n+  return entries.sort((a, b) => {\n+    const aOs = OS_ORDER.indexOf(a.metadata.os);\n+    const bOs = OS_ORDER.indexOf(b.metadata.os);\n+    if (aOs !== bOs) return aOs - bOs;\n+    if (a.metadata.browser !== b.metadata.browser) {\n+      return (a.metadata.browser || \"\").localeCompare(\n+        b.metadata.browser || \"\"\n+      );\n+    }\n+    const order = { fail: 0, skip: 1, pass: 2, none: 3 };\n+    return order[a.status.code] - order[b.status.code];\n   });\n }\n \n-// --- Build summary table HTML ---\n+// Build summary table\n function buildSummaryTable(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let html = `\n <table class=\"summary\">\n   <thead>\n@@ -189,115 +195,102 @@ function buildSummaryTable(entries) {\n       <th>OS</th>\n       <th>Browser</th>\n       <th>Total</th>\n-      <th>Failed</th>\n+      <th>Failures</th>\n       <th>Skipped</th>\n       <th>Duration</th>\n     </tr>\n   </thead>\n   <tbody>\n `;\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n     html += `\n-    <tr class=\"summary-row\" data-status=\"${e.status.code}\">\n-      <td class=\"status-cell\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-      </td>\n-      <td>${e.os.emoji} ${e.os.label}</td>\n-      <td>${e.browser.emoji} ${e.browser.label}</td>\n-      <td class=\"num-cell\">${e.summary.totalTests}</td>\n-      <td class=\"num-cell\">${e.summary.totalFailures}</td>\n-      <td class=\"num-cell\">${e.summary.totalSkipped}</td>\n-      <td>${formatDurationSeconds(e.summary.totalTimeSec)}</td>\n-    </tr>\n-`;\n-  });\n-\n+<tr class=\"summary-row\" data-status=\"${e.status.code}\">\n+  <td class=\"status-cell\">\n+    <span class=\"status-pill ${e.status.css}\">\n+      ${e.status.emoji} ${e.status.text}\n+    </span>\n+  </td>\n+  <td>${e.os.emoji} ${e.os.label}</td>\n+  <td>${e.browser.emoji} ${e.browser.label}</td>\n+  <td class=\"num-cell\">${e.stats.totalTests}</td>\n+  <td class=\"num-cell\">${e.stats.totalFailures}</td>\n+  <td class=\"num-cell\">${e.stats.totalSkipped}</td>\n+  <td>${Math.round(e.stats.totalTimeSec)}s</td>\n+</tr>`;\n+  }\n   html += `\n   </tbody>\n </table>\n `;\n-\n   return html;\n }\n \n-// --- Build detailed report blocks HTML ---\n+// Build hybrid blocks\n function buildReportBlocks(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let blocks = \"\";\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n+    const timestamp = formatUtcTimestamp(e.metadata.timestamp);\n     blocks += `\n <div class=\"report-block\" data-status=\"${e.status.code}\">\n   <div class=\"report-header\">\n     <div class=\"report-header-main\">\n-      <div class=\"report-title\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-        <span class=\"os-label\">${e.os.emoji} ${e.os.label}</span>\n-        <span class=\"browser-label\">${e.browser.emoji} ${e.browser.label}</span>\n-      </div>\n-      <div class=\"report-header-meta\">\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Tests:</span>\n-          <span class=\"meta-value\">${e.summary.totalTests}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Failed:</span>\n-          <span class=\"meta-value\">${e.summary.totalFailures}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Skipped:</span>\n-          <span class=\"meta-value\">${e.summary.totalSkipped}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Duration:</span>\n-          <span class=\"meta-value\">${formatDurationSeconds(\n-      e.summary.totalTimeSec\n-    )}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Timestamp:</span>\n-          <span class=\"meta-value\">${e.metadata.timestamp || \"\"}</span>\n-        </div>\n-      </div>\n-      <div class=\"links\">\n-        <a href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">\n-          Open HTML report\n-        </a>\n-        <a href=\"./${e.name}/playwright-report.zip\" download>\n-          Download ZIP\n-        </a>\n-      </div>\n+      <span class=\"status-pill ${e.status.css}\">\n+        ${e.status.emoji} ${e.status.text}\n+      </span>\n+      <span class=\"badge os-badge\">${e.os.emoji} ${e.os.label}</span>\n+      <span class=\"badge browser-badge\">${e.browser.emoji} ${e.browser.label}</span>\n+    </div>\n+    <span class=\"caret\">‚ñº</span>\n+  </div>\n+\n+  <div class=\"report-content\">\n+\n+    <div class=\"report-meta-grid\">\n+      <div class=\"meta-row\"><span class=\"meta-label\">Tests:</span><span class=\"meta-value\">${e.stats.totalTests}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Failed:</span><span class=\"meta-value\">${e.stats.totalFailures}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Skipped:</span><span class=\"meta-value\">${e.stats.totalSkipped}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Duration:</span><span class=\"meta-value\">${Math.round(e.stats.totalTimeSec)}s</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Timestamp:</span><span class=\"meta-value\">${timestamp}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Runner:</span><span class=\"meta-value\">${e.metadata.os}</span></div>\n     </div>\n+\n+    <div class=\"quick-summary\">\n+      üìä <strong>${e.stats.totalTests}</strong> tests ‚Ä¢\n+      ‚ö† <strong>${e.stats.totalFailures}</strong> failed ‚Ä¢\n+      ‚ûñ <strong>${e.stats.totalSkipped}</strong> skipped ‚Ä¢\n+      ‚è± <strong>${Math.round(e.stats.totalTimeSec)}s</strong>\n+    </div>\n+\n+    <div class=\"links\">\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">üìÑ HTML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/jsonReports/jsonReport.json\" target=\"_blank\">üß© JSON</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/junit/test-results.xml\" target=\"_blank\">üìë XML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report.zip\" download>üì¶ ZIP</a>\n+      <a class=\"link-pill\" href=\"${globalMeta.runUrl}\" target=\"_blank\">üìò Logs</a>\n+    </div>\n+\n   </div>\n </div>\n `;\n-  });\n-\n+  }\n   return blocks;\n }\n \n-// --- Generate dashboard HTML ---\n+// Generate final HTML\n const entries = sortEntries(loadEntries());\n const summaryTable = buildSummaryTable(entries);\n const reportBlocks = buildReportBlocks(entries);\n \n template = template\n-  .replace(\"{{PUBLISH_TIMESTAMP}}\", globalMeta.publishTimestamp || \"N/A\")\n+  .replace(\"{{PUBLISH_TIMESTAMP}}\", formatUtcTimestamp(globalMeta.publishTimestamp))\n   .replace(\"{{COMMIT_SHA}}\", globalMeta.commitSha || \"N/A\")\n   .replace(\"{{RUN_NUMBER}}\", globalMeta.runNumber || \"N/A\")\n   .replace(\"{{RUN_URL}}\", globalMeta.runUrl || \"#\")\n   .replace(\"{{SUMMARY_TABLE}}\", summaryTable)\n   .replace(\"{{REPORT_LIST}}\", reportBlocks);\n \n-// --- Write final index.html ---\n+// Write dashboard\n fs.writeFileSync(path.join(REPORTS_DIR, \"index.html\"), template, \"utf8\");\n \n-console.log(\"Dashboard generated successfully.\");\n+console.log(\"Super Dashboard (Hybrid Version) generated successfully.\");\ndiff --git a/scripts/templates/index.html b/scripts/templates/index.html\nindex bbb93d9..b4745a2 100644\n--- a/scripts/templates/index.html\n+++ b/scripts/templates/index.html\n@@ -116,7 +116,11 @@\n       border-radius: 8px;\n       background: var(--card-bg);\n       box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);\n-      transition: box-shadow 0.15s ease, transform 0.15s ease, background 0.2s ease;\n+      transition:\n+        box-shadow 0.15s ease,\n+        transform 0.15s ease,\n+        background 0.2s ease,\n+        border-color 0.2s ease;\n     }\n \n     .report-block:hover {\n@@ -129,12 +133,14 @@\n       align-items: center;\n       justify-content: space-between;\n       cursor: pointer;\n+      gap: 10px;\n     }\n \n     .report-header-main {\n       display: flex;\n       align-items: center;\n       gap: 8px;\n+      flex-wrap: wrap;\n     }\n \n     .caret {\n@@ -151,9 +157,60 @@\n       display: none;\n     }\n \n-    .links a {\n-      margin-right: 12px;\n+    .report-meta-grid {\n+      display: grid;\n+      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n+      gap: 4px 16px;\n+      margin-bottom: 8px;\n+    }\n+\n+    .meta-row {\n+      display: flex;\n+      justify-content: space-between;\n+      font-size: 13px;\n+    }\n+\n+    .meta-label {\n+      font-weight: 600;\n+      margin-right: 6px;\n+    }\n+\n+    .meta-value {\n+      text-align: right;\n+      opacity: 0.9;\n+    }\n+\n+    .quick-summary {\n+      font-size: 13px;\n+      margin: 6px 0 10px;\n+    }\n+\n+    .quick-summary strong {\n+      font-weight: 600;\n+    }\n+\n+    .links {\n+      display: flex;\n+      flex-wrap: wrap;\n+      gap: 8px;\n+      margin-top: 4px;\n+    }\n+\n+    .link-pill {\n+      display: inline-block;\n+      padding: 4px 10px;\n+      border-radius: 999px;\n+      border: 1px solid var(--border-color);\n+      font-size: 12px;\n       text-decoration: none;\n+      background: var(--card-bg);\n+      transition: background 0.15s ease, border-color 0.15s ease;\n+      white-space: nowrap;\n+    }\n+\n+    .link-pill:hover {\n+      background: var(--table-header-bg);\n+      border-color: var(--link-color);\n     }\n \n     table.summary {\n@@ -205,7 +262,10 @@\n       border-radius: 999px;\n       cursor: pointer;\n       font-size: 13px;\n-      transition: background 0.15s ease, border-color 0.15s ease;\n+      transition:\n+        background 0.15s ease,\n+        border-color 0.15s ease,\n+        color 0.15s ease;\n     }\n \n     .toggle-btn:hover,\n@@ -252,7 +312,7 @@\n \n   <h1>Playwright Reports</h1>\n \n-  <p><strong>Published:</strong> {{PUBLISH_TIMESTAMP}}</p>\n+  <p><strong>Published (UTC):</strong> {{PUBLISH_TIMESTAMP}}</p>\n   <p><strong>Commit:</strong> {{COMMIT_SHA}}</p>\n   <p><strong>Run:</strong> #{{RUN_NUMBER}}</p>\n   <p><a href=\"{{RUN_URL}}\">View Full Run Logs</a></p>\n@@ -288,19 +348,23 @@\n       const body = document.body;\n       const themeToggle = document.getElementById('theme-toggle');\n \n+      // THEME\n       const savedTheme = localStorage.getItem('pw-theme');\n       if (savedTheme === 'dark') {\n         body.classList.add('dark-mode');\n-        themeToggle.textContent = '‚òÄÔ∏è Light mode';\n+        if (themeToggle) themeToggle.textContent = '‚òÄÔ∏è Light mode';\n       }\n \n-      themeToggle.addEventListener('click', () => {\n-        body.classList.toggle('dark-mode');\n-        const isDark = body.classList.contains('dark-mode');\n-        localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n-        themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n-      });\n+      if (themeToggle) {\n+        themeToggle.addEventListener('click', () => {\n+          body.classList.toggle('dark-mode');\n+          const isDark = body.classList.contains('dark-mode');\n+          localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n+          themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n+        });\n+      }\n \n+      // FILTERS\n       const filterButtons = document.querySelectorAll('.filter-btn');\n \n       function applyFilter(filter) {\n@@ -308,12 +372,12 @@\n         const blocks = document.querySelectorAll('.report-block');\n \n         rows.forEach(row => {\n-          const status = row.dataset.status;\n+          const status = (row.dataset.status || '').toLowerCase();\n           row.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n \n         blocks.forEach(block => {\n-          const status = block.dataset.status;\n+          const status = (block.dataset.status || '').toLowerCase();\n           block.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n       }\n@@ -326,21 +390,27 @@\n         });\n       });\n \n+      // COLLAPSIBLE REPORT BLOCKS\n       const reportBlocks = document.querySelectorAll('.report-block');\n       reportBlocks.forEach(block => {\n         const header = block.querySelector('.report-header');\n         const caret = block.querySelector('.caret');\n-        const status = block.dataset.status;\n+        const status = (block.dataset.status || '').toLowerCase();\n \n+        // Default: PASS + NONE collapsed, FAIL + SKIP expanded\n         if (status === 'pass' || status === 'none') {\n           block.classList.add('collapsed');\n-          caret.textContent = '‚ñ∂';\n+          if (caret) caret.textContent = '‚ñ∂';\n+        } else {\n+          if (caret) caret.textContent = '‚ñº';\n         }\n \n-        header.addEventListener('click', () => {\n-          const isCollapsed = block.classList.toggle('collapsed');\n-          caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n-        });\n+        if (header) {\n+          header.addEventListener('click', () => {\n+            const isCollapsed = block.classList.toggle('collapsed');\n+            if (caret) caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n+          });\n+        }\n       });\n     });\n   </script>",
          "actualWorkers": 2
        },
        "id": "edge",
        "name": "edge",
        "testDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/tests",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 30000
      },
      {
        "outputDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "ci": {
            "commitHref": "https://github.com/smenouillard/playwright-portfolio/commit/e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "commitHash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "prHref": "https://github.com/smenouillard/playwright-portfolio/pull/1",
            "prTitle": "feat(dashboard): add hybrid dashboard system",
            "prBaseHash": "88e78dd2976c075952af2c2dd8234303e96872e6",
            "buildHref": "https://github.com/smenouillard/playwright-portfolio/actions/runs/19676876690"
          },
          "gitCommit": {
            "shortHash": "e963e46",
            "hash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "subject": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6",
            "body": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6\n",
            "author": {
              "name": "smenouillard",
              "email": "smenouillard@gmail.com",
              "time": 1764088436000
            },
            "committer": {
              "name": "GitHub",
              "email": "noreply@github.com",
              "time": 1764088436000
            },
            "branch": "HEAD"
          },
          "gitDiff": "diff --git a/.github/workflows/playwright.yml b/.github/workflows/playwright.yml\nindex b3faf26..048a648 100644\n--- a/.github/workflows/playwright.yml\n+++ b/.github/workflows/playwright.yml\n@@ -3,6 +3,12 @@\n \n name: Playwright E2E Tests\n \n+# Required permissions for posting PR comments, writing previews, etc.\n+permissions:\n+  contents: read\n+  issues: write\n+  pull-requests: write\n+\n on:\n   push:\n     branches: [main, master]\n@@ -88,7 +94,7 @@ jobs:\n         run: xvfb-run npx playwright test --project=${{ matrix.browser }} || true\n \n       # Run tests on Windows/macOS\n-      - name: Run tests (Windows/macOS)\n+      - name: Run tests (Windows/macCOS)\n         if: matrix.os != 'ubuntu-latest'\n         run: npx playwright test --project=${{ matrix.browser }} || true\n \n@@ -177,11 +183,91 @@ jobs:\n           }'\n           METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n \n-      # Publish to GitHub Pages\n+      # Publish to GitHub Pages (using keep_files instead of force_orphan)\n       - name: Publish to Pages\n         uses: peaceiris/actions-gh-pages@v3.9.2\n         with:\n           github_token: ${{ secrets.PAT }}\n           publish_dir: ./reports\n           commit_message: \"Publish Playwright dashboard [skip ci]\"\n-          force_orphan: true\n+          keep_files: true # ‚Üê ONLY CHANGE\n+\n+  publish-preview:\n+    name: Publish Preview Dashboard\n+    runs-on: ubuntu-latest\n+    needs: test\n+    if: always() && github.ref != 'refs/heads/main'\n+\n+    steps:\n+      # Checkout source\n+      - name: Checkout\n+        uses: actions/checkout@v4.1.1\n+\n+      # Download artifacts\n+      - name: Download artifacts\n+        uses: actions/download-artifact@v4\n+        with:\n+          path: ./reports\n+\n+      # Extract HTML reports for preview\n+      - name: Extract HTML reports\n+        shell: bash\n+        run: |\n+          cd reports\n+          for dir in report-*; do\n+            if [ -d \"$dir\" ] && [ -f \"$dir/playwright-report.zip\" ]; then\n+              mkdir -p \"$dir/playwright-report\"\n+              unzip -q \"$dir/playwright-report.zip\" -d \"$dir/playwright-report\"\n+            fi\n+          done\n+\n+      # Generate preview dashboard\n+      - name: Generate dashboard (preview)\n+        run: |\n+          BRANCH_NAME_SAFE=\"${GITHUB_REF_NAME//\\//-}\"\n+\n+          metadata='{\n+            \"publishTimestamp\": \"'\"$(date -u '+%Y-%m-%d %H:%M UTC')\"'\",\n+            \"commitSha\": \"'\"$GITHUB_SHA\"'\",\n+            \"runNumber\": \"'\"$GITHUB_RUN_NUMBER\"'\",\n+            \"runUrl\": \"https://github.com/'\"$GITHUB_REPOSITORY\"'/actions/runs/'\"$GITHUB_RUN_ID\"'\"\n+          }'\n+\n+          METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n+\n+          mkdir -p \"previews/$BRANCH_NAME_SAFE\"\n+          cp -r reports/* \"previews/$BRANCH_NAME_SAFE/\" || true\n+\n+      # Publish preview dashboard\n+      - name: Publish preview to Pages\n+        uses: peaceiris/actions-gh-pages@v3.9.2\n+        with:\n+          github_token: ${{ secrets.PAT }}\n+          publish_dir: ./previews\n+          commit_message: \"Publish preview dashboard for ${{ github.ref_name }} [skip ci]\"\n+          keep_files: true\n+\n+      # Post preview link comment on PR\n+      - name: Comment preview link on PR\n+        if: github.event_name == 'pull_request'\n+        uses: actions/github-script@v7\n+        with:\n+          script: |\n+            const branch = process.env.GITHUB_REF_NAME.replace(/\\//g, \"-\");\n+            const url  = `https://smenouillard.github.io/Playwright-portfolio/previews/${branch}/`;\n+\n+            const body = [\n+              \"### Preview Dashboard Ready\",\n+              \"\",\n+              \"**URL:**  \",\n+              url,\n+              \"\",\n+              \"_This link updates automatically with each push to this branch._\"\n+            ].join(\"\\n\");\n+\n+            github.rest.issues.createComment({\n+              issue_number: context.issue.number,\n+              owner: context.repo.owner,\n+              repo: context.repo.repo,\n+              body\n+            });\ndiff --git a/scripts/generate-index.js b/scripts/generate-index.js\nindex b202555..cebce64 100644\n--- a/scripts/generate-index.js\n+++ b/scripts/generate-index.js\n@@ -1,19 +1,28 @@\n // /scripts/generate-index.js\n-// Generate Playwright dashboard using HTML template\n+// generate dashboard\n \n const fs = require(\"fs\");\n const path = require(\"path\");\n \n-// --- Setup paths ---\n+// Utility: format UTC timestamps\n+function formatUtcTimestamp(raw) {\n+  if (!raw) return \"N/A\";\n+  const date = new Date(raw);\n+  if (isNaN(date.getTime())) return raw + \" UTC\";\n+  const yyyy = date.getUTCFullYear();\n+  const mm = String(date.getUTCMonth() + 1).padStart(2, \"0\");\n+  const dd = String(date.getUTCDate()).padStart(2, \"0\");\n+  const hh = String(date.getUTCHours()).padStart(2, \"0\");\n+  const min = String(date.getUTCMinutes()).padStart(2, \"0\");\n+  return `${yyyy}-${mm}-${dd} ${hh}:${min} UTC`;\n+}\n+\n+// Setup paths\n const REPORTS_DIR = path.join(process.cwd(), \"reports\");\n const TEMPLATE_PATH = path.join(__dirname, \"templates\", \"index.html\");\n-const METADATA_RELATIVE = path.join(\"metadata\", \"metadata.json\");\n-const JSON_REPORT_RELATIVE = path.join(\"jsonReports\", \"jsonReport.json\");\n-\n-// --- Load HTML template ---\n let template = fs.readFileSync(TEMPLATE_PATH, \"utf8\");\n \n-// --- Load global CI metadata ---\n+// Load global metadata\n let globalMeta = {};\n try {\n   globalMeta = JSON.parse(process.env.METADATA_JSON || \"{}\");\n@@ -21,14 +30,14 @@ try {\n   globalMeta = {};\n }\n \n-// --- Define OS badges ---\n+// OS badges\n const osBadges = {\n   \"ubuntu-latest\": { emoji: \"üêß\", label: \"Ubuntu\" },\n   \"windows-latest\": { emoji: \"ü™ü\", label: \"Windows\" },\n   \"macos-latest\": { emoji: \"üçé\", label: \"macOS\" },\n };\n \n-// --- Define browser badges ---\n+// Browser badges\n const browserBadges = {\n   chromium: { emoji: \"üåê\", label: \"Chromium\" },\n   firefox: { emoji: \"ü¶ä\", label: \"Firefox\" },\n@@ -36,151 +45,148 @@ const browserBadges = {\n   edge: { emoji: \"üü¶\", label: \"Edge\" },\n };\n \n-// --- Format duration from seconds ---\n-function formatDurationSeconds(value) {\n-  const seconds = Math.round(value || 0);\n-  const minutes = Math.floor(seconds / 60);\n-  const remain = seconds % 60;\n-  return minutes > 0 ? `${minutes}m ${remain}s` : `${remain}s`;\n-}\n-\n-// --- Build summary object from Playwright stats ---\n-function computeSummary(stats) {\n-  if (!stats) {\n+// Parse Playwright JSON stats\n+function parseJsonStats(filePath) {\n+  if (!fs.existsSync(filePath)) return null;\n+  try {\n+    const json = JSON.parse(fs.readFileSync(filePath, \"utf8\"));\n+    const stats = json.stats || {};\n+    const totalTests =\n+      (stats.expected || 0) +\n+      (stats.unexpected || 0) +\n+      (stats.skipped || 0);\n     return {\n-      totalTests: 0,\n-      totalFailures: 0,\n-      totalSkipped: 0,\n-      totalTimeSec: 0,\n+      totalTests,\n+      totalFailures: stats.unexpected || 0,\n+      totalSkipped: stats.skipped || 0,\n+      totalTimeSec: (stats.duration || 0) / 1000,\n     };\n+  } catch {\n+    return null;\n   }\n+}\n \n-  const totalTests =\n-    (stats.expected || 0) +\n-    (stats.unexpected || 0) +\n-    (stats.skipped || 0);\n-  const totalFailures = stats.unexpected || 0;\n-  const totalSkipped = stats.skipped || 0;\n-  const totalTimeSec = (stats.duration || 0) / 1000;\n-\n+// Parse JUnit XML\n+function parseJUnitSummary(xml) {\n+  if (!xml) return null;\n+  const suiteRegex = /<testsuite\\b([^>]*)>/g;\n+  let totalTests = 0;\n+  let totalFailures = 0;\n+  let totalSkipped = 0;\n+  let totalTime = 0;\n+  let match;\n+  while ((match = suiteRegex.exec(xml)) !== null) {\n+    const attrs = match[1];\n+    const get = (name) => {\n+      const re = new RegExp(name + '=\"([^\"]+)\"');\n+      const m = re.exec(attrs);\n+      return m ? m[1] : null;\n+    };\n+    totalTests += parseInt(get(\"tests\") || \"0\", 10);\n+    totalFailures += parseInt(get(\"failures\") || \"0\", 10);\n+    totalSkipped += parseInt(get(\"skipped\") || \"0\", 10);\n+    totalTime += parseFloat(get(\"time\") || \"0\");\n+  }\n   return {\n     totalTests,\n     totalFailures,\n     totalSkipped,\n-    totalTimeSec,\n+    totalTimeSec: totalTime,\n   };\n }\n \n-// --- Determine status pill ---\n+// Status pill logic\n function statusInfo(summary) {\n-  if (summary.totalFailures > 0) {\n+  if (!summary)\n+    return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n+  if (summary.totalFailures > 0)\n     return { text: \"FAIL\", emoji: \"üî¥\", css: \"pill-fail\", code: \"fail\" };\n-  }\n-  if (summary.totalSkipped > 0) {\n+  if (summary.totalSkipped > 0)\n     return { text: \"SKIPPED\", emoji: \"üü°\", css: \"pill-skip\", code: \"skip\" };\n-  }\n-  if (summary.totalTests > 0) {\n+  if (summary.totalTests > 0)\n     return { text: \"PASS\", emoji: \"üü¢\", css: \"pill-pass\", code: \"pass\" };\n-  }\n   return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n }\n \n-// --- Load one report entry ---\n+// Load one report folder\n function loadRunEntry(dirName) {\n-  const folderPath = path.join(REPORTS_DIR, dirName);\n-  const metadataFile = path.join(folderPath, METADATA_RELATIVE);\n-\n-  if (!fs.existsSync(metadataFile)) return null;\n-\n+  const folder = path.join(REPORTS_DIR, dirName);\n+  const metadataPath = path.join(folder, \"metadata\", \"metadata.json\");\n+  if (!fs.existsSync(metadataPath)) return null;\n   let metadata;\n   try {\n-    metadata = JSON.parse(fs.readFileSync(metadataFile, \"utf8\"));\n+    metadata = JSON.parse(fs.readFileSync(metadataPath, \"utf8\"));\n   } catch {\n     return null;\n   }\n-\n-  const jsonReportFile = path.join(folderPath, JSON_REPORT_RELATIVE);\n-  let stats = null;\n-\n-  if (fs.existsSync(jsonReportFile)) {\n+  const jsonStats = parseJsonStats(\n+    path.join(folder, \"jsonReports\", \"jsonReport.json\")\n+  );\n+  let junitStats = null;\n+  const junitPath = path.join(folder, \"junit\", \"test-results.xml\");\n+  if (fs.existsSync(junitPath)) {\n     try {\n-      const jsonReport = JSON.parse(\n-        fs.readFileSync(jsonReportFile, \"utf8\")\n-      );\n-      stats = jsonReport.stats || null;\n-    } catch {\n-      stats = null;\n-    }\n+      const xml = fs.readFileSync(junitPath, \"utf8\");\n+      junitStats = parseJUnitSummary(xml);\n+    } catch { }\n   }\n-\n-  const summary = computeSummary(stats);\n-\n-  const osMeta =\n-    osBadges[metadata.os] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.os || \"Unknown OS\",\n-    };\n-\n-  const browserMeta =\n-    browserBadges[metadata.browser] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.browser || \"Unknown\",\n-    };\n-\n-  const status = statusInfo(summary);\n-\n+  const finalStats = jsonStats || junitStats || {\n+    totalTests: 0,\n+    totalFailures: 0,\n+    totalSkipped: 0,\n+    totalTimeSec: 0,\n+  };\n+  const status = statusInfo(finalStats);\n+  const osMeta = osBadges[metadata.os] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.os || \"Unknown OS\",\n+  };\n+  const browserMeta = browserBadges[metadata.browser] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.browser || \"Unknown\",\n+  };\n   return {\n     name: dirName,\n     metadata,\n-    summary,\n+    stats: finalStats,\n+    status,\n     os: osMeta,\n     browser: browserMeta,\n-    status,\n   };\n }\n \n-// --- Load all report entries ---\n+// Load entries\n function loadEntries() {\n   if (!fs.existsSync(REPORTS_DIR)) return [];\n-\n-  const dirents = fs\n+  return fs\n     .readdirSync(REPORTS_DIR, { withFileTypes: true })\n-    .filter((d) => d.isDirectory());\n-\n-  const entries = dirents\n-    .filter((d) => d.name.startsWith(\"report-\"))\n+    .filter((d) => d.isDirectory() && d.name.startsWith(\"report-\"))\n     .map((d) => loadRunEntry(d.name))\n     .filter(Boolean);\n-\n-  return entries;\n }\n \n-// --- Define OS order for display ---\n+// OS sorting priority\n const OS_ORDER = [\"windows-latest\", \"macos-latest\", \"ubuntu-latest\"];\n \n-// --- Sort entries by OS and then by browser ---\n+// Sort entries\n function sortEntries(entries) {\n-  return entries.slice().sort((a, b) => {\n-    const aIndex = OS_ORDER.indexOf(a.metadata.os);\n-    const bIndex = OS_ORDER.indexOf(b.metadata.os);\n-\n-    const aRank = aIndex === -1 ? OS_ORDER.length : aIndex;\n-    const bRank = bIndex === -1 ? OS_ORDER.length : bIndex;\n-\n-    if (aRank !== bRank) return aRank - bRank;\n-\n-    return (a.metadata.browser || \"\").localeCompare(\n-      b.metadata.browser || \"\"\n-    );\n+  return entries.sort((a, b) => {\n+    const aOs = OS_ORDER.indexOf(a.metadata.os);\n+    const bOs = OS_ORDER.indexOf(b.metadata.os);\n+    if (aOs !== bOs) return aOs - bOs;\n+    if (a.metadata.browser !== b.metadata.browser) {\n+      return (a.metadata.browser || \"\").localeCompare(\n+        b.metadata.browser || \"\"\n+      );\n+    }\n+    const order = { fail: 0, skip: 1, pass: 2, none: 3 };\n+    return order[a.status.code] - order[b.status.code];\n   });\n }\n \n-// --- Build summary table HTML ---\n+// Build summary table\n function buildSummaryTable(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let html = `\n <table class=\"summary\">\n   <thead>\n@@ -189,115 +195,102 @@ function buildSummaryTable(entries) {\n       <th>OS</th>\n       <th>Browser</th>\n       <th>Total</th>\n-      <th>Failed</th>\n+      <th>Failures</th>\n       <th>Skipped</th>\n       <th>Duration</th>\n     </tr>\n   </thead>\n   <tbody>\n `;\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n     html += `\n-    <tr class=\"summary-row\" data-status=\"${e.status.code}\">\n-      <td class=\"status-cell\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-      </td>\n-      <td>${e.os.emoji} ${e.os.label}</td>\n-      <td>${e.browser.emoji} ${e.browser.label}</td>\n-      <td class=\"num-cell\">${e.summary.totalTests}</td>\n-      <td class=\"num-cell\">${e.summary.totalFailures}</td>\n-      <td class=\"num-cell\">${e.summary.totalSkipped}</td>\n-      <td>${formatDurationSeconds(e.summary.totalTimeSec)}</td>\n-    </tr>\n-`;\n-  });\n-\n+<tr class=\"summary-row\" data-status=\"${e.status.code}\">\n+  <td class=\"status-cell\">\n+    <span class=\"status-pill ${e.status.css}\">\n+      ${e.status.emoji} ${e.status.text}\n+    </span>\n+  </td>\n+  <td>${e.os.emoji} ${e.os.label}</td>\n+  <td>${e.browser.emoji} ${e.browser.label}</td>\n+  <td class=\"num-cell\">${e.stats.totalTests}</td>\n+  <td class=\"num-cell\">${e.stats.totalFailures}</td>\n+  <td class=\"num-cell\">${e.stats.totalSkipped}</td>\n+  <td>${Math.round(e.stats.totalTimeSec)}s</td>\n+</tr>`;\n+  }\n   html += `\n   </tbody>\n </table>\n `;\n-\n   return html;\n }\n \n-// --- Build detailed report blocks HTML ---\n+// Build hybrid blocks\n function buildReportBlocks(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let blocks = \"\";\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n+    const timestamp = formatUtcTimestamp(e.metadata.timestamp);\n     blocks += `\n <div class=\"report-block\" data-status=\"${e.status.code}\">\n   <div class=\"report-header\">\n     <div class=\"report-header-main\">\n-      <div class=\"report-title\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-        <span class=\"os-label\">${e.os.emoji} ${e.os.label}</span>\n-        <span class=\"browser-label\">${e.browser.emoji} ${e.browser.label}</span>\n-      </div>\n-      <div class=\"report-header-meta\">\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Tests:</span>\n-          <span class=\"meta-value\">${e.summary.totalTests}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Failed:</span>\n-          <span class=\"meta-value\">${e.summary.totalFailures}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Skipped:</span>\n-          <span class=\"meta-value\">${e.summary.totalSkipped}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Duration:</span>\n-          <span class=\"meta-value\">${formatDurationSeconds(\n-      e.summary.totalTimeSec\n-    )}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Timestamp:</span>\n-          <span class=\"meta-value\">${e.metadata.timestamp || \"\"}</span>\n-        </div>\n-      </div>\n-      <div class=\"links\">\n-        <a href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">\n-          Open HTML report\n-        </a>\n-        <a href=\"./${e.name}/playwright-report.zip\" download>\n-          Download ZIP\n-        </a>\n-      </div>\n+      <span class=\"status-pill ${e.status.css}\">\n+        ${e.status.emoji} ${e.status.text}\n+      </span>\n+      <span class=\"badge os-badge\">${e.os.emoji} ${e.os.label}</span>\n+      <span class=\"badge browser-badge\">${e.browser.emoji} ${e.browser.label}</span>\n+    </div>\n+    <span class=\"caret\">‚ñº</span>\n+  </div>\n+\n+  <div class=\"report-content\">\n+\n+    <div class=\"report-meta-grid\">\n+      <div class=\"meta-row\"><span class=\"meta-label\">Tests:</span><span class=\"meta-value\">${e.stats.totalTests}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Failed:</span><span class=\"meta-value\">${e.stats.totalFailures}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Skipped:</span><span class=\"meta-value\">${e.stats.totalSkipped}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Duration:</span><span class=\"meta-value\">${Math.round(e.stats.totalTimeSec)}s</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Timestamp:</span><span class=\"meta-value\">${timestamp}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Runner:</span><span class=\"meta-value\">${e.metadata.os}</span></div>\n     </div>\n+\n+    <div class=\"quick-summary\">\n+      üìä <strong>${e.stats.totalTests}</strong> tests ‚Ä¢\n+      ‚ö† <strong>${e.stats.totalFailures}</strong> failed ‚Ä¢\n+      ‚ûñ <strong>${e.stats.totalSkipped}</strong> skipped ‚Ä¢\n+      ‚è± <strong>${Math.round(e.stats.totalTimeSec)}s</strong>\n+    </div>\n+\n+    <div class=\"links\">\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">üìÑ HTML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/jsonReports/jsonReport.json\" target=\"_blank\">üß© JSON</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/junit/test-results.xml\" target=\"_blank\">üìë XML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report.zip\" download>üì¶ ZIP</a>\n+      <a class=\"link-pill\" href=\"${globalMeta.runUrl}\" target=\"_blank\">üìò Logs</a>\n+    </div>\n+\n   </div>\n </div>\n `;\n-  });\n-\n+  }\n   return blocks;\n }\n \n-// --- Generate dashboard HTML ---\n+// Generate final HTML\n const entries = sortEntries(loadEntries());\n const summaryTable = buildSummaryTable(entries);\n const reportBlocks = buildReportBlocks(entries);\n \n template = template\n-  .replace(\"{{PUBLISH_TIMESTAMP}}\", globalMeta.publishTimestamp || \"N/A\")\n+  .replace(\"{{PUBLISH_TIMESTAMP}}\", formatUtcTimestamp(globalMeta.publishTimestamp))\n   .replace(\"{{COMMIT_SHA}}\", globalMeta.commitSha || \"N/A\")\n   .replace(\"{{RUN_NUMBER}}\", globalMeta.runNumber || \"N/A\")\n   .replace(\"{{RUN_URL}}\", globalMeta.runUrl || \"#\")\n   .replace(\"{{SUMMARY_TABLE}}\", summaryTable)\n   .replace(\"{{REPORT_LIST}}\", reportBlocks);\n \n-// --- Write final index.html ---\n+// Write dashboard\n fs.writeFileSync(path.join(REPORTS_DIR, \"index.html\"), template, \"utf8\");\n \n-console.log(\"Dashboard generated successfully.\");\n+console.log(\"Super Dashboard (Hybrid Version) generated successfully.\");\ndiff --git a/scripts/templates/index.html b/scripts/templates/index.html\nindex bbb93d9..b4745a2 100644\n--- a/scripts/templates/index.html\n+++ b/scripts/templates/index.html\n@@ -116,7 +116,11 @@\n       border-radius: 8px;\n       background: var(--card-bg);\n       box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);\n-      transition: box-shadow 0.15s ease, transform 0.15s ease, background 0.2s ease;\n+      transition:\n+        box-shadow 0.15s ease,\n+        transform 0.15s ease,\n+        background 0.2s ease,\n+        border-color 0.2s ease;\n     }\n \n     .report-block:hover {\n@@ -129,12 +133,14 @@\n       align-items: center;\n       justify-content: space-between;\n       cursor: pointer;\n+      gap: 10px;\n     }\n \n     .report-header-main {\n       display: flex;\n       align-items: center;\n       gap: 8px;\n+      flex-wrap: wrap;\n     }\n \n     .caret {\n@@ -151,9 +157,60 @@\n       display: none;\n     }\n \n-    .links a {\n-      margin-right: 12px;\n+    .report-meta-grid {\n+      display: grid;\n+      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n+      gap: 4px 16px;\n+      margin-bottom: 8px;\n+    }\n+\n+    .meta-row {\n+      display: flex;\n+      justify-content: space-between;\n+      font-size: 13px;\n+    }\n+\n+    .meta-label {\n+      font-weight: 600;\n+      margin-right: 6px;\n+    }\n+\n+    .meta-value {\n+      text-align: right;\n+      opacity: 0.9;\n+    }\n+\n+    .quick-summary {\n+      font-size: 13px;\n+      margin: 6px 0 10px;\n+    }\n+\n+    .quick-summary strong {\n+      font-weight: 600;\n+    }\n+\n+    .links {\n+      display: flex;\n+      flex-wrap: wrap;\n+      gap: 8px;\n+      margin-top: 4px;\n+    }\n+\n+    .link-pill {\n+      display: inline-block;\n+      padding: 4px 10px;\n+      border-radius: 999px;\n+      border: 1px solid var(--border-color);\n+      font-size: 12px;\n       text-decoration: none;\n+      background: var(--card-bg);\n+      transition: background 0.15s ease, border-color 0.15s ease;\n+      white-space: nowrap;\n+    }\n+\n+    .link-pill:hover {\n+      background: var(--table-header-bg);\n+      border-color: var(--link-color);\n     }\n \n     table.summary {\n@@ -205,7 +262,10 @@\n       border-radius: 999px;\n       cursor: pointer;\n       font-size: 13px;\n-      transition: background 0.15s ease, border-color 0.15s ease;\n+      transition:\n+        background 0.15s ease,\n+        border-color 0.15s ease,\n+        color 0.15s ease;\n     }\n \n     .toggle-btn:hover,\n@@ -252,7 +312,7 @@\n \n   <h1>Playwright Reports</h1>\n \n-  <p><strong>Published:</strong> {{PUBLISH_TIMESTAMP}}</p>\n+  <p><strong>Published (UTC):</strong> {{PUBLISH_TIMESTAMP}}</p>\n   <p><strong>Commit:</strong> {{COMMIT_SHA}}</p>\n   <p><strong>Run:</strong> #{{RUN_NUMBER}}</p>\n   <p><a href=\"{{RUN_URL}}\">View Full Run Logs</a></p>\n@@ -288,19 +348,23 @@\n       const body = document.body;\n       const themeToggle = document.getElementById('theme-toggle');\n \n+      // THEME\n       const savedTheme = localStorage.getItem('pw-theme');\n       if (savedTheme === 'dark') {\n         body.classList.add('dark-mode');\n-        themeToggle.textContent = '‚òÄÔ∏è Light mode';\n+        if (themeToggle) themeToggle.textContent = '‚òÄÔ∏è Light mode';\n       }\n \n-      themeToggle.addEventListener('click', () => {\n-        body.classList.toggle('dark-mode');\n-        const isDark = body.classList.contains('dark-mode');\n-        localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n-        themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n-      });\n+      if (themeToggle) {\n+        themeToggle.addEventListener('click', () => {\n+          body.classList.toggle('dark-mode');\n+          const isDark = body.classList.contains('dark-mode');\n+          localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n+          themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n+        });\n+      }\n \n+      // FILTERS\n       const filterButtons = document.querySelectorAll('.filter-btn');\n \n       function applyFilter(filter) {\n@@ -308,12 +372,12 @@\n         const blocks = document.querySelectorAll('.report-block');\n \n         rows.forEach(row => {\n-          const status = row.dataset.status;\n+          const status = (row.dataset.status || '').toLowerCase();\n           row.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n \n         blocks.forEach(block => {\n-          const status = block.dataset.status;\n+          const status = (block.dataset.status || '').toLowerCase();\n           block.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n       }\n@@ -326,21 +390,27 @@\n         });\n       });\n \n+      // COLLAPSIBLE REPORT BLOCKS\n       const reportBlocks = document.querySelectorAll('.report-block');\n       reportBlocks.forEach(block => {\n         const header = block.querySelector('.report-header');\n         const caret = block.querySelector('.caret');\n-        const status = block.dataset.status;\n+        const status = (block.dataset.status || '').toLowerCase();\n \n+        // Default: PASS + NONE collapsed, FAIL + SKIP expanded\n         if (status === 'pass' || status === 'none') {\n           block.classList.add('collapsed');\n-          caret.textContent = '‚ñ∂';\n+          if (caret) caret.textContent = '‚ñ∂';\n+        } else {\n+          if (caret) caret.textContent = '‚ñº';\n         }\n \n-        header.addEventListener('click', () => {\n-          const isCollapsed = block.classList.toggle('collapsed');\n-          caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n-        });\n+        if (header) {\n+          header.addEventListener('click', () => {\n+            const isCollapsed = block.classList.toggle('collapsed');\n+            if (caret) caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n+          });\n+        }\n       });\n     });\n   </script>",
          "actualWorkers": 2
        },
        "id": "chromium-mac",
        "name": "chromium-mac",
        "testDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/tests",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 30000
      },
      {
        "outputDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "ci": {
            "commitHref": "https://github.com/smenouillard/playwright-portfolio/commit/e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "commitHash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "prHref": "https://github.com/smenouillard/playwright-portfolio/pull/1",
            "prTitle": "feat(dashboard): add hybrid dashboard system",
            "prBaseHash": "88e78dd2976c075952af2c2dd8234303e96872e6",
            "buildHref": "https://github.com/smenouillard/playwright-portfolio/actions/runs/19676876690"
          },
          "gitCommit": {
            "shortHash": "e963e46",
            "hash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "subject": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6",
            "body": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6\n",
            "author": {
              "name": "smenouillard",
              "email": "smenouillard@gmail.com",
              "time": 1764088436000
            },
            "committer": {
              "name": "GitHub",
              "email": "noreply@github.com",
              "time": 1764088436000
            },
            "branch": "HEAD"
          },
          "gitDiff": "diff --git a/.github/workflows/playwright.yml b/.github/workflows/playwright.yml\nindex b3faf26..048a648 100644\n--- a/.github/workflows/playwright.yml\n+++ b/.github/workflows/playwright.yml\n@@ -3,6 +3,12 @@\n \n name: Playwright E2E Tests\n \n+# Required permissions for posting PR comments, writing previews, etc.\n+permissions:\n+  contents: read\n+  issues: write\n+  pull-requests: write\n+\n on:\n   push:\n     branches: [main, master]\n@@ -88,7 +94,7 @@ jobs:\n         run: xvfb-run npx playwright test --project=${{ matrix.browser }} || true\n \n       # Run tests on Windows/macOS\n-      - name: Run tests (Windows/macOS)\n+      - name: Run tests (Windows/macCOS)\n         if: matrix.os != 'ubuntu-latest'\n         run: npx playwright test --project=${{ matrix.browser }} || true\n \n@@ -177,11 +183,91 @@ jobs:\n           }'\n           METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n \n-      # Publish to GitHub Pages\n+      # Publish to GitHub Pages (using keep_files instead of force_orphan)\n       - name: Publish to Pages\n         uses: peaceiris/actions-gh-pages@v3.9.2\n         with:\n           github_token: ${{ secrets.PAT }}\n           publish_dir: ./reports\n           commit_message: \"Publish Playwright dashboard [skip ci]\"\n-          force_orphan: true\n+          keep_files: true # ‚Üê ONLY CHANGE\n+\n+  publish-preview:\n+    name: Publish Preview Dashboard\n+    runs-on: ubuntu-latest\n+    needs: test\n+    if: always() && github.ref != 'refs/heads/main'\n+\n+    steps:\n+      # Checkout source\n+      - name: Checkout\n+        uses: actions/checkout@v4.1.1\n+\n+      # Download artifacts\n+      - name: Download artifacts\n+        uses: actions/download-artifact@v4\n+        with:\n+          path: ./reports\n+\n+      # Extract HTML reports for preview\n+      - name: Extract HTML reports\n+        shell: bash\n+        run: |\n+          cd reports\n+          for dir in report-*; do\n+            if [ -d \"$dir\" ] && [ -f \"$dir/playwright-report.zip\" ]; then\n+              mkdir -p \"$dir/playwright-report\"\n+              unzip -q \"$dir/playwright-report.zip\" -d \"$dir/playwright-report\"\n+            fi\n+          done\n+\n+      # Generate preview dashboard\n+      - name: Generate dashboard (preview)\n+        run: |\n+          BRANCH_NAME_SAFE=\"${GITHUB_REF_NAME//\\//-}\"\n+\n+          metadata='{\n+            \"publishTimestamp\": \"'\"$(date -u '+%Y-%m-%d %H:%M UTC')\"'\",\n+            \"commitSha\": \"'\"$GITHUB_SHA\"'\",\n+            \"runNumber\": \"'\"$GITHUB_RUN_NUMBER\"'\",\n+            \"runUrl\": \"https://github.com/'\"$GITHUB_REPOSITORY\"'/actions/runs/'\"$GITHUB_RUN_ID\"'\"\n+          }'\n+\n+          METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n+\n+          mkdir -p \"previews/$BRANCH_NAME_SAFE\"\n+          cp -r reports/* \"previews/$BRANCH_NAME_SAFE/\" || true\n+\n+      # Publish preview dashboard\n+      - name: Publish preview to Pages\n+        uses: peaceiris/actions-gh-pages@v3.9.2\n+        with:\n+          github_token: ${{ secrets.PAT }}\n+          publish_dir: ./previews\n+          commit_message: \"Publish preview dashboard for ${{ github.ref_name }} [skip ci]\"\n+          keep_files: true\n+\n+      # Post preview link comment on PR\n+      - name: Comment preview link on PR\n+        if: github.event_name == 'pull_request'\n+        uses: actions/github-script@v7\n+        with:\n+          script: |\n+            const branch = process.env.GITHUB_REF_NAME.replace(/\\//g, \"-\");\n+            const url  = `https://smenouillard.github.io/Playwright-portfolio/previews/${branch}/`;\n+\n+            const body = [\n+              \"### Preview Dashboard Ready\",\n+              \"\",\n+              \"**URL:**  \",\n+              url,\n+              \"\",\n+              \"_This link updates automatically with each push to this branch._\"\n+            ].join(\"\\n\");\n+\n+            github.rest.issues.createComment({\n+              issue_number: context.issue.number,\n+              owner: context.repo.owner,\n+              repo: context.repo.repo,\n+              body\n+            });\ndiff --git a/scripts/generate-index.js b/scripts/generate-index.js\nindex b202555..cebce64 100644\n--- a/scripts/generate-index.js\n+++ b/scripts/generate-index.js\n@@ -1,19 +1,28 @@\n // /scripts/generate-index.js\n-// Generate Playwright dashboard using HTML template\n+// generate dashboard\n \n const fs = require(\"fs\");\n const path = require(\"path\");\n \n-// --- Setup paths ---\n+// Utility: format UTC timestamps\n+function formatUtcTimestamp(raw) {\n+  if (!raw) return \"N/A\";\n+  const date = new Date(raw);\n+  if (isNaN(date.getTime())) return raw + \" UTC\";\n+  const yyyy = date.getUTCFullYear();\n+  const mm = String(date.getUTCMonth() + 1).padStart(2, \"0\");\n+  const dd = String(date.getUTCDate()).padStart(2, \"0\");\n+  const hh = String(date.getUTCHours()).padStart(2, \"0\");\n+  const min = String(date.getUTCMinutes()).padStart(2, \"0\");\n+  return `${yyyy}-${mm}-${dd} ${hh}:${min} UTC`;\n+}\n+\n+// Setup paths\n const REPORTS_DIR = path.join(process.cwd(), \"reports\");\n const TEMPLATE_PATH = path.join(__dirname, \"templates\", \"index.html\");\n-const METADATA_RELATIVE = path.join(\"metadata\", \"metadata.json\");\n-const JSON_REPORT_RELATIVE = path.join(\"jsonReports\", \"jsonReport.json\");\n-\n-// --- Load HTML template ---\n let template = fs.readFileSync(TEMPLATE_PATH, \"utf8\");\n \n-// --- Load global CI metadata ---\n+// Load global metadata\n let globalMeta = {};\n try {\n   globalMeta = JSON.parse(process.env.METADATA_JSON || \"{}\");\n@@ -21,14 +30,14 @@ try {\n   globalMeta = {};\n }\n \n-// --- Define OS badges ---\n+// OS badges\n const osBadges = {\n   \"ubuntu-latest\": { emoji: \"üêß\", label: \"Ubuntu\" },\n   \"windows-latest\": { emoji: \"ü™ü\", label: \"Windows\" },\n   \"macos-latest\": { emoji: \"üçé\", label: \"macOS\" },\n };\n \n-// --- Define browser badges ---\n+// Browser badges\n const browserBadges = {\n   chromium: { emoji: \"üåê\", label: \"Chromium\" },\n   firefox: { emoji: \"ü¶ä\", label: \"Firefox\" },\n@@ -36,151 +45,148 @@ const browserBadges = {\n   edge: { emoji: \"üü¶\", label: \"Edge\" },\n };\n \n-// --- Format duration from seconds ---\n-function formatDurationSeconds(value) {\n-  const seconds = Math.round(value || 0);\n-  const minutes = Math.floor(seconds / 60);\n-  const remain = seconds % 60;\n-  return minutes > 0 ? `${minutes}m ${remain}s` : `${remain}s`;\n-}\n-\n-// --- Build summary object from Playwright stats ---\n-function computeSummary(stats) {\n-  if (!stats) {\n+// Parse Playwright JSON stats\n+function parseJsonStats(filePath) {\n+  if (!fs.existsSync(filePath)) return null;\n+  try {\n+    const json = JSON.parse(fs.readFileSync(filePath, \"utf8\"));\n+    const stats = json.stats || {};\n+    const totalTests =\n+      (stats.expected || 0) +\n+      (stats.unexpected || 0) +\n+      (stats.skipped || 0);\n     return {\n-      totalTests: 0,\n-      totalFailures: 0,\n-      totalSkipped: 0,\n-      totalTimeSec: 0,\n+      totalTests,\n+      totalFailures: stats.unexpected || 0,\n+      totalSkipped: stats.skipped || 0,\n+      totalTimeSec: (stats.duration || 0) / 1000,\n     };\n+  } catch {\n+    return null;\n   }\n+}\n \n-  const totalTests =\n-    (stats.expected || 0) +\n-    (stats.unexpected || 0) +\n-    (stats.skipped || 0);\n-  const totalFailures = stats.unexpected || 0;\n-  const totalSkipped = stats.skipped || 0;\n-  const totalTimeSec = (stats.duration || 0) / 1000;\n-\n+// Parse JUnit XML\n+function parseJUnitSummary(xml) {\n+  if (!xml) return null;\n+  const suiteRegex = /<testsuite\\b([^>]*)>/g;\n+  let totalTests = 0;\n+  let totalFailures = 0;\n+  let totalSkipped = 0;\n+  let totalTime = 0;\n+  let match;\n+  while ((match = suiteRegex.exec(xml)) !== null) {\n+    const attrs = match[1];\n+    const get = (name) => {\n+      const re = new RegExp(name + '=\"([^\"]+)\"');\n+      const m = re.exec(attrs);\n+      return m ? m[1] : null;\n+    };\n+    totalTests += parseInt(get(\"tests\") || \"0\", 10);\n+    totalFailures += parseInt(get(\"failures\") || \"0\", 10);\n+    totalSkipped += parseInt(get(\"skipped\") || \"0\", 10);\n+    totalTime += parseFloat(get(\"time\") || \"0\");\n+  }\n   return {\n     totalTests,\n     totalFailures,\n     totalSkipped,\n-    totalTimeSec,\n+    totalTimeSec: totalTime,\n   };\n }\n \n-// --- Determine status pill ---\n+// Status pill logic\n function statusInfo(summary) {\n-  if (summary.totalFailures > 0) {\n+  if (!summary)\n+    return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n+  if (summary.totalFailures > 0)\n     return { text: \"FAIL\", emoji: \"üî¥\", css: \"pill-fail\", code: \"fail\" };\n-  }\n-  if (summary.totalSkipped > 0) {\n+  if (summary.totalSkipped > 0)\n     return { text: \"SKIPPED\", emoji: \"üü°\", css: \"pill-skip\", code: \"skip\" };\n-  }\n-  if (summary.totalTests > 0) {\n+  if (summary.totalTests > 0)\n     return { text: \"PASS\", emoji: \"üü¢\", css: \"pill-pass\", code: \"pass\" };\n-  }\n   return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n }\n \n-// --- Load one report entry ---\n+// Load one report folder\n function loadRunEntry(dirName) {\n-  const folderPath = path.join(REPORTS_DIR, dirName);\n-  const metadataFile = path.join(folderPath, METADATA_RELATIVE);\n-\n-  if (!fs.existsSync(metadataFile)) return null;\n-\n+  const folder = path.join(REPORTS_DIR, dirName);\n+  const metadataPath = path.join(folder, \"metadata\", \"metadata.json\");\n+  if (!fs.existsSync(metadataPath)) return null;\n   let metadata;\n   try {\n-    metadata = JSON.parse(fs.readFileSync(metadataFile, \"utf8\"));\n+    metadata = JSON.parse(fs.readFileSync(metadataPath, \"utf8\"));\n   } catch {\n     return null;\n   }\n-\n-  const jsonReportFile = path.join(folderPath, JSON_REPORT_RELATIVE);\n-  let stats = null;\n-\n-  if (fs.existsSync(jsonReportFile)) {\n+  const jsonStats = parseJsonStats(\n+    path.join(folder, \"jsonReports\", \"jsonReport.json\")\n+  );\n+  let junitStats = null;\n+  const junitPath = path.join(folder, \"junit\", \"test-results.xml\");\n+  if (fs.existsSync(junitPath)) {\n     try {\n-      const jsonReport = JSON.parse(\n-        fs.readFileSync(jsonReportFile, \"utf8\")\n-      );\n-      stats = jsonReport.stats || null;\n-    } catch {\n-      stats = null;\n-    }\n+      const xml = fs.readFileSync(junitPath, \"utf8\");\n+      junitStats = parseJUnitSummary(xml);\n+    } catch { }\n   }\n-\n-  const summary = computeSummary(stats);\n-\n-  const osMeta =\n-    osBadges[metadata.os] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.os || \"Unknown OS\",\n-    };\n-\n-  const browserMeta =\n-    browserBadges[metadata.browser] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.browser || \"Unknown\",\n-    };\n-\n-  const status = statusInfo(summary);\n-\n+  const finalStats = jsonStats || junitStats || {\n+    totalTests: 0,\n+    totalFailures: 0,\n+    totalSkipped: 0,\n+    totalTimeSec: 0,\n+  };\n+  const status = statusInfo(finalStats);\n+  const osMeta = osBadges[metadata.os] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.os || \"Unknown OS\",\n+  };\n+  const browserMeta = browserBadges[metadata.browser] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.browser || \"Unknown\",\n+  };\n   return {\n     name: dirName,\n     metadata,\n-    summary,\n+    stats: finalStats,\n+    status,\n     os: osMeta,\n     browser: browserMeta,\n-    status,\n   };\n }\n \n-// --- Load all report entries ---\n+// Load entries\n function loadEntries() {\n   if (!fs.existsSync(REPORTS_DIR)) return [];\n-\n-  const dirents = fs\n+  return fs\n     .readdirSync(REPORTS_DIR, { withFileTypes: true })\n-    .filter((d) => d.isDirectory());\n-\n-  const entries = dirents\n-    .filter((d) => d.name.startsWith(\"report-\"))\n+    .filter((d) => d.isDirectory() && d.name.startsWith(\"report-\"))\n     .map((d) => loadRunEntry(d.name))\n     .filter(Boolean);\n-\n-  return entries;\n }\n \n-// --- Define OS order for display ---\n+// OS sorting priority\n const OS_ORDER = [\"windows-latest\", \"macos-latest\", \"ubuntu-latest\"];\n \n-// --- Sort entries by OS and then by browser ---\n+// Sort entries\n function sortEntries(entries) {\n-  return entries.slice().sort((a, b) => {\n-    const aIndex = OS_ORDER.indexOf(a.metadata.os);\n-    const bIndex = OS_ORDER.indexOf(b.metadata.os);\n-\n-    const aRank = aIndex === -1 ? OS_ORDER.length : aIndex;\n-    const bRank = bIndex === -1 ? OS_ORDER.length : bIndex;\n-\n-    if (aRank !== bRank) return aRank - bRank;\n-\n-    return (a.metadata.browser || \"\").localeCompare(\n-      b.metadata.browser || \"\"\n-    );\n+  return entries.sort((a, b) => {\n+    const aOs = OS_ORDER.indexOf(a.metadata.os);\n+    const bOs = OS_ORDER.indexOf(b.metadata.os);\n+    if (aOs !== bOs) return aOs - bOs;\n+    if (a.metadata.browser !== b.metadata.browser) {\n+      return (a.metadata.browser || \"\").localeCompare(\n+        b.metadata.browser || \"\"\n+      );\n+    }\n+    const order = { fail: 0, skip: 1, pass: 2, none: 3 };\n+    return order[a.status.code] - order[b.status.code];\n   });\n }\n \n-// --- Build summary table HTML ---\n+// Build summary table\n function buildSummaryTable(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let html = `\n <table class=\"summary\">\n   <thead>\n@@ -189,115 +195,102 @@ function buildSummaryTable(entries) {\n       <th>OS</th>\n       <th>Browser</th>\n       <th>Total</th>\n-      <th>Failed</th>\n+      <th>Failures</th>\n       <th>Skipped</th>\n       <th>Duration</th>\n     </tr>\n   </thead>\n   <tbody>\n `;\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n     html += `\n-    <tr class=\"summary-row\" data-status=\"${e.status.code}\">\n-      <td class=\"status-cell\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-      </td>\n-      <td>${e.os.emoji} ${e.os.label}</td>\n-      <td>${e.browser.emoji} ${e.browser.label}</td>\n-      <td class=\"num-cell\">${e.summary.totalTests}</td>\n-      <td class=\"num-cell\">${e.summary.totalFailures}</td>\n-      <td class=\"num-cell\">${e.summary.totalSkipped}</td>\n-      <td>${formatDurationSeconds(e.summary.totalTimeSec)}</td>\n-    </tr>\n-`;\n-  });\n-\n+<tr class=\"summary-row\" data-status=\"${e.status.code}\">\n+  <td class=\"status-cell\">\n+    <span class=\"status-pill ${e.status.css}\">\n+      ${e.status.emoji} ${e.status.text}\n+    </span>\n+  </td>\n+  <td>${e.os.emoji} ${e.os.label}</td>\n+  <td>${e.browser.emoji} ${e.browser.label}</td>\n+  <td class=\"num-cell\">${e.stats.totalTests}</td>\n+  <td class=\"num-cell\">${e.stats.totalFailures}</td>\n+  <td class=\"num-cell\">${e.stats.totalSkipped}</td>\n+  <td>${Math.round(e.stats.totalTimeSec)}s</td>\n+</tr>`;\n+  }\n   html += `\n   </tbody>\n </table>\n `;\n-\n   return html;\n }\n \n-// --- Build detailed report blocks HTML ---\n+// Build hybrid blocks\n function buildReportBlocks(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let blocks = \"\";\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n+    const timestamp = formatUtcTimestamp(e.metadata.timestamp);\n     blocks += `\n <div class=\"report-block\" data-status=\"${e.status.code}\">\n   <div class=\"report-header\">\n     <div class=\"report-header-main\">\n-      <div class=\"report-title\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-        <span class=\"os-label\">${e.os.emoji} ${e.os.label}</span>\n-        <span class=\"browser-label\">${e.browser.emoji} ${e.browser.label}</span>\n-      </div>\n-      <div class=\"report-header-meta\">\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Tests:</span>\n-          <span class=\"meta-value\">${e.summary.totalTests}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Failed:</span>\n-          <span class=\"meta-value\">${e.summary.totalFailures}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Skipped:</span>\n-          <span class=\"meta-value\">${e.summary.totalSkipped}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Duration:</span>\n-          <span class=\"meta-value\">${formatDurationSeconds(\n-      e.summary.totalTimeSec\n-    )}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Timestamp:</span>\n-          <span class=\"meta-value\">${e.metadata.timestamp || \"\"}</span>\n-        </div>\n-      </div>\n-      <div class=\"links\">\n-        <a href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">\n-          Open HTML report\n-        </a>\n-        <a href=\"./${e.name}/playwright-report.zip\" download>\n-          Download ZIP\n-        </a>\n-      </div>\n+      <span class=\"status-pill ${e.status.css}\">\n+        ${e.status.emoji} ${e.status.text}\n+      </span>\n+      <span class=\"badge os-badge\">${e.os.emoji} ${e.os.label}</span>\n+      <span class=\"badge browser-badge\">${e.browser.emoji} ${e.browser.label}</span>\n+    </div>\n+    <span class=\"caret\">‚ñº</span>\n+  </div>\n+\n+  <div class=\"report-content\">\n+\n+    <div class=\"report-meta-grid\">\n+      <div class=\"meta-row\"><span class=\"meta-label\">Tests:</span><span class=\"meta-value\">${e.stats.totalTests}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Failed:</span><span class=\"meta-value\">${e.stats.totalFailures}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Skipped:</span><span class=\"meta-value\">${e.stats.totalSkipped}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Duration:</span><span class=\"meta-value\">${Math.round(e.stats.totalTimeSec)}s</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Timestamp:</span><span class=\"meta-value\">${timestamp}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Runner:</span><span class=\"meta-value\">${e.metadata.os}</span></div>\n     </div>\n+\n+    <div class=\"quick-summary\">\n+      üìä <strong>${e.stats.totalTests}</strong> tests ‚Ä¢\n+      ‚ö† <strong>${e.stats.totalFailures}</strong> failed ‚Ä¢\n+      ‚ûñ <strong>${e.stats.totalSkipped}</strong> skipped ‚Ä¢\n+      ‚è± <strong>${Math.round(e.stats.totalTimeSec)}s</strong>\n+    </div>\n+\n+    <div class=\"links\">\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">üìÑ HTML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/jsonReports/jsonReport.json\" target=\"_blank\">üß© JSON</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/junit/test-results.xml\" target=\"_blank\">üìë XML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report.zip\" download>üì¶ ZIP</a>\n+      <a class=\"link-pill\" href=\"${globalMeta.runUrl}\" target=\"_blank\">üìò Logs</a>\n+    </div>\n+\n   </div>\n </div>\n `;\n-  });\n-\n+  }\n   return blocks;\n }\n \n-// --- Generate dashboard HTML ---\n+// Generate final HTML\n const entries = sortEntries(loadEntries());\n const summaryTable = buildSummaryTable(entries);\n const reportBlocks = buildReportBlocks(entries);\n \n template = template\n-  .replace(\"{{PUBLISH_TIMESTAMP}}\", globalMeta.publishTimestamp || \"N/A\")\n+  .replace(\"{{PUBLISH_TIMESTAMP}}\", formatUtcTimestamp(globalMeta.publishTimestamp))\n   .replace(\"{{COMMIT_SHA}}\", globalMeta.commitSha || \"N/A\")\n   .replace(\"{{RUN_NUMBER}}\", globalMeta.runNumber || \"N/A\")\n   .replace(\"{{RUN_URL}}\", globalMeta.runUrl || \"#\")\n   .replace(\"{{SUMMARY_TABLE}}\", summaryTable)\n   .replace(\"{{REPORT_LIST}}\", reportBlocks);\n \n-// --- Write final index.html ---\n+// Write dashboard\n fs.writeFileSync(path.join(REPORTS_DIR, \"index.html\"), template, \"utf8\");\n \n-console.log(\"Dashboard generated successfully.\");\n+console.log(\"Super Dashboard (Hybrid Version) generated successfully.\");\ndiff --git a/scripts/templates/index.html b/scripts/templates/index.html\nindex bbb93d9..b4745a2 100644\n--- a/scripts/templates/index.html\n+++ b/scripts/templates/index.html\n@@ -116,7 +116,11 @@\n       border-radius: 8px;\n       background: var(--card-bg);\n       box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);\n-      transition: box-shadow 0.15s ease, transform 0.15s ease, background 0.2s ease;\n+      transition:\n+        box-shadow 0.15s ease,\n+        transform 0.15s ease,\n+        background 0.2s ease,\n+        border-color 0.2s ease;\n     }\n \n     .report-block:hover {\n@@ -129,12 +133,14 @@\n       align-items: center;\n       justify-content: space-between;\n       cursor: pointer;\n+      gap: 10px;\n     }\n \n     .report-header-main {\n       display: flex;\n       align-items: center;\n       gap: 8px;\n+      flex-wrap: wrap;\n     }\n \n     .caret {\n@@ -151,9 +157,60 @@\n       display: none;\n     }\n \n-    .links a {\n-      margin-right: 12px;\n+    .report-meta-grid {\n+      display: grid;\n+      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n+      gap: 4px 16px;\n+      margin-bottom: 8px;\n+    }\n+\n+    .meta-row {\n+      display: flex;\n+      justify-content: space-between;\n+      font-size: 13px;\n+    }\n+\n+    .meta-label {\n+      font-weight: 600;\n+      margin-right: 6px;\n+    }\n+\n+    .meta-value {\n+      text-align: right;\n+      opacity: 0.9;\n+    }\n+\n+    .quick-summary {\n+      font-size: 13px;\n+      margin: 6px 0 10px;\n+    }\n+\n+    .quick-summary strong {\n+      font-weight: 600;\n+    }\n+\n+    .links {\n+      display: flex;\n+      flex-wrap: wrap;\n+      gap: 8px;\n+      margin-top: 4px;\n+    }\n+\n+    .link-pill {\n+      display: inline-block;\n+      padding: 4px 10px;\n+      border-radius: 999px;\n+      border: 1px solid var(--border-color);\n+      font-size: 12px;\n       text-decoration: none;\n+      background: var(--card-bg);\n+      transition: background 0.15s ease, border-color 0.15s ease;\n+      white-space: nowrap;\n+    }\n+\n+    .link-pill:hover {\n+      background: var(--table-header-bg);\n+      border-color: var(--link-color);\n     }\n \n     table.summary {\n@@ -205,7 +262,10 @@\n       border-radius: 999px;\n       cursor: pointer;\n       font-size: 13px;\n-      transition: background 0.15s ease, border-color 0.15s ease;\n+      transition:\n+        background 0.15s ease,\n+        border-color 0.15s ease,\n+        color 0.15s ease;\n     }\n \n     .toggle-btn:hover,\n@@ -252,7 +312,7 @@\n \n   <h1>Playwright Reports</h1>\n \n-  <p><strong>Published:</strong> {{PUBLISH_TIMESTAMP}}</p>\n+  <p><strong>Published (UTC):</strong> {{PUBLISH_TIMESTAMP}}</p>\n   <p><strong>Commit:</strong> {{COMMIT_SHA}}</p>\n   <p><strong>Run:</strong> #{{RUN_NUMBER}}</p>\n   <p><a href=\"{{RUN_URL}}\">View Full Run Logs</a></p>\n@@ -288,19 +348,23 @@\n       const body = document.body;\n       const themeToggle = document.getElementById('theme-toggle');\n \n+      // THEME\n       const savedTheme = localStorage.getItem('pw-theme');\n       if (savedTheme === 'dark') {\n         body.classList.add('dark-mode');\n-        themeToggle.textContent = '‚òÄÔ∏è Light mode';\n+        if (themeToggle) themeToggle.textContent = '‚òÄÔ∏è Light mode';\n       }\n \n-      themeToggle.addEventListener('click', () => {\n-        body.classList.toggle('dark-mode');\n-        const isDark = body.classList.contains('dark-mode');\n-        localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n-        themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n-      });\n+      if (themeToggle) {\n+        themeToggle.addEventListener('click', () => {\n+          body.classList.toggle('dark-mode');\n+          const isDark = body.classList.contains('dark-mode');\n+          localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n+          themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n+        });\n+      }\n \n+      // FILTERS\n       const filterButtons = document.querySelectorAll('.filter-btn');\n \n       function applyFilter(filter) {\n@@ -308,12 +372,12 @@\n         const blocks = document.querySelectorAll('.report-block');\n \n         rows.forEach(row => {\n-          const status = row.dataset.status;\n+          const status = (row.dataset.status || '').toLowerCase();\n           row.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n \n         blocks.forEach(block => {\n-          const status = block.dataset.status;\n+          const status = (block.dataset.status || '').toLowerCase();\n           block.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n       }\n@@ -326,21 +390,27 @@\n         });\n       });\n \n+      // COLLAPSIBLE REPORT BLOCKS\n       const reportBlocks = document.querySelectorAll('.report-block');\n       reportBlocks.forEach(block => {\n         const header = block.querySelector('.report-header');\n         const caret = block.querySelector('.caret');\n-        const status = block.dataset.status;\n+        const status = (block.dataset.status || '').toLowerCase();\n \n+        // Default: PASS + NONE collapsed, FAIL + SKIP expanded\n         if (status === 'pass' || status === 'none') {\n           block.classList.add('collapsed');\n-          caret.textContent = '‚ñ∂';\n+          if (caret) caret.textContent = '‚ñ∂';\n+        } else {\n+          if (caret) caret.textContent = '‚ñº';\n         }\n \n-        header.addEventListener('click', () => {\n-          const isCollapsed = block.classList.toggle('collapsed');\n-          caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n-        });\n+        if (header) {\n+          header.addEventListener('click', () => {\n+            const isCollapsed = block.classList.toggle('collapsed');\n+            if (caret) caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n+          });\n+        }\n       });\n     });\n   </script>",
          "actualWorkers": 2
        },
        "id": "webkit",
        "name": "webkit",
        "testDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/tests",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 30000
      },
      {
        "outputDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "ci": {
            "commitHref": "https://github.com/smenouillard/playwright-portfolio/commit/e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "commitHash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "prHref": "https://github.com/smenouillard/playwright-portfolio/pull/1",
            "prTitle": "feat(dashboard): add hybrid dashboard system",
            "prBaseHash": "88e78dd2976c075952af2c2dd8234303e96872e6",
            "buildHref": "https://github.com/smenouillard/playwright-portfolio/actions/runs/19676876690"
          },
          "gitCommit": {
            "shortHash": "e963e46",
            "hash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "subject": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6",
            "body": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6\n",
            "author": {
              "name": "smenouillard",
              "email": "smenouillard@gmail.com",
              "time": 1764088436000
            },
            "committer": {
              "name": "GitHub",
              "email": "noreply@github.com",
              "time": 1764088436000
            },
            "branch": "HEAD"
          },
          "gitDiff": "diff --git a/.github/workflows/playwright.yml b/.github/workflows/playwright.yml\nindex b3faf26..048a648 100644\n--- a/.github/workflows/playwright.yml\n+++ b/.github/workflows/playwright.yml\n@@ -3,6 +3,12 @@\n \n name: Playwright E2E Tests\n \n+# Required permissions for posting PR comments, writing previews, etc.\n+permissions:\n+  contents: read\n+  issues: write\n+  pull-requests: write\n+\n on:\n   push:\n     branches: [main, master]\n@@ -88,7 +94,7 @@ jobs:\n         run: xvfb-run npx playwright test --project=${{ matrix.browser }} || true\n \n       # Run tests on Windows/macOS\n-      - name: Run tests (Windows/macOS)\n+      - name: Run tests (Windows/macCOS)\n         if: matrix.os != 'ubuntu-latest'\n         run: npx playwright test --project=${{ matrix.browser }} || true\n \n@@ -177,11 +183,91 @@ jobs:\n           }'\n           METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n \n-      # Publish to GitHub Pages\n+      # Publish to GitHub Pages (using keep_files instead of force_orphan)\n       - name: Publish to Pages\n         uses: peaceiris/actions-gh-pages@v3.9.2\n         with:\n           github_token: ${{ secrets.PAT }}\n           publish_dir: ./reports\n           commit_message: \"Publish Playwright dashboard [skip ci]\"\n-          force_orphan: true\n+          keep_files: true # ‚Üê ONLY CHANGE\n+\n+  publish-preview:\n+    name: Publish Preview Dashboard\n+    runs-on: ubuntu-latest\n+    needs: test\n+    if: always() && github.ref != 'refs/heads/main'\n+\n+    steps:\n+      # Checkout source\n+      - name: Checkout\n+        uses: actions/checkout@v4.1.1\n+\n+      # Download artifacts\n+      - name: Download artifacts\n+        uses: actions/download-artifact@v4\n+        with:\n+          path: ./reports\n+\n+      # Extract HTML reports for preview\n+      - name: Extract HTML reports\n+        shell: bash\n+        run: |\n+          cd reports\n+          for dir in report-*; do\n+            if [ -d \"$dir\" ] && [ -f \"$dir/playwright-report.zip\" ]; then\n+              mkdir -p \"$dir/playwright-report\"\n+              unzip -q \"$dir/playwright-report.zip\" -d \"$dir/playwright-report\"\n+            fi\n+          done\n+\n+      # Generate preview dashboard\n+      - name: Generate dashboard (preview)\n+        run: |\n+          BRANCH_NAME_SAFE=\"${GITHUB_REF_NAME//\\//-}\"\n+\n+          metadata='{\n+            \"publishTimestamp\": \"'\"$(date -u '+%Y-%m-%d %H:%M UTC')\"'\",\n+            \"commitSha\": \"'\"$GITHUB_SHA\"'\",\n+            \"runNumber\": \"'\"$GITHUB_RUN_NUMBER\"'\",\n+            \"runUrl\": \"https://github.com/'\"$GITHUB_REPOSITORY\"'/actions/runs/'\"$GITHUB_RUN_ID\"'\"\n+          }'\n+\n+          METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n+\n+          mkdir -p \"previews/$BRANCH_NAME_SAFE\"\n+          cp -r reports/* \"previews/$BRANCH_NAME_SAFE/\" || true\n+\n+      # Publish preview dashboard\n+      - name: Publish preview to Pages\n+        uses: peaceiris/actions-gh-pages@v3.9.2\n+        with:\n+          github_token: ${{ secrets.PAT }}\n+          publish_dir: ./previews\n+          commit_message: \"Publish preview dashboard for ${{ github.ref_name }} [skip ci]\"\n+          keep_files: true\n+\n+      # Post preview link comment on PR\n+      - name: Comment preview link on PR\n+        if: github.event_name == 'pull_request'\n+        uses: actions/github-script@v7\n+        with:\n+          script: |\n+            const branch = process.env.GITHUB_REF_NAME.replace(/\\//g, \"-\");\n+            const url  = `https://smenouillard.github.io/Playwright-portfolio/previews/${branch}/`;\n+\n+            const body = [\n+              \"### Preview Dashboard Ready\",\n+              \"\",\n+              \"**URL:**  \",\n+              url,\n+              \"\",\n+              \"_This link updates automatically with each push to this branch._\"\n+            ].join(\"\\n\");\n+\n+            github.rest.issues.createComment({\n+              issue_number: context.issue.number,\n+              owner: context.repo.owner,\n+              repo: context.repo.repo,\n+              body\n+            });\ndiff --git a/scripts/generate-index.js b/scripts/generate-index.js\nindex b202555..cebce64 100644\n--- a/scripts/generate-index.js\n+++ b/scripts/generate-index.js\n@@ -1,19 +1,28 @@\n // /scripts/generate-index.js\n-// Generate Playwright dashboard using HTML template\n+// generate dashboard\n \n const fs = require(\"fs\");\n const path = require(\"path\");\n \n-// --- Setup paths ---\n+// Utility: format UTC timestamps\n+function formatUtcTimestamp(raw) {\n+  if (!raw) return \"N/A\";\n+  const date = new Date(raw);\n+  if (isNaN(date.getTime())) return raw + \" UTC\";\n+  const yyyy = date.getUTCFullYear();\n+  const mm = String(date.getUTCMonth() + 1).padStart(2, \"0\");\n+  const dd = String(date.getUTCDate()).padStart(2, \"0\");\n+  const hh = String(date.getUTCHours()).padStart(2, \"0\");\n+  const min = String(date.getUTCMinutes()).padStart(2, \"0\");\n+  return `${yyyy}-${mm}-${dd} ${hh}:${min} UTC`;\n+}\n+\n+// Setup paths\n const REPORTS_DIR = path.join(process.cwd(), \"reports\");\n const TEMPLATE_PATH = path.join(__dirname, \"templates\", \"index.html\");\n-const METADATA_RELATIVE = path.join(\"metadata\", \"metadata.json\");\n-const JSON_REPORT_RELATIVE = path.join(\"jsonReports\", \"jsonReport.json\");\n-\n-// --- Load HTML template ---\n let template = fs.readFileSync(TEMPLATE_PATH, \"utf8\");\n \n-// --- Load global CI metadata ---\n+// Load global metadata\n let globalMeta = {};\n try {\n   globalMeta = JSON.parse(process.env.METADATA_JSON || \"{}\");\n@@ -21,14 +30,14 @@ try {\n   globalMeta = {};\n }\n \n-// --- Define OS badges ---\n+// OS badges\n const osBadges = {\n   \"ubuntu-latest\": { emoji: \"üêß\", label: \"Ubuntu\" },\n   \"windows-latest\": { emoji: \"ü™ü\", label: \"Windows\" },\n   \"macos-latest\": { emoji: \"üçé\", label: \"macOS\" },\n };\n \n-// --- Define browser badges ---\n+// Browser badges\n const browserBadges = {\n   chromium: { emoji: \"üåê\", label: \"Chromium\" },\n   firefox: { emoji: \"ü¶ä\", label: \"Firefox\" },\n@@ -36,151 +45,148 @@ const browserBadges = {\n   edge: { emoji: \"üü¶\", label: \"Edge\" },\n };\n \n-// --- Format duration from seconds ---\n-function formatDurationSeconds(value) {\n-  const seconds = Math.round(value || 0);\n-  const minutes = Math.floor(seconds / 60);\n-  const remain = seconds % 60;\n-  return minutes > 0 ? `${minutes}m ${remain}s` : `${remain}s`;\n-}\n-\n-// --- Build summary object from Playwright stats ---\n-function computeSummary(stats) {\n-  if (!stats) {\n+// Parse Playwright JSON stats\n+function parseJsonStats(filePath) {\n+  if (!fs.existsSync(filePath)) return null;\n+  try {\n+    const json = JSON.parse(fs.readFileSync(filePath, \"utf8\"));\n+    const stats = json.stats || {};\n+    const totalTests =\n+      (stats.expected || 0) +\n+      (stats.unexpected || 0) +\n+      (stats.skipped || 0);\n     return {\n-      totalTests: 0,\n-      totalFailures: 0,\n-      totalSkipped: 0,\n-      totalTimeSec: 0,\n+      totalTests,\n+      totalFailures: stats.unexpected || 0,\n+      totalSkipped: stats.skipped || 0,\n+      totalTimeSec: (stats.duration || 0) / 1000,\n     };\n+  } catch {\n+    return null;\n   }\n+}\n \n-  const totalTests =\n-    (stats.expected || 0) +\n-    (stats.unexpected || 0) +\n-    (stats.skipped || 0);\n-  const totalFailures = stats.unexpected || 0;\n-  const totalSkipped = stats.skipped || 0;\n-  const totalTimeSec = (stats.duration || 0) / 1000;\n-\n+// Parse JUnit XML\n+function parseJUnitSummary(xml) {\n+  if (!xml) return null;\n+  const suiteRegex = /<testsuite\\b([^>]*)>/g;\n+  let totalTests = 0;\n+  let totalFailures = 0;\n+  let totalSkipped = 0;\n+  let totalTime = 0;\n+  let match;\n+  while ((match = suiteRegex.exec(xml)) !== null) {\n+    const attrs = match[1];\n+    const get = (name) => {\n+      const re = new RegExp(name + '=\"([^\"]+)\"');\n+      const m = re.exec(attrs);\n+      return m ? m[1] : null;\n+    };\n+    totalTests += parseInt(get(\"tests\") || \"0\", 10);\n+    totalFailures += parseInt(get(\"failures\") || \"0\", 10);\n+    totalSkipped += parseInt(get(\"skipped\") || \"0\", 10);\n+    totalTime += parseFloat(get(\"time\") || \"0\");\n+  }\n   return {\n     totalTests,\n     totalFailures,\n     totalSkipped,\n-    totalTimeSec,\n+    totalTimeSec: totalTime,\n   };\n }\n \n-// --- Determine status pill ---\n+// Status pill logic\n function statusInfo(summary) {\n-  if (summary.totalFailures > 0) {\n+  if (!summary)\n+    return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n+  if (summary.totalFailures > 0)\n     return { text: \"FAIL\", emoji: \"üî¥\", css: \"pill-fail\", code: \"fail\" };\n-  }\n-  if (summary.totalSkipped > 0) {\n+  if (summary.totalSkipped > 0)\n     return { text: \"SKIPPED\", emoji: \"üü°\", css: \"pill-skip\", code: \"skip\" };\n-  }\n-  if (summary.totalTests > 0) {\n+  if (summary.totalTests > 0)\n     return { text: \"PASS\", emoji: \"üü¢\", css: \"pill-pass\", code: \"pass\" };\n-  }\n   return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n }\n \n-// --- Load one report entry ---\n+// Load one report folder\n function loadRunEntry(dirName) {\n-  const folderPath = path.join(REPORTS_DIR, dirName);\n-  const metadataFile = path.join(folderPath, METADATA_RELATIVE);\n-\n-  if (!fs.existsSync(metadataFile)) return null;\n-\n+  const folder = path.join(REPORTS_DIR, dirName);\n+  const metadataPath = path.join(folder, \"metadata\", \"metadata.json\");\n+  if (!fs.existsSync(metadataPath)) return null;\n   let metadata;\n   try {\n-    metadata = JSON.parse(fs.readFileSync(metadataFile, \"utf8\"));\n+    metadata = JSON.parse(fs.readFileSync(metadataPath, \"utf8\"));\n   } catch {\n     return null;\n   }\n-\n-  const jsonReportFile = path.join(folderPath, JSON_REPORT_RELATIVE);\n-  let stats = null;\n-\n-  if (fs.existsSync(jsonReportFile)) {\n+  const jsonStats = parseJsonStats(\n+    path.join(folder, \"jsonReports\", \"jsonReport.json\")\n+  );\n+  let junitStats = null;\n+  const junitPath = path.join(folder, \"junit\", \"test-results.xml\");\n+  if (fs.existsSync(junitPath)) {\n     try {\n-      const jsonReport = JSON.parse(\n-        fs.readFileSync(jsonReportFile, \"utf8\")\n-      );\n-      stats = jsonReport.stats || null;\n-    } catch {\n-      stats = null;\n-    }\n+      const xml = fs.readFileSync(junitPath, \"utf8\");\n+      junitStats = parseJUnitSummary(xml);\n+    } catch { }\n   }\n-\n-  const summary = computeSummary(stats);\n-\n-  const osMeta =\n-    osBadges[metadata.os] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.os || \"Unknown OS\",\n-    };\n-\n-  const browserMeta =\n-    browserBadges[metadata.browser] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.browser || \"Unknown\",\n-    };\n-\n-  const status = statusInfo(summary);\n-\n+  const finalStats = jsonStats || junitStats || {\n+    totalTests: 0,\n+    totalFailures: 0,\n+    totalSkipped: 0,\n+    totalTimeSec: 0,\n+  };\n+  const status = statusInfo(finalStats);\n+  const osMeta = osBadges[metadata.os] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.os || \"Unknown OS\",\n+  };\n+  const browserMeta = browserBadges[metadata.browser] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.browser || \"Unknown\",\n+  };\n   return {\n     name: dirName,\n     metadata,\n-    summary,\n+    stats: finalStats,\n+    status,\n     os: osMeta,\n     browser: browserMeta,\n-    status,\n   };\n }\n \n-// --- Load all report entries ---\n+// Load entries\n function loadEntries() {\n   if (!fs.existsSync(REPORTS_DIR)) return [];\n-\n-  const dirents = fs\n+  return fs\n     .readdirSync(REPORTS_DIR, { withFileTypes: true })\n-    .filter((d) => d.isDirectory());\n-\n-  const entries = dirents\n-    .filter((d) => d.name.startsWith(\"report-\"))\n+    .filter((d) => d.isDirectory() && d.name.startsWith(\"report-\"))\n     .map((d) => loadRunEntry(d.name))\n     .filter(Boolean);\n-\n-  return entries;\n }\n \n-// --- Define OS order for display ---\n+// OS sorting priority\n const OS_ORDER = [\"windows-latest\", \"macos-latest\", \"ubuntu-latest\"];\n \n-// --- Sort entries by OS and then by browser ---\n+// Sort entries\n function sortEntries(entries) {\n-  return entries.slice().sort((a, b) => {\n-    const aIndex = OS_ORDER.indexOf(a.metadata.os);\n-    const bIndex = OS_ORDER.indexOf(b.metadata.os);\n-\n-    const aRank = aIndex === -1 ? OS_ORDER.length : aIndex;\n-    const bRank = bIndex === -1 ? OS_ORDER.length : bIndex;\n-\n-    if (aRank !== bRank) return aRank - bRank;\n-\n-    return (a.metadata.browser || \"\").localeCompare(\n-      b.metadata.browser || \"\"\n-    );\n+  return entries.sort((a, b) => {\n+    const aOs = OS_ORDER.indexOf(a.metadata.os);\n+    const bOs = OS_ORDER.indexOf(b.metadata.os);\n+    if (aOs !== bOs) return aOs - bOs;\n+    if (a.metadata.browser !== b.metadata.browser) {\n+      return (a.metadata.browser || \"\").localeCompare(\n+        b.metadata.browser || \"\"\n+      );\n+    }\n+    const order = { fail: 0, skip: 1, pass: 2, none: 3 };\n+    return order[a.status.code] - order[b.status.code];\n   });\n }\n \n-// --- Build summary table HTML ---\n+// Build summary table\n function buildSummaryTable(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let html = `\n <table class=\"summary\">\n   <thead>\n@@ -189,115 +195,102 @@ function buildSummaryTable(entries) {\n       <th>OS</th>\n       <th>Browser</th>\n       <th>Total</th>\n-      <th>Failed</th>\n+      <th>Failures</th>\n       <th>Skipped</th>\n       <th>Duration</th>\n     </tr>\n   </thead>\n   <tbody>\n `;\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n     html += `\n-    <tr class=\"summary-row\" data-status=\"${e.status.code}\">\n-      <td class=\"status-cell\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-      </td>\n-      <td>${e.os.emoji} ${e.os.label}</td>\n-      <td>${e.browser.emoji} ${e.browser.label}</td>\n-      <td class=\"num-cell\">${e.summary.totalTests}</td>\n-      <td class=\"num-cell\">${e.summary.totalFailures}</td>\n-      <td class=\"num-cell\">${e.summary.totalSkipped}</td>\n-      <td>${formatDurationSeconds(e.summary.totalTimeSec)}</td>\n-    </tr>\n-`;\n-  });\n-\n+<tr class=\"summary-row\" data-status=\"${e.status.code}\">\n+  <td class=\"status-cell\">\n+    <span class=\"status-pill ${e.status.css}\">\n+      ${e.status.emoji} ${e.status.text}\n+    </span>\n+  </td>\n+  <td>${e.os.emoji} ${e.os.label}</td>\n+  <td>${e.browser.emoji} ${e.browser.label}</td>\n+  <td class=\"num-cell\">${e.stats.totalTests}</td>\n+  <td class=\"num-cell\">${e.stats.totalFailures}</td>\n+  <td class=\"num-cell\">${e.stats.totalSkipped}</td>\n+  <td>${Math.round(e.stats.totalTimeSec)}s</td>\n+</tr>`;\n+  }\n   html += `\n   </tbody>\n </table>\n `;\n-\n   return html;\n }\n \n-// --- Build detailed report blocks HTML ---\n+// Build hybrid blocks\n function buildReportBlocks(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let blocks = \"\";\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n+    const timestamp = formatUtcTimestamp(e.metadata.timestamp);\n     blocks += `\n <div class=\"report-block\" data-status=\"${e.status.code}\">\n   <div class=\"report-header\">\n     <div class=\"report-header-main\">\n-      <div class=\"report-title\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-        <span class=\"os-label\">${e.os.emoji} ${e.os.label}</span>\n-        <span class=\"browser-label\">${e.browser.emoji} ${e.browser.label}</span>\n-      </div>\n-      <div class=\"report-header-meta\">\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Tests:</span>\n-          <span class=\"meta-value\">${e.summary.totalTests}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Failed:</span>\n-          <span class=\"meta-value\">${e.summary.totalFailures}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Skipped:</span>\n-          <span class=\"meta-value\">${e.summary.totalSkipped}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Duration:</span>\n-          <span class=\"meta-value\">${formatDurationSeconds(\n-      e.summary.totalTimeSec\n-    )}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Timestamp:</span>\n-          <span class=\"meta-value\">${e.metadata.timestamp || \"\"}</span>\n-        </div>\n-      </div>\n-      <div class=\"links\">\n-        <a href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">\n-          Open HTML report\n-        </a>\n-        <a href=\"./${e.name}/playwright-report.zip\" download>\n-          Download ZIP\n-        </a>\n-      </div>\n+      <span class=\"status-pill ${e.status.css}\">\n+        ${e.status.emoji} ${e.status.text}\n+      </span>\n+      <span class=\"badge os-badge\">${e.os.emoji} ${e.os.label}</span>\n+      <span class=\"badge browser-badge\">${e.browser.emoji} ${e.browser.label}</span>\n+    </div>\n+    <span class=\"caret\">‚ñº</span>\n+  </div>\n+\n+  <div class=\"report-content\">\n+\n+    <div class=\"report-meta-grid\">\n+      <div class=\"meta-row\"><span class=\"meta-label\">Tests:</span><span class=\"meta-value\">${e.stats.totalTests}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Failed:</span><span class=\"meta-value\">${e.stats.totalFailures}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Skipped:</span><span class=\"meta-value\">${e.stats.totalSkipped}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Duration:</span><span class=\"meta-value\">${Math.round(e.stats.totalTimeSec)}s</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Timestamp:</span><span class=\"meta-value\">${timestamp}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Runner:</span><span class=\"meta-value\">${e.metadata.os}</span></div>\n     </div>\n+\n+    <div class=\"quick-summary\">\n+      üìä <strong>${e.stats.totalTests}</strong> tests ‚Ä¢\n+      ‚ö† <strong>${e.stats.totalFailures}</strong> failed ‚Ä¢\n+      ‚ûñ <strong>${e.stats.totalSkipped}</strong> skipped ‚Ä¢\n+      ‚è± <strong>${Math.round(e.stats.totalTimeSec)}s</strong>\n+    </div>\n+\n+    <div class=\"links\">\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">üìÑ HTML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/jsonReports/jsonReport.json\" target=\"_blank\">üß© JSON</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/junit/test-results.xml\" target=\"_blank\">üìë XML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report.zip\" download>üì¶ ZIP</a>\n+      <a class=\"link-pill\" href=\"${globalMeta.runUrl}\" target=\"_blank\">üìò Logs</a>\n+    </div>\n+\n   </div>\n </div>\n `;\n-  });\n-\n+  }\n   return blocks;\n }\n \n-// --- Generate dashboard HTML ---\n+// Generate final HTML\n const entries = sortEntries(loadEntries());\n const summaryTable = buildSummaryTable(entries);\n const reportBlocks = buildReportBlocks(entries);\n \n template = template\n-  .replace(\"{{PUBLISH_TIMESTAMP}}\", globalMeta.publishTimestamp || \"N/A\")\n+  .replace(\"{{PUBLISH_TIMESTAMP}}\", formatUtcTimestamp(globalMeta.publishTimestamp))\n   .replace(\"{{COMMIT_SHA}}\", globalMeta.commitSha || \"N/A\")\n   .replace(\"{{RUN_NUMBER}}\", globalMeta.runNumber || \"N/A\")\n   .replace(\"{{RUN_URL}}\", globalMeta.runUrl || \"#\")\n   .replace(\"{{SUMMARY_TABLE}}\", summaryTable)\n   .replace(\"{{REPORT_LIST}}\", reportBlocks);\n \n-// --- Write final index.html ---\n+// Write dashboard\n fs.writeFileSync(path.join(REPORTS_DIR, \"index.html\"), template, \"utf8\");\n \n-console.log(\"Dashboard generated successfully.\");\n+console.log(\"Super Dashboard (Hybrid Version) generated successfully.\");\ndiff --git a/scripts/templates/index.html b/scripts/templates/index.html\nindex bbb93d9..b4745a2 100644\n--- a/scripts/templates/index.html\n+++ b/scripts/templates/index.html\n@@ -116,7 +116,11 @@\n       border-radius: 8px;\n       background: var(--card-bg);\n       box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);\n-      transition: box-shadow 0.15s ease, transform 0.15s ease, background 0.2s ease;\n+      transition:\n+        box-shadow 0.15s ease,\n+        transform 0.15s ease,\n+        background 0.2s ease,\n+        border-color 0.2s ease;\n     }\n \n     .report-block:hover {\n@@ -129,12 +133,14 @@\n       align-items: center;\n       justify-content: space-between;\n       cursor: pointer;\n+      gap: 10px;\n     }\n \n     .report-header-main {\n       display: flex;\n       align-items: center;\n       gap: 8px;\n+      flex-wrap: wrap;\n     }\n \n     .caret {\n@@ -151,9 +157,60 @@\n       display: none;\n     }\n \n-    .links a {\n-      margin-right: 12px;\n+    .report-meta-grid {\n+      display: grid;\n+      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n+      gap: 4px 16px;\n+      margin-bottom: 8px;\n+    }\n+\n+    .meta-row {\n+      display: flex;\n+      justify-content: space-between;\n+      font-size: 13px;\n+    }\n+\n+    .meta-label {\n+      font-weight: 600;\n+      margin-right: 6px;\n+    }\n+\n+    .meta-value {\n+      text-align: right;\n+      opacity: 0.9;\n+    }\n+\n+    .quick-summary {\n+      font-size: 13px;\n+      margin: 6px 0 10px;\n+    }\n+\n+    .quick-summary strong {\n+      font-weight: 600;\n+    }\n+\n+    .links {\n+      display: flex;\n+      flex-wrap: wrap;\n+      gap: 8px;\n+      margin-top: 4px;\n+    }\n+\n+    .link-pill {\n+      display: inline-block;\n+      padding: 4px 10px;\n+      border-radius: 999px;\n+      border: 1px solid var(--border-color);\n+      font-size: 12px;\n       text-decoration: none;\n+      background: var(--card-bg);\n+      transition: background 0.15s ease, border-color 0.15s ease;\n+      white-space: nowrap;\n+    }\n+\n+    .link-pill:hover {\n+      background: var(--table-header-bg);\n+      border-color: var(--link-color);\n     }\n \n     table.summary {\n@@ -205,7 +262,10 @@\n       border-radius: 999px;\n       cursor: pointer;\n       font-size: 13px;\n-      transition: background 0.15s ease, border-color 0.15s ease;\n+      transition:\n+        background 0.15s ease,\n+        border-color 0.15s ease,\n+        color 0.15s ease;\n     }\n \n     .toggle-btn:hover,\n@@ -252,7 +312,7 @@\n \n   <h1>Playwright Reports</h1>\n \n-  <p><strong>Published:</strong> {{PUBLISH_TIMESTAMP}}</p>\n+  <p><strong>Published (UTC):</strong> {{PUBLISH_TIMESTAMP}}</p>\n   <p><strong>Commit:</strong> {{COMMIT_SHA}}</p>\n   <p><strong>Run:</strong> #{{RUN_NUMBER}}</p>\n   <p><a href=\"{{RUN_URL}}\">View Full Run Logs</a></p>\n@@ -288,19 +348,23 @@\n       const body = document.body;\n       const themeToggle = document.getElementById('theme-toggle');\n \n+      // THEME\n       const savedTheme = localStorage.getItem('pw-theme');\n       if (savedTheme === 'dark') {\n         body.classList.add('dark-mode');\n-        themeToggle.textContent = '‚òÄÔ∏è Light mode';\n+        if (themeToggle) themeToggle.textContent = '‚òÄÔ∏è Light mode';\n       }\n \n-      themeToggle.addEventListener('click', () => {\n-        body.classList.toggle('dark-mode');\n-        const isDark = body.classList.contains('dark-mode');\n-        localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n-        themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n-      });\n+      if (themeToggle) {\n+        themeToggle.addEventListener('click', () => {\n+          body.classList.toggle('dark-mode');\n+          const isDark = body.classList.contains('dark-mode');\n+          localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n+          themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n+        });\n+      }\n \n+      // FILTERS\n       const filterButtons = document.querySelectorAll('.filter-btn');\n \n       function applyFilter(filter) {\n@@ -308,12 +372,12 @@\n         const blocks = document.querySelectorAll('.report-block');\n \n         rows.forEach(row => {\n-          const status = row.dataset.status;\n+          const status = (row.dataset.status || '').toLowerCase();\n           row.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n \n         blocks.forEach(block => {\n-          const status = block.dataset.status;\n+          const status = (block.dataset.status || '').toLowerCase();\n           block.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n       }\n@@ -326,21 +390,27 @@\n         });\n       });\n \n+      // COLLAPSIBLE REPORT BLOCKS\n       const reportBlocks = document.querySelectorAll('.report-block');\n       reportBlocks.forEach(block => {\n         const header = block.querySelector('.report-header');\n         const caret = block.querySelector('.caret');\n-        const status = block.dataset.status;\n+        const status = (block.dataset.status || '').toLowerCase();\n \n+        // Default: PASS + NONE collapsed, FAIL + SKIP expanded\n         if (status === 'pass' || status === 'none') {\n           block.classList.add('collapsed');\n-          caret.textContent = '‚ñ∂';\n+          if (caret) caret.textContent = '‚ñ∂';\n+        } else {\n+          if (caret) caret.textContent = '‚ñº';\n         }\n \n-        header.addEventListener('click', () => {\n-          const isCollapsed = block.classList.toggle('collapsed');\n-          caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n-        });\n+        if (header) {\n+          header.addEventListener('click', () => {\n+            const isCollapsed = block.classList.toggle('collapsed');\n+            if (caret) caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n+          });\n+        }\n       });\n     });\n   </script>",
          "actualWorkers": 2
        },
        "id": "chromium-linux",
        "name": "chromium-linux",
        "testDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/tests",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 30000
      },
      {
        "outputDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "ci": {
            "commitHref": "https://github.com/smenouillard/playwright-portfolio/commit/e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "commitHash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "prHref": "https://github.com/smenouillard/playwright-portfolio/pull/1",
            "prTitle": "feat(dashboard): add hybrid dashboard system",
            "prBaseHash": "88e78dd2976c075952af2c2dd8234303e96872e6",
            "buildHref": "https://github.com/smenouillard/playwright-portfolio/actions/runs/19676876690"
          },
          "gitCommit": {
            "shortHash": "e963e46",
            "hash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "subject": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6",
            "body": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6\n",
            "author": {
              "name": "smenouillard",
              "email": "smenouillard@gmail.com",
              "time": 1764088436000
            },
            "committer": {
              "name": "GitHub",
              "email": "noreply@github.com",
              "time": 1764088436000
            },
            "branch": "HEAD"
          },
          "gitDiff": "diff --git a/.github/workflows/playwright.yml b/.github/workflows/playwright.yml\nindex b3faf26..048a648 100644\n--- a/.github/workflows/playwright.yml\n+++ b/.github/workflows/playwright.yml\n@@ -3,6 +3,12 @@\n \n name: Playwright E2E Tests\n \n+# Required permissions for posting PR comments, writing previews, etc.\n+permissions:\n+  contents: read\n+  issues: write\n+  pull-requests: write\n+\n on:\n   push:\n     branches: [main, master]\n@@ -88,7 +94,7 @@ jobs:\n         run: xvfb-run npx playwright test --project=${{ matrix.browser }} || true\n \n       # Run tests on Windows/macOS\n-      - name: Run tests (Windows/macOS)\n+      - name: Run tests (Windows/macCOS)\n         if: matrix.os != 'ubuntu-latest'\n         run: npx playwright test --project=${{ matrix.browser }} || true\n \n@@ -177,11 +183,91 @@ jobs:\n           }'\n           METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n \n-      # Publish to GitHub Pages\n+      # Publish to GitHub Pages (using keep_files instead of force_orphan)\n       - name: Publish to Pages\n         uses: peaceiris/actions-gh-pages@v3.9.2\n         with:\n           github_token: ${{ secrets.PAT }}\n           publish_dir: ./reports\n           commit_message: \"Publish Playwright dashboard [skip ci]\"\n-          force_orphan: true\n+          keep_files: true # ‚Üê ONLY CHANGE\n+\n+  publish-preview:\n+    name: Publish Preview Dashboard\n+    runs-on: ubuntu-latest\n+    needs: test\n+    if: always() && github.ref != 'refs/heads/main'\n+\n+    steps:\n+      # Checkout source\n+      - name: Checkout\n+        uses: actions/checkout@v4.1.1\n+\n+      # Download artifacts\n+      - name: Download artifacts\n+        uses: actions/download-artifact@v4\n+        with:\n+          path: ./reports\n+\n+      # Extract HTML reports for preview\n+      - name: Extract HTML reports\n+        shell: bash\n+        run: |\n+          cd reports\n+          for dir in report-*; do\n+            if [ -d \"$dir\" ] && [ -f \"$dir/playwright-report.zip\" ]; then\n+              mkdir -p \"$dir/playwright-report\"\n+              unzip -q \"$dir/playwright-report.zip\" -d \"$dir/playwright-report\"\n+            fi\n+          done\n+\n+      # Generate preview dashboard\n+      - name: Generate dashboard (preview)\n+        run: |\n+          BRANCH_NAME_SAFE=\"${GITHUB_REF_NAME//\\//-}\"\n+\n+          metadata='{\n+            \"publishTimestamp\": \"'\"$(date -u '+%Y-%m-%d %H:%M UTC')\"'\",\n+            \"commitSha\": \"'\"$GITHUB_SHA\"'\",\n+            \"runNumber\": \"'\"$GITHUB_RUN_NUMBER\"'\",\n+            \"runUrl\": \"https://github.com/'\"$GITHUB_REPOSITORY\"'/actions/runs/'\"$GITHUB_RUN_ID\"'\"\n+          }'\n+\n+          METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n+\n+          mkdir -p \"previews/$BRANCH_NAME_SAFE\"\n+          cp -r reports/* \"previews/$BRANCH_NAME_SAFE/\" || true\n+\n+      # Publish preview dashboard\n+      - name: Publish preview to Pages\n+        uses: peaceiris/actions-gh-pages@v3.9.2\n+        with:\n+          github_token: ${{ secrets.PAT }}\n+          publish_dir: ./previews\n+          commit_message: \"Publish preview dashboard for ${{ github.ref_name }} [skip ci]\"\n+          keep_files: true\n+\n+      # Post preview link comment on PR\n+      - name: Comment preview link on PR\n+        if: github.event_name == 'pull_request'\n+        uses: actions/github-script@v7\n+        with:\n+          script: |\n+            const branch = process.env.GITHUB_REF_NAME.replace(/\\//g, \"-\");\n+            const url  = `https://smenouillard.github.io/Playwright-portfolio/previews/${branch}/`;\n+\n+            const body = [\n+              \"### Preview Dashboard Ready\",\n+              \"\",\n+              \"**URL:**  \",\n+              url,\n+              \"\",\n+              \"_This link updates automatically with each push to this branch._\"\n+            ].join(\"\\n\");\n+\n+            github.rest.issues.createComment({\n+              issue_number: context.issue.number,\n+              owner: context.repo.owner,\n+              repo: context.repo.repo,\n+              body\n+            });\ndiff --git a/scripts/generate-index.js b/scripts/generate-index.js\nindex b202555..cebce64 100644\n--- a/scripts/generate-index.js\n+++ b/scripts/generate-index.js\n@@ -1,19 +1,28 @@\n // /scripts/generate-index.js\n-// Generate Playwright dashboard using HTML template\n+// generate dashboard\n \n const fs = require(\"fs\");\n const path = require(\"path\");\n \n-// --- Setup paths ---\n+// Utility: format UTC timestamps\n+function formatUtcTimestamp(raw) {\n+  if (!raw) return \"N/A\";\n+  const date = new Date(raw);\n+  if (isNaN(date.getTime())) return raw + \" UTC\";\n+  const yyyy = date.getUTCFullYear();\n+  const mm = String(date.getUTCMonth() + 1).padStart(2, \"0\");\n+  const dd = String(date.getUTCDate()).padStart(2, \"0\");\n+  const hh = String(date.getUTCHours()).padStart(2, \"0\");\n+  const min = String(date.getUTCMinutes()).padStart(2, \"0\");\n+  return `${yyyy}-${mm}-${dd} ${hh}:${min} UTC`;\n+}\n+\n+// Setup paths\n const REPORTS_DIR = path.join(process.cwd(), \"reports\");\n const TEMPLATE_PATH = path.join(__dirname, \"templates\", \"index.html\");\n-const METADATA_RELATIVE = path.join(\"metadata\", \"metadata.json\");\n-const JSON_REPORT_RELATIVE = path.join(\"jsonReports\", \"jsonReport.json\");\n-\n-// --- Load HTML template ---\n let template = fs.readFileSync(TEMPLATE_PATH, \"utf8\");\n \n-// --- Load global CI metadata ---\n+// Load global metadata\n let globalMeta = {};\n try {\n   globalMeta = JSON.parse(process.env.METADATA_JSON || \"{}\");\n@@ -21,14 +30,14 @@ try {\n   globalMeta = {};\n }\n \n-// --- Define OS badges ---\n+// OS badges\n const osBadges = {\n   \"ubuntu-latest\": { emoji: \"üêß\", label: \"Ubuntu\" },\n   \"windows-latest\": { emoji: \"ü™ü\", label: \"Windows\" },\n   \"macos-latest\": { emoji: \"üçé\", label: \"macOS\" },\n };\n \n-// --- Define browser badges ---\n+// Browser badges\n const browserBadges = {\n   chromium: { emoji: \"üåê\", label: \"Chromium\" },\n   firefox: { emoji: \"ü¶ä\", label: \"Firefox\" },\n@@ -36,151 +45,148 @@ const browserBadges = {\n   edge: { emoji: \"üü¶\", label: \"Edge\" },\n };\n \n-// --- Format duration from seconds ---\n-function formatDurationSeconds(value) {\n-  const seconds = Math.round(value || 0);\n-  const minutes = Math.floor(seconds / 60);\n-  const remain = seconds % 60;\n-  return minutes > 0 ? `${minutes}m ${remain}s` : `${remain}s`;\n-}\n-\n-// --- Build summary object from Playwright stats ---\n-function computeSummary(stats) {\n-  if (!stats) {\n+// Parse Playwright JSON stats\n+function parseJsonStats(filePath) {\n+  if (!fs.existsSync(filePath)) return null;\n+  try {\n+    const json = JSON.parse(fs.readFileSync(filePath, \"utf8\"));\n+    const stats = json.stats || {};\n+    const totalTests =\n+      (stats.expected || 0) +\n+      (stats.unexpected || 0) +\n+      (stats.skipped || 0);\n     return {\n-      totalTests: 0,\n-      totalFailures: 0,\n-      totalSkipped: 0,\n-      totalTimeSec: 0,\n+      totalTests,\n+      totalFailures: stats.unexpected || 0,\n+      totalSkipped: stats.skipped || 0,\n+      totalTimeSec: (stats.duration || 0) / 1000,\n     };\n+  } catch {\n+    return null;\n   }\n+}\n \n-  const totalTests =\n-    (stats.expected || 0) +\n-    (stats.unexpected || 0) +\n-    (stats.skipped || 0);\n-  const totalFailures = stats.unexpected || 0;\n-  const totalSkipped = stats.skipped || 0;\n-  const totalTimeSec = (stats.duration || 0) / 1000;\n-\n+// Parse JUnit XML\n+function parseJUnitSummary(xml) {\n+  if (!xml) return null;\n+  const suiteRegex = /<testsuite\\b([^>]*)>/g;\n+  let totalTests = 0;\n+  let totalFailures = 0;\n+  let totalSkipped = 0;\n+  let totalTime = 0;\n+  let match;\n+  while ((match = suiteRegex.exec(xml)) !== null) {\n+    const attrs = match[1];\n+    const get = (name) => {\n+      const re = new RegExp(name + '=\"([^\"]+)\"');\n+      const m = re.exec(attrs);\n+      return m ? m[1] : null;\n+    };\n+    totalTests += parseInt(get(\"tests\") || \"0\", 10);\n+    totalFailures += parseInt(get(\"failures\") || \"0\", 10);\n+    totalSkipped += parseInt(get(\"skipped\") || \"0\", 10);\n+    totalTime += parseFloat(get(\"time\") || \"0\");\n+  }\n   return {\n     totalTests,\n     totalFailures,\n     totalSkipped,\n-    totalTimeSec,\n+    totalTimeSec: totalTime,\n   };\n }\n \n-// --- Determine status pill ---\n+// Status pill logic\n function statusInfo(summary) {\n-  if (summary.totalFailures > 0) {\n+  if (!summary)\n+    return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n+  if (summary.totalFailures > 0)\n     return { text: \"FAIL\", emoji: \"üî¥\", css: \"pill-fail\", code: \"fail\" };\n-  }\n-  if (summary.totalSkipped > 0) {\n+  if (summary.totalSkipped > 0)\n     return { text: \"SKIPPED\", emoji: \"üü°\", css: \"pill-skip\", code: \"skip\" };\n-  }\n-  if (summary.totalTests > 0) {\n+  if (summary.totalTests > 0)\n     return { text: \"PASS\", emoji: \"üü¢\", css: \"pill-pass\", code: \"pass\" };\n-  }\n   return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n }\n \n-// --- Load one report entry ---\n+// Load one report folder\n function loadRunEntry(dirName) {\n-  const folderPath = path.join(REPORTS_DIR, dirName);\n-  const metadataFile = path.join(folderPath, METADATA_RELATIVE);\n-\n-  if (!fs.existsSync(metadataFile)) return null;\n-\n+  const folder = path.join(REPORTS_DIR, dirName);\n+  const metadataPath = path.join(folder, \"metadata\", \"metadata.json\");\n+  if (!fs.existsSync(metadataPath)) return null;\n   let metadata;\n   try {\n-    metadata = JSON.parse(fs.readFileSync(metadataFile, \"utf8\"));\n+    metadata = JSON.parse(fs.readFileSync(metadataPath, \"utf8\"));\n   } catch {\n     return null;\n   }\n-\n-  const jsonReportFile = path.join(folderPath, JSON_REPORT_RELATIVE);\n-  let stats = null;\n-\n-  if (fs.existsSync(jsonReportFile)) {\n+  const jsonStats = parseJsonStats(\n+    path.join(folder, \"jsonReports\", \"jsonReport.json\")\n+  );\n+  let junitStats = null;\n+  const junitPath = path.join(folder, \"junit\", \"test-results.xml\");\n+  if (fs.existsSync(junitPath)) {\n     try {\n-      const jsonReport = JSON.parse(\n-        fs.readFileSync(jsonReportFile, \"utf8\")\n-      );\n-      stats = jsonReport.stats || null;\n-    } catch {\n-      stats = null;\n-    }\n+      const xml = fs.readFileSync(junitPath, \"utf8\");\n+      junitStats = parseJUnitSummary(xml);\n+    } catch { }\n   }\n-\n-  const summary = computeSummary(stats);\n-\n-  const osMeta =\n-    osBadges[metadata.os] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.os || \"Unknown OS\",\n-    };\n-\n-  const browserMeta =\n-    browserBadges[metadata.browser] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.browser || \"Unknown\",\n-    };\n-\n-  const status = statusInfo(summary);\n-\n+  const finalStats = jsonStats || junitStats || {\n+    totalTests: 0,\n+    totalFailures: 0,\n+    totalSkipped: 0,\n+    totalTimeSec: 0,\n+  };\n+  const status = statusInfo(finalStats);\n+  const osMeta = osBadges[metadata.os] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.os || \"Unknown OS\",\n+  };\n+  const browserMeta = browserBadges[metadata.browser] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.browser || \"Unknown\",\n+  };\n   return {\n     name: dirName,\n     metadata,\n-    summary,\n+    stats: finalStats,\n+    status,\n     os: osMeta,\n     browser: browserMeta,\n-    status,\n   };\n }\n \n-// --- Load all report entries ---\n+// Load entries\n function loadEntries() {\n   if (!fs.existsSync(REPORTS_DIR)) return [];\n-\n-  const dirents = fs\n+  return fs\n     .readdirSync(REPORTS_DIR, { withFileTypes: true })\n-    .filter((d) => d.isDirectory());\n-\n-  const entries = dirents\n-    .filter((d) => d.name.startsWith(\"report-\"))\n+    .filter((d) => d.isDirectory() && d.name.startsWith(\"report-\"))\n     .map((d) => loadRunEntry(d.name))\n     .filter(Boolean);\n-\n-  return entries;\n }\n \n-// --- Define OS order for display ---\n+// OS sorting priority\n const OS_ORDER = [\"windows-latest\", \"macos-latest\", \"ubuntu-latest\"];\n \n-// --- Sort entries by OS and then by browser ---\n+// Sort entries\n function sortEntries(entries) {\n-  return entries.slice().sort((a, b) => {\n-    const aIndex = OS_ORDER.indexOf(a.metadata.os);\n-    const bIndex = OS_ORDER.indexOf(b.metadata.os);\n-\n-    const aRank = aIndex === -1 ? OS_ORDER.length : aIndex;\n-    const bRank = bIndex === -1 ? OS_ORDER.length : bIndex;\n-\n-    if (aRank !== bRank) return aRank - bRank;\n-\n-    return (a.metadata.browser || \"\").localeCompare(\n-      b.metadata.browser || \"\"\n-    );\n+  return entries.sort((a, b) => {\n+    const aOs = OS_ORDER.indexOf(a.metadata.os);\n+    const bOs = OS_ORDER.indexOf(b.metadata.os);\n+    if (aOs !== bOs) return aOs - bOs;\n+    if (a.metadata.browser !== b.metadata.browser) {\n+      return (a.metadata.browser || \"\").localeCompare(\n+        b.metadata.browser || \"\"\n+      );\n+    }\n+    const order = { fail: 0, skip: 1, pass: 2, none: 3 };\n+    return order[a.status.code] - order[b.status.code];\n   });\n }\n \n-// --- Build summary table HTML ---\n+// Build summary table\n function buildSummaryTable(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let html = `\n <table class=\"summary\">\n   <thead>\n@@ -189,115 +195,102 @@ function buildSummaryTable(entries) {\n       <th>OS</th>\n       <th>Browser</th>\n       <th>Total</th>\n-      <th>Failed</th>\n+      <th>Failures</th>\n       <th>Skipped</th>\n       <th>Duration</th>\n     </tr>\n   </thead>\n   <tbody>\n `;\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n     html += `\n-    <tr class=\"summary-row\" data-status=\"${e.status.code}\">\n-      <td class=\"status-cell\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-      </td>\n-      <td>${e.os.emoji} ${e.os.label}</td>\n-      <td>${e.browser.emoji} ${e.browser.label}</td>\n-      <td class=\"num-cell\">${e.summary.totalTests}</td>\n-      <td class=\"num-cell\">${e.summary.totalFailures}</td>\n-      <td class=\"num-cell\">${e.summary.totalSkipped}</td>\n-      <td>${formatDurationSeconds(e.summary.totalTimeSec)}</td>\n-    </tr>\n-`;\n-  });\n-\n+<tr class=\"summary-row\" data-status=\"${e.status.code}\">\n+  <td class=\"status-cell\">\n+    <span class=\"status-pill ${e.status.css}\">\n+      ${e.status.emoji} ${e.status.text}\n+    </span>\n+  </td>\n+  <td>${e.os.emoji} ${e.os.label}</td>\n+  <td>${e.browser.emoji} ${e.browser.label}</td>\n+  <td class=\"num-cell\">${e.stats.totalTests}</td>\n+  <td class=\"num-cell\">${e.stats.totalFailures}</td>\n+  <td class=\"num-cell\">${e.stats.totalSkipped}</td>\n+  <td>${Math.round(e.stats.totalTimeSec)}s</td>\n+</tr>`;\n+  }\n   html += `\n   </tbody>\n </table>\n `;\n-\n   return html;\n }\n \n-// --- Build detailed report blocks HTML ---\n+// Build hybrid blocks\n function buildReportBlocks(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let blocks = \"\";\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n+    const timestamp = formatUtcTimestamp(e.metadata.timestamp);\n     blocks += `\n <div class=\"report-block\" data-status=\"${e.status.code}\">\n   <div class=\"report-header\">\n     <div class=\"report-header-main\">\n-      <div class=\"report-title\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-        <span class=\"os-label\">${e.os.emoji} ${e.os.label}</span>\n-        <span class=\"browser-label\">${e.browser.emoji} ${e.browser.label}</span>\n-      </div>\n-      <div class=\"report-header-meta\">\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Tests:</span>\n-          <span class=\"meta-value\">${e.summary.totalTests}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Failed:</span>\n-          <span class=\"meta-value\">${e.summary.totalFailures}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Skipped:</span>\n-          <span class=\"meta-value\">${e.summary.totalSkipped}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Duration:</span>\n-          <span class=\"meta-value\">${formatDurationSeconds(\n-      e.summary.totalTimeSec\n-    )}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Timestamp:</span>\n-          <span class=\"meta-value\">${e.metadata.timestamp || \"\"}</span>\n-        </div>\n-      </div>\n-      <div class=\"links\">\n-        <a href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">\n-          Open HTML report\n-        </a>\n-        <a href=\"./${e.name}/playwright-report.zip\" download>\n-          Download ZIP\n-        </a>\n-      </div>\n+      <span class=\"status-pill ${e.status.css}\">\n+        ${e.status.emoji} ${e.status.text}\n+      </span>\n+      <span class=\"badge os-badge\">${e.os.emoji} ${e.os.label}</span>\n+      <span class=\"badge browser-badge\">${e.browser.emoji} ${e.browser.label}</span>\n+    </div>\n+    <span class=\"caret\">‚ñº</span>\n+  </div>\n+\n+  <div class=\"report-content\">\n+\n+    <div class=\"report-meta-grid\">\n+      <div class=\"meta-row\"><span class=\"meta-label\">Tests:</span><span class=\"meta-value\">${e.stats.totalTests}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Failed:</span><span class=\"meta-value\">${e.stats.totalFailures}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Skipped:</span><span class=\"meta-value\">${e.stats.totalSkipped}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Duration:</span><span class=\"meta-value\">${Math.round(e.stats.totalTimeSec)}s</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Timestamp:</span><span class=\"meta-value\">${timestamp}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Runner:</span><span class=\"meta-value\">${e.metadata.os}</span></div>\n     </div>\n+\n+    <div class=\"quick-summary\">\n+      üìä <strong>${e.stats.totalTests}</strong> tests ‚Ä¢\n+      ‚ö† <strong>${e.stats.totalFailures}</strong> failed ‚Ä¢\n+      ‚ûñ <strong>${e.stats.totalSkipped}</strong> skipped ‚Ä¢\n+      ‚è± <strong>${Math.round(e.stats.totalTimeSec)}s</strong>\n+    </div>\n+\n+    <div class=\"links\">\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">üìÑ HTML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/jsonReports/jsonReport.json\" target=\"_blank\">üß© JSON</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/junit/test-results.xml\" target=\"_blank\">üìë XML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report.zip\" download>üì¶ ZIP</a>\n+      <a class=\"link-pill\" href=\"${globalMeta.runUrl}\" target=\"_blank\">üìò Logs</a>\n+    </div>\n+\n   </div>\n </div>\n `;\n-  });\n-\n+  }\n   return blocks;\n }\n \n-// --- Generate dashboard HTML ---\n+// Generate final HTML\n const entries = sortEntries(loadEntries());\n const summaryTable = buildSummaryTable(entries);\n const reportBlocks = buildReportBlocks(entries);\n \n template = template\n-  .replace(\"{{PUBLISH_TIMESTAMP}}\", globalMeta.publishTimestamp || \"N/A\")\n+  .replace(\"{{PUBLISH_TIMESTAMP}}\", formatUtcTimestamp(globalMeta.publishTimestamp))\n   .replace(\"{{COMMIT_SHA}}\", globalMeta.commitSha || \"N/A\")\n   .replace(\"{{RUN_NUMBER}}\", globalMeta.runNumber || \"N/A\")\n   .replace(\"{{RUN_URL}}\", globalMeta.runUrl || \"#\")\n   .replace(\"{{SUMMARY_TABLE}}\", summaryTable)\n   .replace(\"{{REPORT_LIST}}\", reportBlocks);\n \n-// --- Write final index.html ---\n+// Write dashboard\n fs.writeFileSync(path.join(REPORTS_DIR, \"index.html\"), template, \"utf8\");\n \n-console.log(\"Dashboard generated successfully.\");\n+console.log(\"Super Dashboard (Hybrid Version) generated successfully.\");\ndiff --git a/scripts/templates/index.html b/scripts/templates/index.html\nindex bbb93d9..b4745a2 100644\n--- a/scripts/templates/index.html\n+++ b/scripts/templates/index.html\n@@ -116,7 +116,11 @@\n       border-radius: 8px;\n       background: var(--card-bg);\n       box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);\n-      transition: box-shadow 0.15s ease, transform 0.15s ease, background 0.2s ease;\n+      transition:\n+        box-shadow 0.15s ease,\n+        transform 0.15s ease,\n+        background 0.2s ease,\n+        border-color 0.2s ease;\n     }\n \n     .report-block:hover {\n@@ -129,12 +133,14 @@\n       align-items: center;\n       justify-content: space-between;\n       cursor: pointer;\n+      gap: 10px;\n     }\n \n     .report-header-main {\n       display: flex;\n       align-items: center;\n       gap: 8px;\n+      flex-wrap: wrap;\n     }\n \n     .caret {\n@@ -151,9 +157,60 @@\n       display: none;\n     }\n \n-    .links a {\n-      margin-right: 12px;\n+    .report-meta-grid {\n+      display: grid;\n+      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n+      gap: 4px 16px;\n+      margin-bottom: 8px;\n+    }\n+\n+    .meta-row {\n+      display: flex;\n+      justify-content: space-between;\n+      font-size: 13px;\n+    }\n+\n+    .meta-label {\n+      font-weight: 600;\n+      margin-right: 6px;\n+    }\n+\n+    .meta-value {\n+      text-align: right;\n+      opacity: 0.9;\n+    }\n+\n+    .quick-summary {\n+      font-size: 13px;\n+      margin: 6px 0 10px;\n+    }\n+\n+    .quick-summary strong {\n+      font-weight: 600;\n+    }\n+\n+    .links {\n+      display: flex;\n+      flex-wrap: wrap;\n+      gap: 8px;\n+      margin-top: 4px;\n+    }\n+\n+    .link-pill {\n+      display: inline-block;\n+      padding: 4px 10px;\n+      border-radius: 999px;\n+      border: 1px solid var(--border-color);\n+      font-size: 12px;\n       text-decoration: none;\n+      background: var(--card-bg);\n+      transition: background 0.15s ease, border-color 0.15s ease;\n+      white-space: nowrap;\n+    }\n+\n+    .link-pill:hover {\n+      background: var(--table-header-bg);\n+      border-color: var(--link-color);\n     }\n \n     table.summary {\n@@ -205,7 +262,10 @@\n       border-radius: 999px;\n       cursor: pointer;\n       font-size: 13px;\n-      transition: background 0.15s ease, border-color 0.15s ease;\n+      transition:\n+        background 0.15s ease,\n+        border-color 0.15s ease,\n+        color 0.15s ease;\n     }\n \n     .toggle-btn:hover,\n@@ -252,7 +312,7 @@\n \n   <h1>Playwright Reports</h1>\n \n-  <p><strong>Published:</strong> {{PUBLISH_TIMESTAMP}}</p>\n+  <p><strong>Published (UTC):</strong> {{PUBLISH_TIMESTAMP}}</p>\n   <p><strong>Commit:</strong> {{COMMIT_SHA}}</p>\n   <p><strong>Run:</strong> #{{RUN_NUMBER}}</p>\n   <p><a href=\"{{RUN_URL}}\">View Full Run Logs</a></p>\n@@ -288,19 +348,23 @@\n       const body = document.body;\n       const themeToggle = document.getElementById('theme-toggle');\n \n+      // THEME\n       const savedTheme = localStorage.getItem('pw-theme');\n       if (savedTheme === 'dark') {\n         body.classList.add('dark-mode');\n-        themeToggle.textContent = '‚òÄÔ∏è Light mode';\n+        if (themeToggle) themeToggle.textContent = '‚òÄÔ∏è Light mode';\n       }\n \n-      themeToggle.addEventListener('click', () => {\n-        body.classList.toggle('dark-mode');\n-        const isDark = body.classList.contains('dark-mode');\n-        localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n-        themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n-      });\n+      if (themeToggle) {\n+        themeToggle.addEventListener('click', () => {\n+          body.classList.toggle('dark-mode');\n+          const isDark = body.classList.contains('dark-mode');\n+          localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n+          themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n+        });\n+      }\n \n+      // FILTERS\n       const filterButtons = document.querySelectorAll('.filter-btn');\n \n       function applyFilter(filter) {\n@@ -308,12 +372,12 @@\n         const blocks = document.querySelectorAll('.report-block');\n \n         rows.forEach(row => {\n-          const status = row.dataset.status;\n+          const status = (row.dataset.status || '').toLowerCase();\n           row.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n \n         blocks.forEach(block => {\n-          const status = block.dataset.status;\n+          const status = (block.dataset.status || '').toLowerCase();\n           block.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n       }\n@@ -326,21 +390,27 @@\n         });\n       });\n \n+      // COLLAPSIBLE REPORT BLOCKS\n       const reportBlocks = document.querySelectorAll('.report-block');\n       reportBlocks.forEach(block => {\n         const header = block.querySelector('.report-header');\n         const caret = block.querySelector('.caret');\n-        const status = block.dataset.status;\n+        const status = (block.dataset.status || '').toLowerCase();\n \n+        // Default: PASS + NONE collapsed, FAIL + SKIP expanded\n         if (status === 'pass' || status === 'none') {\n           block.classList.add('collapsed');\n-          caret.textContent = '‚ñ∂';\n+          if (caret) caret.textContent = '‚ñ∂';\n+        } else {\n+          if (caret) caret.textContent = '‚ñº';\n         }\n \n-        header.addEventListener('click', () => {\n-          const isCollapsed = block.classList.toggle('collapsed');\n-          caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n-        });\n+        if (header) {\n+          header.addEventListener('click', () => {\n+            const isCollapsed = block.classList.toggle('collapsed');\n+            if (caret) caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n+          });\n+        }\n       });\n     });\n   </script>",
          "actualWorkers": 2
        },
        "id": "firefox",
        "name": "firefox",
        "testDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/tests",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 30000
      },
      {
        "outputDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/test-results",
        "repeatEach": 1,
        "retries": 0,
        "metadata": {
          "ci": {
            "commitHref": "https://github.com/smenouillard/playwright-portfolio/commit/e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "commitHash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "prHref": "https://github.com/smenouillard/playwright-portfolio/pull/1",
            "prTitle": "feat(dashboard): add hybrid dashboard system",
            "prBaseHash": "88e78dd2976c075952af2c2dd8234303e96872e6",
            "buildHref": "https://github.com/smenouillard/playwright-portfolio/actions/runs/19676876690"
          },
          "gitCommit": {
            "shortHash": "e963e46",
            "hash": "e963e46a9ae91c07fd2c147d32c0750ab7c55664",
            "subject": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6",
            "body": "Merge 815ecfdc510dd7f5ae102505cb1f286955b6646b into 88e78dd2976c075952af2c2dd8234303e96872e6\n",
            "author": {
              "name": "smenouillard",
              "email": "smenouillard@gmail.com",
              "time": 1764088436000
            },
            "committer": {
              "name": "GitHub",
              "email": "noreply@github.com",
              "time": 1764088436000
            },
            "branch": "HEAD"
          },
          "gitDiff": "diff --git a/.github/workflows/playwright.yml b/.github/workflows/playwright.yml\nindex b3faf26..048a648 100644\n--- a/.github/workflows/playwright.yml\n+++ b/.github/workflows/playwright.yml\n@@ -3,6 +3,12 @@\n \n name: Playwright E2E Tests\n \n+# Required permissions for posting PR comments, writing previews, etc.\n+permissions:\n+  contents: read\n+  issues: write\n+  pull-requests: write\n+\n on:\n   push:\n     branches: [main, master]\n@@ -88,7 +94,7 @@ jobs:\n         run: xvfb-run npx playwright test --project=${{ matrix.browser }} || true\n \n       # Run tests on Windows/macOS\n-      - name: Run tests (Windows/macOS)\n+      - name: Run tests (Windows/macCOS)\n         if: matrix.os != 'ubuntu-latest'\n         run: npx playwright test --project=${{ matrix.browser }} || true\n \n@@ -177,11 +183,91 @@ jobs:\n           }'\n           METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n \n-      # Publish to GitHub Pages\n+      # Publish to GitHub Pages (using keep_files instead of force_orphan)\n       - name: Publish to Pages\n         uses: peaceiris/actions-gh-pages@v3.9.2\n         with:\n           github_token: ${{ secrets.PAT }}\n           publish_dir: ./reports\n           commit_message: \"Publish Playwright dashboard [skip ci]\"\n-          force_orphan: true\n+          keep_files: true # ‚Üê ONLY CHANGE\n+\n+  publish-preview:\n+    name: Publish Preview Dashboard\n+    runs-on: ubuntu-latest\n+    needs: test\n+    if: always() && github.ref != 'refs/heads/main'\n+\n+    steps:\n+      # Checkout source\n+      - name: Checkout\n+        uses: actions/checkout@v4.1.1\n+\n+      # Download artifacts\n+      - name: Download artifacts\n+        uses: actions/download-artifact@v4\n+        with:\n+          path: ./reports\n+\n+      # Extract HTML reports for preview\n+      - name: Extract HTML reports\n+        shell: bash\n+        run: |\n+          cd reports\n+          for dir in report-*; do\n+            if [ -d \"$dir\" ] && [ -f \"$dir/playwright-report.zip\" ]; then\n+              mkdir -p \"$dir/playwright-report\"\n+              unzip -q \"$dir/playwright-report.zip\" -d \"$dir/playwright-report\"\n+            fi\n+          done\n+\n+      # Generate preview dashboard\n+      - name: Generate dashboard (preview)\n+        run: |\n+          BRANCH_NAME_SAFE=\"${GITHUB_REF_NAME//\\//-}\"\n+\n+          metadata='{\n+            \"publishTimestamp\": \"'\"$(date -u '+%Y-%m-%d %H:%M UTC')\"'\",\n+            \"commitSha\": \"'\"$GITHUB_SHA\"'\",\n+            \"runNumber\": \"'\"$GITHUB_RUN_NUMBER\"'\",\n+            \"runUrl\": \"https://github.com/'\"$GITHUB_REPOSITORY\"'/actions/runs/'\"$GITHUB_RUN_ID\"'\"\n+          }'\n+\n+          METADATA_JSON=\"$metadata\" node scripts/generate-index.js\n+\n+          mkdir -p \"previews/$BRANCH_NAME_SAFE\"\n+          cp -r reports/* \"previews/$BRANCH_NAME_SAFE/\" || true\n+\n+      # Publish preview dashboard\n+      - name: Publish preview to Pages\n+        uses: peaceiris/actions-gh-pages@v3.9.2\n+        with:\n+          github_token: ${{ secrets.PAT }}\n+          publish_dir: ./previews\n+          commit_message: \"Publish preview dashboard for ${{ github.ref_name }} [skip ci]\"\n+          keep_files: true\n+\n+      # Post preview link comment on PR\n+      - name: Comment preview link on PR\n+        if: github.event_name == 'pull_request'\n+        uses: actions/github-script@v7\n+        with:\n+          script: |\n+            const branch = process.env.GITHUB_REF_NAME.replace(/\\//g, \"-\");\n+            const url  = `https://smenouillard.github.io/Playwright-portfolio/previews/${branch}/`;\n+\n+            const body = [\n+              \"### Preview Dashboard Ready\",\n+              \"\",\n+              \"**URL:**  \",\n+              url,\n+              \"\",\n+              \"_This link updates automatically with each push to this branch._\"\n+            ].join(\"\\n\");\n+\n+            github.rest.issues.createComment({\n+              issue_number: context.issue.number,\n+              owner: context.repo.owner,\n+              repo: context.repo.repo,\n+              body\n+            });\ndiff --git a/scripts/generate-index.js b/scripts/generate-index.js\nindex b202555..cebce64 100644\n--- a/scripts/generate-index.js\n+++ b/scripts/generate-index.js\n@@ -1,19 +1,28 @@\n // /scripts/generate-index.js\n-// Generate Playwright dashboard using HTML template\n+// generate dashboard\n \n const fs = require(\"fs\");\n const path = require(\"path\");\n \n-// --- Setup paths ---\n+// Utility: format UTC timestamps\n+function formatUtcTimestamp(raw) {\n+  if (!raw) return \"N/A\";\n+  const date = new Date(raw);\n+  if (isNaN(date.getTime())) return raw + \" UTC\";\n+  const yyyy = date.getUTCFullYear();\n+  const mm = String(date.getUTCMonth() + 1).padStart(2, \"0\");\n+  const dd = String(date.getUTCDate()).padStart(2, \"0\");\n+  const hh = String(date.getUTCHours()).padStart(2, \"0\");\n+  const min = String(date.getUTCMinutes()).padStart(2, \"0\");\n+  return `${yyyy}-${mm}-${dd} ${hh}:${min} UTC`;\n+}\n+\n+// Setup paths\n const REPORTS_DIR = path.join(process.cwd(), \"reports\");\n const TEMPLATE_PATH = path.join(__dirname, \"templates\", \"index.html\");\n-const METADATA_RELATIVE = path.join(\"metadata\", \"metadata.json\");\n-const JSON_REPORT_RELATIVE = path.join(\"jsonReports\", \"jsonReport.json\");\n-\n-// --- Load HTML template ---\n let template = fs.readFileSync(TEMPLATE_PATH, \"utf8\");\n \n-// --- Load global CI metadata ---\n+// Load global metadata\n let globalMeta = {};\n try {\n   globalMeta = JSON.parse(process.env.METADATA_JSON || \"{}\");\n@@ -21,14 +30,14 @@ try {\n   globalMeta = {};\n }\n \n-// --- Define OS badges ---\n+// OS badges\n const osBadges = {\n   \"ubuntu-latest\": { emoji: \"üêß\", label: \"Ubuntu\" },\n   \"windows-latest\": { emoji: \"ü™ü\", label: \"Windows\" },\n   \"macos-latest\": { emoji: \"üçé\", label: \"macOS\" },\n };\n \n-// --- Define browser badges ---\n+// Browser badges\n const browserBadges = {\n   chromium: { emoji: \"üåê\", label: \"Chromium\" },\n   firefox: { emoji: \"ü¶ä\", label: \"Firefox\" },\n@@ -36,151 +45,148 @@ const browserBadges = {\n   edge: { emoji: \"üü¶\", label: \"Edge\" },\n };\n \n-// --- Format duration from seconds ---\n-function formatDurationSeconds(value) {\n-  const seconds = Math.round(value || 0);\n-  const minutes = Math.floor(seconds / 60);\n-  const remain = seconds % 60;\n-  return minutes > 0 ? `${minutes}m ${remain}s` : `${remain}s`;\n-}\n-\n-// --- Build summary object from Playwright stats ---\n-function computeSummary(stats) {\n-  if (!stats) {\n+// Parse Playwright JSON stats\n+function parseJsonStats(filePath) {\n+  if (!fs.existsSync(filePath)) return null;\n+  try {\n+    const json = JSON.parse(fs.readFileSync(filePath, \"utf8\"));\n+    const stats = json.stats || {};\n+    const totalTests =\n+      (stats.expected || 0) +\n+      (stats.unexpected || 0) +\n+      (stats.skipped || 0);\n     return {\n-      totalTests: 0,\n-      totalFailures: 0,\n-      totalSkipped: 0,\n-      totalTimeSec: 0,\n+      totalTests,\n+      totalFailures: stats.unexpected || 0,\n+      totalSkipped: stats.skipped || 0,\n+      totalTimeSec: (stats.duration || 0) / 1000,\n     };\n+  } catch {\n+    return null;\n   }\n+}\n \n-  const totalTests =\n-    (stats.expected || 0) +\n-    (stats.unexpected || 0) +\n-    (stats.skipped || 0);\n-  const totalFailures = stats.unexpected || 0;\n-  const totalSkipped = stats.skipped || 0;\n-  const totalTimeSec = (stats.duration || 0) / 1000;\n-\n+// Parse JUnit XML\n+function parseJUnitSummary(xml) {\n+  if (!xml) return null;\n+  const suiteRegex = /<testsuite\\b([^>]*)>/g;\n+  let totalTests = 0;\n+  let totalFailures = 0;\n+  let totalSkipped = 0;\n+  let totalTime = 0;\n+  let match;\n+  while ((match = suiteRegex.exec(xml)) !== null) {\n+    const attrs = match[1];\n+    const get = (name) => {\n+      const re = new RegExp(name + '=\"([^\"]+)\"');\n+      const m = re.exec(attrs);\n+      return m ? m[1] : null;\n+    };\n+    totalTests += parseInt(get(\"tests\") || \"0\", 10);\n+    totalFailures += parseInt(get(\"failures\") || \"0\", 10);\n+    totalSkipped += parseInt(get(\"skipped\") || \"0\", 10);\n+    totalTime += parseFloat(get(\"time\") || \"0\");\n+  }\n   return {\n     totalTests,\n     totalFailures,\n     totalSkipped,\n-    totalTimeSec,\n+    totalTimeSec: totalTime,\n   };\n }\n \n-// --- Determine status pill ---\n+// Status pill logic\n function statusInfo(summary) {\n-  if (summary.totalFailures > 0) {\n+  if (!summary)\n+    return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n+  if (summary.totalFailures > 0)\n     return { text: \"FAIL\", emoji: \"üî¥\", css: \"pill-fail\", code: \"fail\" };\n-  }\n-  if (summary.totalSkipped > 0) {\n+  if (summary.totalSkipped > 0)\n     return { text: \"SKIPPED\", emoji: \"üü°\", css: \"pill-skip\", code: \"skip\" };\n-  }\n-  if (summary.totalTests > 0) {\n+  if (summary.totalTests > 0)\n     return { text: \"PASS\", emoji: \"üü¢\", css: \"pill-pass\", code: \"pass\" };\n-  }\n   return { text: \"NO TESTS\", emoji: \"‚ö™\", css: \"pill-none\", code: \"none\" };\n }\n \n-// --- Load one report entry ---\n+// Load one report folder\n function loadRunEntry(dirName) {\n-  const folderPath = path.join(REPORTS_DIR, dirName);\n-  const metadataFile = path.join(folderPath, METADATA_RELATIVE);\n-\n-  if (!fs.existsSync(metadataFile)) return null;\n-\n+  const folder = path.join(REPORTS_DIR, dirName);\n+  const metadataPath = path.join(folder, \"metadata\", \"metadata.json\");\n+  if (!fs.existsSync(metadataPath)) return null;\n   let metadata;\n   try {\n-    metadata = JSON.parse(fs.readFileSync(metadataFile, \"utf8\"));\n+    metadata = JSON.parse(fs.readFileSync(metadataPath, \"utf8\"));\n   } catch {\n     return null;\n   }\n-\n-  const jsonReportFile = path.join(folderPath, JSON_REPORT_RELATIVE);\n-  let stats = null;\n-\n-  if (fs.existsSync(jsonReportFile)) {\n+  const jsonStats = parseJsonStats(\n+    path.join(folder, \"jsonReports\", \"jsonReport.json\")\n+  );\n+  let junitStats = null;\n+  const junitPath = path.join(folder, \"junit\", \"test-results.xml\");\n+  if (fs.existsSync(junitPath)) {\n     try {\n-      const jsonReport = JSON.parse(\n-        fs.readFileSync(jsonReportFile, \"utf8\")\n-      );\n-      stats = jsonReport.stats || null;\n-    } catch {\n-      stats = null;\n-    }\n+      const xml = fs.readFileSync(junitPath, \"utf8\");\n+      junitStats = parseJUnitSummary(xml);\n+    } catch { }\n   }\n-\n-  const summary = computeSummary(stats);\n-\n-  const osMeta =\n-    osBadges[metadata.os] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.os || \"Unknown OS\",\n-    };\n-\n-  const browserMeta =\n-    browserBadges[metadata.browser] || {\n-      emoji: \"‚ùì\",\n-      label: metadata.browser || \"Unknown\",\n-    };\n-\n-  const status = statusInfo(summary);\n-\n+  const finalStats = jsonStats || junitStats || {\n+    totalTests: 0,\n+    totalFailures: 0,\n+    totalSkipped: 0,\n+    totalTimeSec: 0,\n+  };\n+  const status = statusInfo(finalStats);\n+  const osMeta = osBadges[metadata.os] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.os || \"Unknown OS\",\n+  };\n+  const browserMeta = browserBadges[metadata.browser] || {\n+    emoji: \"‚ùì\",\n+    label: metadata.browser || \"Unknown\",\n+  };\n   return {\n     name: dirName,\n     metadata,\n-    summary,\n+    stats: finalStats,\n+    status,\n     os: osMeta,\n     browser: browserMeta,\n-    status,\n   };\n }\n \n-// --- Load all report entries ---\n+// Load entries\n function loadEntries() {\n   if (!fs.existsSync(REPORTS_DIR)) return [];\n-\n-  const dirents = fs\n+  return fs\n     .readdirSync(REPORTS_DIR, { withFileTypes: true })\n-    .filter((d) => d.isDirectory());\n-\n-  const entries = dirents\n-    .filter((d) => d.name.startsWith(\"report-\"))\n+    .filter((d) => d.isDirectory() && d.name.startsWith(\"report-\"))\n     .map((d) => loadRunEntry(d.name))\n     .filter(Boolean);\n-\n-  return entries;\n }\n \n-// --- Define OS order for display ---\n+// OS sorting priority\n const OS_ORDER = [\"windows-latest\", \"macos-latest\", \"ubuntu-latest\"];\n \n-// --- Sort entries by OS and then by browser ---\n+// Sort entries\n function sortEntries(entries) {\n-  return entries.slice().sort((a, b) => {\n-    const aIndex = OS_ORDER.indexOf(a.metadata.os);\n-    const bIndex = OS_ORDER.indexOf(b.metadata.os);\n-\n-    const aRank = aIndex === -1 ? OS_ORDER.length : aIndex;\n-    const bRank = bIndex === -1 ? OS_ORDER.length : bIndex;\n-\n-    if (aRank !== bRank) return aRank - bRank;\n-\n-    return (a.metadata.browser || \"\").localeCompare(\n-      b.metadata.browser || \"\"\n-    );\n+  return entries.sort((a, b) => {\n+    const aOs = OS_ORDER.indexOf(a.metadata.os);\n+    const bOs = OS_ORDER.indexOf(b.metadata.os);\n+    if (aOs !== bOs) return aOs - bOs;\n+    if (a.metadata.browser !== b.metadata.browser) {\n+      return (a.metadata.browser || \"\").localeCompare(\n+        b.metadata.browser || \"\"\n+      );\n+    }\n+    const order = { fail: 0, skip: 1, pass: 2, none: 3 };\n+    return order[a.status.code] - order[b.status.code];\n   });\n }\n \n-// --- Build summary table HTML ---\n+// Build summary table\n function buildSummaryTable(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let html = `\n <table class=\"summary\">\n   <thead>\n@@ -189,115 +195,102 @@ function buildSummaryTable(entries) {\n       <th>OS</th>\n       <th>Browser</th>\n       <th>Total</th>\n-      <th>Failed</th>\n+      <th>Failures</th>\n       <th>Skipped</th>\n       <th>Duration</th>\n     </tr>\n   </thead>\n   <tbody>\n `;\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n     html += `\n-    <tr class=\"summary-row\" data-status=\"${e.status.code}\">\n-      <td class=\"status-cell\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-      </td>\n-      <td>${e.os.emoji} ${e.os.label}</td>\n-      <td>${e.browser.emoji} ${e.browser.label}</td>\n-      <td class=\"num-cell\">${e.summary.totalTests}</td>\n-      <td class=\"num-cell\">${e.summary.totalFailures}</td>\n-      <td class=\"num-cell\">${e.summary.totalSkipped}</td>\n-      <td>${formatDurationSeconds(e.summary.totalTimeSec)}</td>\n-    </tr>\n-`;\n-  });\n-\n+<tr class=\"summary-row\" data-status=\"${e.status.code}\">\n+  <td class=\"status-cell\">\n+    <span class=\"status-pill ${e.status.css}\">\n+      ${e.status.emoji} ${e.status.text}\n+    </span>\n+  </td>\n+  <td>${e.os.emoji} ${e.os.label}</td>\n+  <td>${e.browser.emoji} ${e.browser.label}</td>\n+  <td class=\"num-cell\">${e.stats.totalTests}</td>\n+  <td class=\"num-cell\">${e.stats.totalFailures}</td>\n+  <td class=\"num-cell\">${e.stats.totalSkipped}</td>\n+  <td>${Math.round(e.stats.totalTimeSec)}s</td>\n+</tr>`;\n+  }\n   html += `\n   </tbody>\n </table>\n `;\n-\n   return html;\n }\n \n-// --- Build detailed report blocks HTML ---\n+// Build hybrid blocks\n function buildReportBlocks(entries) {\n-  if (entries.length === 0) {\n-    return \"<p>No reports available.</p>\";\n-  }\n-\n+  if (entries.length === 0) return \"<p>No reports available.</p>\";\n   let blocks = \"\";\n-\n-  entries.forEach((e) => {\n+  for (const e of entries) {\n+    const timestamp = formatUtcTimestamp(e.metadata.timestamp);\n     blocks += `\n <div class=\"report-block\" data-status=\"${e.status.code}\">\n   <div class=\"report-header\">\n     <div class=\"report-header-main\">\n-      <div class=\"report-title\">\n-        <span class=\"status-pill ${e.status.css}\">\n-          ${e.status.emoji} ${e.status.text}\n-        </span>\n-        <span class=\"os-label\">${e.os.emoji} ${e.os.label}</span>\n-        <span class=\"browser-label\">${e.browser.emoji} ${e.browser.label}</span>\n-      </div>\n-      <div class=\"report-header-meta\">\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Tests:</span>\n-          <span class=\"meta-value\">${e.summary.totalTests}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Failed:</span>\n-          <span class=\"meta-value\">${e.summary.totalFailures}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Skipped:</span>\n-          <span class=\"meta-value\">${e.summary.totalSkipped}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Duration:</span>\n-          <span class=\"meta-value\">${formatDurationSeconds(\n-      e.summary.totalTimeSec\n-    )}</span>\n-        </div>\n-        <div class=\"meta-row\">\n-          <span class=\"meta-label\">Timestamp:</span>\n-          <span class=\"meta-value\">${e.metadata.timestamp || \"\"}</span>\n-        </div>\n-      </div>\n-      <div class=\"links\">\n-        <a href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">\n-          Open HTML report\n-        </a>\n-        <a href=\"./${e.name}/playwright-report.zip\" download>\n-          Download ZIP\n-        </a>\n-      </div>\n+      <span class=\"status-pill ${e.status.css}\">\n+        ${e.status.emoji} ${e.status.text}\n+      </span>\n+      <span class=\"badge os-badge\">${e.os.emoji} ${e.os.label}</span>\n+      <span class=\"badge browser-badge\">${e.browser.emoji} ${e.browser.label}</span>\n+    </div>\n+    <span class=\"caret\">‚ñº</span>\n+  </div>\n+\n+  <div class=\"report-content\">\n+\n+    <div class=\"report-meta-grid\">\n+      <div class=\"meta-row\"><span class=\"meta-label\">Tests:</span><span class=\"meta-value\">${e.stats.totalTests}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Failed:</span><span class=\"meta-value\">${e.stats.totalFailures}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Skipped:</span><span class=\"meta-value\">${e.stats.totalSkipped}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Duration:</span><span class=\"meta-value\">${Math.round(e.stats.totalTimeSec)}s</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Timestamp:</span><span class=\"meta-value\">${timestamp}</span></div>\n+      <div class=\"meta-row\"><span class=\"meta-label\">Runner:</span><span class=\"meta-value\">${e.metadata.os}</span></div>\n     </div>\n+\n+    <div class=\"quick-summary\">\n+      üìä <strong>${e.stats.totalTests}</strong> tests ‚Ä¢\n+      ‚ö† <strong>${e.stats.totalFailures}</strong> failed ‚Ä¢\n+      ‚ûñ <strong>${e.stats.totalSkipped}</strong> skipped ‚Ä¢\n+      ‚è± <strong>${Math.round(e.stats.totalTimeSec)}s</strong>\n+    </div>\n+\n+    <div class=\"links\">\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report/index.html\" target=\"_blank\">üìÑ HTML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/jsonReports/jsonReport.json\" target=\"_blank\">üß© JSON</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/junit/test-results.xml\" target=\"_blank\">üìë XML</a>\n+      <a class=\"link-pill\" href=\"./${e.name}/playwright-report.zip\" download>üì¶ ZIP</a>\n+      <a class=\"link-pill\" href=\"${globalMeta.runUrl}\" target=\"_blank\">üìò Logs</a>\n+    </div>\n+\n   </div>\n </div>\n `;\n-  });\n-\n+  }\n   return blocks;\n }\n \n-// --- Generate dashboard HTML ---\n+// Generate final HTML\n const entries = sortEntries(loadEntries());\n const summaryTable = buildSummaryTable(entries);\n const reportBlocks = buildReportBlocks(entries);\n \n template = template\n-  .replace(\"{{PUBLISH_TIMESTAMP}}\", globalMeta.publishTimestamp || \"N/A\")\n+  .replace(\"{{PUBLISH_TIMESTAMP}}\", formatUtcTimestamp(globalMeta.publishTimestamp))\n   .replace(\"{{COMMIT_SHA}}\", globalMeta.commitSha || \"N/A\")\n   .replace(\"{{RUN_NUMBER}}\", globalMeta.runNumber || \"N/A\")\n   .replace(\"{{RUN_URL}}\", globalMeta.runUrl || \"#\")\n   .replace(\"{{SUMMARY_TABLE}}\", summaryTable)\n   .replace(\"{{REPORT_LIST}}\", reportBlocks);\n \n-// --- Write final index.html ---\n+// Write dashboard\n fs.writeFileSync(path.join(REPORTS_DIR, \"index.html\"), template, \"utf8\");\n \n-console.log(\"Dashboard generated successfully.\");\n+console.log(\"Super Dashboard (Hybrid Version) generated successfully.\");\ndiff --git a/scripts/templates/index.html b/scripts/templates/index.html\nindex bbb93d9..b4745a2 100644\n--- a/scripts/templates/index.html\n+++ b/scripts/templates/index.html\n@@ -116,7 +116,11 @@\n       border-radius: 8px;\n       background: var(--card-bg);\n       box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);\n-      transition: box-shadow 0.15s ease, transform 0.15s ease, background 0.2s ease;\n+      transition:\n+        box-shadow 0.15s ease,\n+        transform 0.15s ease,\n+        background 0.2s ease,\n+        border-color 0.2s ease;\n     }\n \n     .report-block:hover {\n@@ -129,12 +133,14 @@\n       align-items: center;\n       justify-content: space-between;\n       cursor: pointer;\n+      gap: 10px;\n     }\n \n     .report-header-main {\n       display: flex;\n       align-items: center;\n       gap: 8px;\n+      flex-wrap: wrap;\n     }\n \n     .caret {\n@@ -151,9 +157,60 @@\n       display: none;\n     }\n \n-    .links a {\n-      margin-right: 12px;\n+    .report-meta-grid {\n+      display: grid;\n+      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));\n+      gap: 4px 16px;\n+      margin-bottom: 8px;\n+    }\n+\n+    .meta-row {\n+      display: flex;\n+      justify-content: space-between;\n+      font-size: 13px;\n+    }\n+\n+    .meta-label {\n+      font-weight: 600;\n+      margin-right: 6px;\n+    }\n+\n+    .meta-value {\n+      text-align: right;\n+      opacity: 0.9;\n+    }\n+\n+    .quick-summary {\n+      font-size: 13px;\n+      margin: 6px 0 10px;\n+    }\n+\n+    .quick-summary strong {\n+      font-weight: 600;\n+    }\n+\n+    .links {\n+      display: flex;\n+      flex-wrap: wrap;\n+      gap: 8px;\n+      margin-top: 4px;\n+    }\n+\n+    .link-pill {\n+      display: inline-block;\n+      padding: 4px 10px;\n+      border-radius: 999px;\n+      border: 1px solid var(--border-color);\n+      font-size: 12px;\n       text-decoration: none;\n+      background: var(--card-bg);\n+      transition: background 0.15s ease, border-color 0.15s ease;\n+      white-space: nowrap;\n+    }\n+\n+    .link-pill:hover {\n+      background: var(--table-header-bg);\n+      border-color: var(--link-color);\n     }\n \n     table.summary {\n@@ -205,7 +262,10 @@\n       border-radius: 999px;\n       cursor: pointer;\n       font-size: 13px;\n-      transition: background 0.15s ease, border-color 0.15s ease;\n+      transition:\n+        background 0.15s ease,\n+        border-color 0.15s ease,\n+        color 0.15s ease;\n     }\n \n     .toggle-btn:hover,\n@@ -252,7 +312,7 @@\n \n   <h1>Playwright Reports</h1>\n \n-  <p><strong>Published:</strong> {{PUBLISH_TIMESTAMP}}</p>\n+  <p><strong>Published (UTC):</strong> {{PUBLISH_TIMESTAMP}}</p>\n   <p><strong>Commit:</strong> {{COMMIT_SHA}}</p>\n   <p><strong>Run:</strong> #{{RUN_NUMBER}}</p>\n   <p><a href=\"{{RUN_URL}}\">View Full Run Logs</a></p>\n@@ -288,19 +348,23 @@\n       const body = document.body;\n       const themeToggle = document.getElementById('theme-toggle');\n \n+      // THEME\n       const savedTheme = localStorage.getItem('pw-theme');\n       if (savedTheme === 'dark') {\n         body.classList.add('dark-mode');\n-        themeToggle.textContent = '‚òÄÔ∏è Light mode';\n+        if (themeToggle) themeToggle.textContent = '‚òÄÔ∏è Light mode';\n       }\n \n-      themeToggle.addEventListener('click', () => {\n-        body.classList.toggle('dark-mode');\n-        const isDark = body.classList.contains('dark-mode');\n-        localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n-        themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n-      });\n+      if (themeToggle) {\n+        themeToggle.addEventListener('click', () => {\n+          body.classList.toggle('dark-mode');\n+          const isDark = body.classList.contains('dark-mode');\n+          localStorage.setItem('pw-theme', isDark ? 'dark' : 'light');\n+          themeToggle.textContent = isDark ? '‚òÄÔ∏è Light mode' : 'üåô Dark mode';\n+        });\n+      }\n \n+      // FILTERS\n       const filterButtons = document.querySelectorAll('.filter-btn');\n \n       function applyFilter(filter) {\n@@ -308,12 +372,12 @@\n         const blocks = document.querySelectorAll('.report-block');\n \n         rows.forEach(row => {\n-          const status = row.dataset.status;\n+          const status = (row.dataset.status || '').toLowerCase();\n           row.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n \n         blocks.forEach(block => {\n-          const status = block.dataset.status;\n+          const status = (block.dataset.status || '').toLowerCase();\n           block.style.display = (filter === 'all' || status === filter) ? '' : 'none';\n         });\n       }\n@@ -326,21 +390,27 @@\n         });\n       });\n \n+      // COLLAPSIBLE REPORT BLOCKS\n       const reportBlocks = document.querySelectorAll('.report-block');\n       reportBlocks.forEach(block => {\n         const header = block.querySelector('.report-header');\n         const caret = block.querySelector('.caret');\n-        const status = block.dataset.status;\n+        const status = (block.dataset.status || '').toLowerCase();\n \n+        // Default: PASS + NONE collapsed, FAIL + SKIP expanded\n         if (status === 'pass' || status === 'none') {\n           block.classList.add('collapsed');\n-          caret.textContent = '‚ñ∂';\n+          if (caret) caret.textContent = '‚ñ∂';\n+        } else {\n+          if (caret) caret.textContent = '‚ñº';\n         }\n \n-        header.addEventListener('click', () => {\n-          const isCollapsed = block.classList.toggle('collapsed');\n-          caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n-        });\n+        if (header) {\n+          header.addEventListener('click', () => {\n+            const isCollapsed = block.classList.toggle('collapsed');\n+            if (caret) caret.textContent = isCollapsed ? '‚ñ∂' : '‚ñº';\n+          });\n+        }\n       });\n     });\n   </script>",
          "actualWorkers": 2
        },
        "id": "webkit-linux",
        "name": "webkit-linux",
        "testDir": "/Users/runner/work/playwright-portfolio/playwright-portfolio/tests",
        "testIgnore": [],
        "testMatch": [
          "**/*.@(spec|test).?(c|m)[jt]s?(x)"
        ],
        "timeout": 30000
      }
    ],
    "shard": null,
    "updateSnapshots": "missing",
    "updateSourceMethod": "patch",
    "version": "1.56.1",
    "workers": 2,
    "webServer": null
  },
  "suites": [
    {
      "title": "specs/login.spec.ts",
      "file": "specs/login.spec.ts",
      "column": 0,
      "line": 0,
      "specs": [],
      "suites": [
        {
          "title": "Login tests",
          "file": "specs/login.spec.ts",
          "line": 16,
          "column": 6,
          "specs": [
            {
              "title": "valid login redirects to secure area",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "webkit",
                  "projectName": "webkit",
                  "results": [
                    {
                      "workerIndex": 0,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 6502,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-25T16:36:05.448Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "e7da2f3a65ad9cd8e037-90765e06830c58986cc8",
              "file": "specs/login.spec.ts",
              "line": 17,
              "column": 7
            },
            {
              "title": "invalid login - invalid username",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "webkit",
                  "projectName": "webkit",
                  "results": [
                    {
                      "workerIndex": 0,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 2393,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-25T16:36:13.572Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "e7da2f3a65ad9cd8e037-8e4617834c3edb9f7bfb",
              "file": "specs/login.spec.ts",
              "line": 29,
              "column": 9
            },
            {
              "title": "invalid login - invalid password",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "webkit",
                  "projectName": "webkit",
                  "results": [
                    {
                      "workerIndex": 0,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 2034,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-25T16:36:15.983Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "e7da2f3a65ad9cd8e037-376412092f67c526a3f3",
              "file": "specs/login.spec.ts",
              "line": 29,
              "column": 9
            },
            {
              "title": "invalid login - empty username",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "webkit",
                  "projectName": "webkit",
                  "results": [
                    {
                      "workerIndex": 0,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 1737,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-25T16:36:18.035Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "e7da2f3a65ad9cd8e037-0e1262a35157c8f3091f",
              "file": "specs/login.spec.ts",
              "line": 29,
              "column": 9
            },
            {
              "title": "invalid login - empty password",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "webkit",
                  "projectName": "webkit",
                  "results": [
                    {
                      "workerIndex": 0,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 1604,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-25T16:36:19.783Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "e7da2f3a65ad9cd8e037-a7c29819a84aaae15e98",
              "file": "specs/login.spec.ts",
              "line": 29,
              "column": 9
            },
            {
              "title": "invalid login - both fields empty",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "webkit",
                  "projectName": "webkit",
                  "results": [
                    {
                      "workerIndex": 0,
                      "parallelIndex": 0,
                      "status": "passed",
                      "duration": 1331,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-25T16:36:21.401Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "e7da2f3a65ad9cd8e037-42328ab82ba4f47376c3",
              "file": "specs/login.spec.ts",
              "line": 29,
              "column": 9
            }
          ]
        }
      ]
    },
    {
      "title": "specs/simpleFormDemo.spec.ts",
      "file": "specs/simpleFormDemo.spec.ts",
      "column": 0,
      "line": 0,
      "specs": [],
      "suites": [
        {
          "title": "Simple Form Demo",
          "file": "specs/simpleFormDemo.spec.ts",
          "line": 12,
          "column": 6,
          "specs": [
            {
              "title": "Single Input Field: valid text and empty value",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "webkit",
                  "projectName": "webkit",
                  "results": [
                    {
                      "workerIndex": 1,
                      "parallelIndex": 1,
                      "status": "passed",
                      "duration": 6671,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-25T16:36:05.417Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "b06d49e97e70612ef21b-ebde93acc23bd75e6e5c",
              "file": "specs/simpleFormDemo.spec.ts",
              "line": 20,
              "column": 7
            },
            {
              "title": "Two Input Fields: numeric validation and sum (randomized)",
              "ok": true,
              "tags": [],
              "tests": [
                {
                  "timeout": 30000,
                  "annotations": [],
                  "expectedStatus": "passed",
                  "projectId": "webkit",
                  "projectName": "webkit",
                  "results": [
                    {
                      "workerIndex": 1,
                      "parallelIndex": 1,
                      "status": "passed",
                      "duration": 5310,
                      "errors": [],
                      "stdout": [],
                      "stderr": [],
                      "retry": 0,
                      "startTime": "2025-11-25T16:36:13.778Z",
                      "annotations": [],
                      "attachments": []
                    }
                  ],
                  "status": "expected"
                }
              ],
              "id": "b06d49e97e70612ef21b-ec20cd18a5994bf29738",
              "file": "specs/simpleFormDemo.spec.ts",
              "line": 32,
              "column": 7
            }
          ]
        }
      ]
    }
  ],
  "errors": [],
  "stats": {
    "startTime": "2025-11-25T16:36:04.021Z",
    "duration": 18776.464,
    "expected": 8,
    "skipped": 0,
    "unexpected": 0,
    "flaky": 0
  }
}